{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"PhotoPrism: Browse Your Life in Pictures \u00b6 PhotoPrism\u00ae is an AI-Powered Photos App for the Decentralized Web. It makes use of the latest technologies to tag and find pictures automatically without getting in your way. You can run it at home, on a private server, or in the cloud. Feature Overview \u00b6 Browse all your photos and videos without worrying about RAW conversion, duplicates or video formats Easily find specific pictures using powerful search filters Privacy-friendly: No data is ever sent to Google, Amazon, Facebook, or Apple unless you explicitly upload files to one of their services Recognizes the faces of your family and friends Automatic classification of pictures based on their content and location Play Live Photos by hovering over them in albums and search results Since the User Interface is a Progressive Web App , it provides a native app-like experience, and you can conveniently install it on the home screen of all major operating systems and mobile devices Includes 4 high-resolution World Maps to bring back the memories of your favorite trips Metadata is extracted and merged from Exif, XMP, and other sources such as Google Photos Many more image properties like Colors , Chroma , and Quality can be searched as well Use PhotoSync to securely backup iOS and Android phones in the background WebDAV clients such as Microsoft's Windows Explorer and Apple's Finder can connect directly to PhotoPrism, allowing you to open, edit, and delete files from your computer as if they were local TRY OUR DEMO GET STARTED Step-by-step installation instructions for our self-hosted community edition can be found in Getting Started . All you need is a Web browser and Docker to run the server. It is available for Mac, Linux, and Windows. PhotoPrism also runs on DigitalOcean , Raspberry Pi , FreeBSD , and many NAS devices .","title":"Features"},{"location":"#photoprism-browse-your-life-in-pictures","text":"PhotoPrism\u00ae is an AI-Powered Photos App for the Decentralized Web. It makes use of the latest technologies to tag and find pictures automatically without getting in your way. You can run it at home, on a private server, or in the cloud.","title":"PhotoPrism: Browse Your Life in Pictures"},{"location":"#feature-overview","text":"Browse all your photos and videos without worrying about RAW conversion, duplicates or video formats Easily find specific pictures using powerful search filters Privacy-friendly: No data is ever sent to Google, Amazon, Facebook, or Apple unless you explicitly upload files to one of their services Recognizes the faces of your family and friends Automatic classification of pictures based on their content and location Play Live Photos by hovering over them in albums and search results Since the User Interface is a Progressive Web App , it provides a native app-like experience, and you can conveniently install it on the home screen of all major operating systems and mobile devices Includes 4 high-resolution World Maps to bring back the memories of your favorite trips Metadata is extracted and merged from Exif, XMP, and other sources such as Google Photos Many more image properties like Colors , Chroma , and Quality can be searched as well Use PhotoSync to securely backup iOS and Android phones in the background WebDAV clients such as Microsoft's Windows Explorer and Apple's Finder can connect directly to PhotoPrism, allowing you to open, edit, and delete files from your computer as if they were local TRY OUR DEMO GET STARTED Step-by-step installation instructions for our self-hosted community edition can be found in Getting Started . All you need is a Web browser and Docker to run the server. It is available for Mac, Linux, and Windows. PhotoPrism also runs on DigitalOcean , Raspberry Pi , FreeBSD , and many NAS devices .","title":"Feature Overview"},{"location":"contact/","text":"Whatever it is, we'd love to hear from you! \u00b6 We appreciate feedback from our users, customers, partners, and the developer community. Please bear with us if we are unable to get back to you immediately due to the high volume of emails and contact requests we receive. If you need help installing our software at home, you can join us on Reddit , ask in our Community Chat , or post your question in GitHub Discussions . Common problems can be quickly diagnosed and solved using the Troubleshooting Checklists in Getting Started . You may contact us at privacy@photoprism.app if you have specific questions about our Privacy Policy or GDPR Compliance Statement . Security researchers may report vulnerabilities to security@photoprism.app so they do not get lost and we can respond without delay. By using our software and/or services, you agree to our terms of service , privacy policy , and code of conduct . Technical Support \u00b6 In exchange for their continued support, sponsors and customers are welcome to request direct technical support via email . File Samples \u00b6 Image and video file samples for testing can be sent to samples@photoprism.app . This ensures they don't get lost in the flood of other emails we receive every day. The subject should contain the file extensions as well as the GitHub issue number or any other reference that can be helpful. Also let us know if we have permission to upload your sample files to dl.photoprism.app/samples so that they can be used by our automated test suite and other developers. General Inquiries \u00b6 Feel free to contact us at hello@photoprism.app with anything that is on your mind, even if you just want to say hello. It is our goal to answer all questions we receive from our users, customers, partners, and the developer community. Our team also welcomes feedback if you believe something can or should be improved. Responsible for editorial content according to \u00a7 5 TMG / \u00a7 55 RStV: PhotoPrism UG (haftungsbeschr\u00e4nkt) Zimmermannstr. 37 12163 Berlin Germany Commercial Register: Berlin (Charlottenburg), HRB 240600 B Managing Directors: Theresa Gresch, Michael Mayer Phone: +49 178 168 23 42 (no cold calls) PhotoPrism\u00ae Trademark \u00b6 Please always use our official logo , do not alter it in any way, and avoid overlapping with other logos or images. When referring to PhotoPrism, make sure that it is spelled correctly: the name has two capital letters, so Photoprism is not a correct spelling PhotoPrism is one word and must not be separated into two words Our trademark and brand guidelines , which may be updated from time to time, describe how our Brand Assets may be used. It is important to us that any permitted use of our Brand Assets is fair and meets the highest standards. Sustainability and Environmental Protection \u00b6 Sustainability has been a core value for us from the beginning. That's why we ensure our office and hosting infrastructure is powered by 100% climate-neutral, renewable energy. More information can be found on the website of Polarstern Energie , the electricity provider for our Berlin office, as well as in the statements of our infrastructure partners Hetzner Online and DigitalOcean . We do not engage in crypto mining at this time and will fully assess the environmental impact before permanently adopting any distributed ledger technologies.","title":"Whatever it is, we'd love to hear from you!"},{"location":"contact/#whatever-it-is-wed-love-to-hear-from-you","text":"We appreciate feedback from our users, customers, partners, and the developer community. Please bear with us if we are unable to get back to you immediately due to the high volume of emails and contact requests we receive. If you need help installing our software at home, you can join us on Reddit , ask in our Community Chat , or post your question in GitHub Discussions . Common problems can be quickly diagnosed and solved using the Troubleshooting Checklists in Getting Started . You may contact us at privacy@photoprism.app if you have specific questions about our Privacy Policy or GDPR Compliance Statement . Security researchers may report vulnerabilities to security@photoprism.app so they do not get lost and we can respond without delay. By using our software and/or services, you agree to our terms of service , privacy policy , and code of conduct .","title":"Whatever it is, we'd love to hear from you!"},{"location":"contact/#technical-support","text":"In exchange for their continued support, sponsors and customers are welcome to request direct technical support via email .","title":"Technical Support"},{"location":"contact/#file-samples","text":"Image and video file samples for testing can be sent to samples@photoprism.app . This ensures they don't get lost in the flood of other emails we receive every day. The subject should contain the file extensions as well as the GitHub issue number or any other reference that can be helpful. Also let us know if we have permission to upload your sample files to dl.photoprism.app/samples so that they can be used by our automated test suite and other developers.","title":"File Samples"},{"location":"contact/#general-inquiries","text":"Feel free to contact us at hello@photoprism.app with anything that is on your mind, even if you just want to say hello. It is our goal to answer all questions we receive from our users, customers, partners, and the developer community. Our team also welcomes feedback if you believe something can or should be improved. Responsible for editorial content according to \u00a7 5 TMG / \u00a7 55 RStV: PhotoPrism UG (haftungsbeschr\u00e4nkt) Zimmermannstr. 37 12163 Berlin Germany Commercial Register: Berlin (Charlottenburg), HRB 240600 B Managing Directors: Theresa Gresch, Michael Mayer Phone: +49 178 168 23 42 (no cold calls)","title":"General Inquiries"},{"location":"contact/#photoprism-trademark","text":"Please always use our official logo , do not alter it in any way, and avoid overlapping with other logos or images. When referring to PhotoPrism, make sure that it is spelled correctly: the name has two capital letters, so Photoprism is not a correct spelling PhotoPrism is one word and must not be separated into two words Our trademark and brand guidelines , which may be updated from time to time, describe how our Brand Assets may be used. It is important to us that any permitted use of our Brand Assets is fair and meets the highest standards.","title":"PhotoPrism\u00ae Trademark"},{"location":"contact/#sustainability-and-environmental-protection","text":"Sustainability has been a core value for us from the beginning. That's why we ensure our office and hosting infrastructure is powered by 100% climate-neutral, renewable energy. More information can be found on the website of Polarstern Energie , the electricity provider for our Berlin office, as well as in the statements of our infrastructure partners Hetzner Online and DigitalOcean . We do not engage in crypto mining at this time and will fully assess the environmental impact before permanently adopting any distributed ledger technologies.","title":"Sustainability and Environmental Protection"},{"location":"credits/","text":"Credits \u00b6 Thanks to everyone who made this possible! Technologies \u00b6 Go , Gin and Vuetify Google TensorFlow and Material Design MkDocs and Material for MkDocs Complete list of 3rd-party software packages Infrastructure \u00b6 KeyCDN provides CDN services for our site and demo Docker hosts our app images and approved us for their Open Source Program GitHub hosts all code repositories Drone CI builds and tests our code DigitalOcean hosts our documentation and website Artwork \u00b6 AI-Generated Faces by generated.photos NGC 1499 California Nebula by Remidone Prism Light Separation by digitalvosem Follow that light by Margeois Gopher overlapping the TensorFlow logo was created by Takuya Ueda","title":"Credits"},{"location":"credits/#credits","text":"Thanks to everyone who made this possible!","title":"Credits"},{"location":"credits/#technologies","text":"Go , Gin and Vuetify Google TensorFlow and Material Design MkDocs and Material for MkDocs Complete list of 3rd-party software packages","title":"Technologies"},{"location":"credits/#infrastructure","text":"KeyCDN provides CDN services for our site and demo Docker hosts our app images and approved us for their Open Source Program GitHub hosts all code repositories Drone CI builds and tests our code DigitalOcean hosts our documentation and website","title":"Infrastructure"},{"location":"credits/#artwork","text":"AI-Generated Faces by generated.photos NGC 1499 California Nebula by Remidone Prism Light Separation by digitalvosem Follow that light by Margeois Gopher overlapping the TensorFlow logo was created by Takuya Ueda","title":"Artwork"},{"location":"funding/","text":"Help Us Make a Difference \u00b6 We value freedom and privacy. Serving free beer 1 doesn't bring us closer to our vision and doesn't get you better software. Please back us on Patreon or GitHub Sponsors if you enjoy PhotoPrism. Your continued support helps us provide regular updates 2 and services like world maps . We currently have the following sponsorship options: GitHub Sponsors is priced in USD and also offers one-time donations Patreon is priced in Euro and also offers yearly payments Stripe will be available in early 2022, so you can sign up directly in the app without having a Patreon or GitHub account You are welcome to contact us for crypto donations , bank account details, and business partnerships Sponsors get access to additional features , receive direct technical support via email, and can join our private chat room on matrix.org . In addition, ideas endorsed by silver, gold, and platinum sponsors receive a golden label and will be prioritized on the roadmap . 3 We encourage everyone who can afford it to become a sponsor as this is ultimately best for the product and the community. Think of \u201cfree software\u201d as in \u201cfree speech,\u201d not as in \u201cfree beer.\u201d We sometimes call it \u201clibre software,\u201d borrowing the French or Spanish word for \u201cfree\u201d as in freedom, to show we do not mean the software is gratis. ( https://www.gnu.org/philosophy/free-sw.en.html ) \u21a9 Unlike traditional offline apps such as Microsoft Office or single-player games, software exposed to the Internet must be updated regularly to stay secure and compatible with the latest standards. \u21a9 We have a zero bug policy and do our best to help users when they need support or have other questions. This comes at a price, as we can't give exact deadlines for new features. Our team will consider all requests, but is not obligated to implement the features, improvements, or other changes you request. \u21a9","title":"Help Us Make a Difference"},{"location":"funding/#help-us-make-a-difference","text":"We value freedom and privacy. Serving free beer 1 doesn't bring us closer to our vision and doesn't get you better software. Please back us on Patreon or GitHub Sponsors if you enjoy PhotoPrism. Your continued support helps us provide regular updates 2 and services like world maps . We currently have the following sponsorship options: GitHub Sponsors is priced in USD and also offers one-time donations Patreon is priced in Euro and also offers yearly payments Stripe will be available in early 2022, so you can sign up directly in the app without having a Patreon or GitHub account You are welcome to contact us for crypto donations , bank account details, and business partnerships Sponsors get access to additional features , receive direct technical support via email, and can join our private chat room on matrix.org . In addition, ideas endorsed by silver, gold, and platinum sponsors receive a golden label and will be prioritized on the roadmap . 3 We encourage everyone who can afford it to become a sponsor as this is ultimately best for the product and the community. Think of \u201cfree software\u201d as in \u201cfree speech,\u201d not as in \u201cfree beer.\u201d We sometimes call it \u201clibre software,\u201d borrowing the French or Spanish word for \u201cfree\u201d as in freedom, to show we do not mean the software is gratis. ( https://www.gnu.org/philosophy/free-sw.en.html ) \u21a9 Unlike traditional offline apps such as Microsoft Office or single-player games, software exposed to the Internet must be updated regularly to stay secure and compatible with the latest standards. \u21a9 We have a zero bug policy and do our best to help users when they need support or have other questions. This comes at a price, as we can't give exact deadlines for new features. Our team will consider all requests, but is not obligated to implement the features, improvements, or other changes you request. \u21a9","title":"Help Us Make a Difference"},{"location":"release-notes/","text":"Release Notes \u00b6 Back us on Patreon or GitHub Sponsors . Your continued support helps us provide regular updates and services like world maps . Thank you! Development Preview \u00b6 Build 220521-441b51b2 This service release fixes potential issues with our new Debian 12-based Docker image which was part of the last update. These may have prevented some users from updating PhotoPrism without making changes to their environment. In our ongoing effort to improve usability and performance, we have also made improvements to the user interface, such as using the operating system font by default instead of Google's Roboto. Auth: Short initial passwords are permitted again to avoid login problems Logs: Repeated log messages are omitted to prevent feedback loops Logs: Only messages with a log level of info or higher are displayed in the UI Search: mono:true filter now omits files with unknown chroma Docker: Removed incorrect permission check for storage folder on startup Docker: Supported User and Group ID ranges have been documented You can test upcoming features and improvements by changing the image from photoprism/photoprism:latest to photoprism/photoprism:preview in your docker-compose.yml . Then pull the most recent image and restart your instance. May 17, 2022 \u00b6 Build 220517-b9c68f8f This update features search UX improvements, a new Docker base image based on Debian 12 \"Bookworm\", as well as fixes for recently discovered issues. Front- and backend translations in numerous languages have been added and updated. Thanks to all involved! File Formats: Added native support for WebP images and animated GIFs UX: RAW files are skipped by default when downloading photos and ZIP archives Auth: Passwords must have at least 8 characters to mitigate brute-force attacks Search: User interface and database performance optimizations Search: Fixed occasional lag when entering queries in the search toolbar Search: Improved album:... filter supports numeric names, albums:.. also AND/OR Search: Improved camera:... and lens:... filters accept names in addition to IDs Search: Added square:yes and landscape:yes filters Albums: \"Add to album\" dialog preloads more names for auto-completion Albums: Album names are shortened if necessary to avoid errors when saving Albums: Fixed accidental creation of duplicates by pressing Enter multiple times People: Improved logging and fixed potential issues with matching unrecognized faces Places: Number of pictures rendered on the map has been limited to 500,000 Library: Added button to clear log history in Library > Errors Library: RAW previews and the number of actual files are shown under Originals Library: Disabled hidden files warning while indexing as it can be misleading Index: Fixed errors when re-indexing libraries with archived photos Index: RAW and video conversion commands run in a virtual home directory Thumbnails: Reduced default JPEG quality from 92 to 85 to optimize storage and loading Metadata: Manual local time changes are always preserved when reindexing Metadata: Fixed Exif orientation flag when converting HEIF/HEIC images to JPEG Metadata: Fault-tolerant parsing of timestamps from Exif and JSON sidecar files Metadata: Improved parsing of two-digit years in original file paths Metadata: Exif IFD1 tags with existing IFD0 values are ignored to improve standard compliance Metadata: Brute-force search is skipped by default if no Exif headers were found in JPEG, PNG, TIFF, and HEIF files Metadata: SubSecDateTimeOriginal and SubSecCreateDate timestamps are preferred WebDAV: Up- and download sync can no longer be enabled at the same time to prevent unexpected behavior WebDAV: Added timeout/retry settings and improved handling of sync errors WebDAV: Fixed sharing videos and uploading automatically created albums CLI: Renamed --config-file to --defaults-yaml and improved command help CLI: Added short names for common config flags, e.g. -i for --wakeup-interval CLI: Run photoprism show tags to display metadata tags and supported standards CLI: Run photoprism show formats to display supported media and sidecar file formats CLI: Run photoprism show filters to display a search filter overview with examples Config: Improved FFmpeg parameters for Intel QSV hardware transcoding Config: Added NVIDIA hardware video transcoding support for sponsors Config: Added --disable-raw flag to disable indexing and conversion of RAW files Config: Added --resolution-limit option to skip high-resolution images when indexing Docker: New Debian 12 \"Bookworm\" base image with FFmpeg 4.4.1 and Darktable 3.8.1 Docker: Added default users and groups for enhanced video transcoding compatibility Translations: Added Swedish, Romanian, Turkish, Lithuanian, Bulgarian, Malay, and Croatian March 2, 2022 \u00b6 Build 220302-0059f429 The Docker images for this release are based on Debian 11 \"Bullseye\" and include many updated dependencies such as Darktable 3.8 . Behind the scenes, the build process has also been improved so that it will be easier to provide standalone packages in the future. Auth: New login screen with more space for buttons, links, and legal information Metadata: Redesigned file details tab in the edit dialog Metadata: Support for Zulu formatted timestamps in Exiftool JSON and XMP Sharing: Fixed upload of complete albums via WebDAV Sharing: Manual WebDAV upload of video and RAW files iOS: Fixed multi-select via long touch in Safari PWA mode API: Added cache control header for faster thumbnail loading Config: Simplified configuration of Unix domain socket database connections Config: Added --imprint and --imprint-url to display legal information in the footer Docker: Automatic installation of compatible CPU and GPU drivers Translations: Updated all front- and backend locales You can now join us on translate.photoprism.app to help translate the UI! January 21, 2022 \u00b6 Build 220121-2b4c8e1f We've generated missing translations with the help of DeepL and Google Translate. Native speakers are invited to help us improve those if needed. Learn how to contribute . Minimum memory requirements have been reduced to 3 GB Photos: Fixed buttons in full screen view People: Fixed typo that prevented face matching optimization Moments: Improved update performance on MariaDB Translations: Pre-translated missing UI messages January 18, 2022 \u00b6 Build 220118-76c94a1f Auth: Logout redirects to base URI instead of site root Videos: Excluded streaming from gzip compression Videos: Fixed Content-Type header and streaming in Safari Folders: Fixed search query string substitutions and sanitation UI: Updated information and links in Settings > About UI: Improved bootstrap template rendering performance January 7, 2022 \u00b6 Build 220107-f5b7ef83 Based on our zero bug policy, this update focuses on bug fixes, security, and UX improvements for search filters, metadata, and the indexer. In addition, one of the merged pull requests may improve face recognition performance on smaller devices and with large libraries. People: Improved update performance on MariaDB People: Improved contrast of person selection menu Albums: Private pictures are excluded from download as zip Search: Improved query parser for additional security Search: Added uid:... search filter to find photos by uid Search: keywords:... filter does not exclude stopwords anymore Index: Original filenames can be extracted from Exiftool JSON Index: More accurate and resilient handling of related files and photo stacks Live Photos: HEIF is used to create primary JPEG instead of a MOV still image Metadata: Reduced log level for missing Exif data from warn to info Metadata: Increased size of projection and color profile fields to 40 characters Backups: Improved help for config options and CLI commands Help: Fixed reverse proxy documentation links Config: Added Apple Video Toolbox hardware transcoding support for macOS Config: Added /opt/photoprism to search path for asset and storage folders December 15, 2021 \u00b6 Build 211215-93b26f19 PhotoPrism is not directly affected by the Apache Log4j vulnerability. Logs may still contain messages that can cause harm if consumed by an unpatched Java application. As a precaution, this release includes additional rules and filters to validate user input . Sharing: Fixed album link redirect on shared domains Import: More helpful warning when another import is already running Docker: ARMv7 image for 32-bit processors and operating systems December 10, 2021 \u00b6 Build 211210-2cb90e7e Starting with this release, the regular multi-arch Docker image is 64-bit only. A 32-bit version of our stable release for older devices is offered separately. This frees up development and infrastructure resources with minimal impact. Based on Go version 1.17.5, which includes important HTTP/2 and network security fixes People: Concurrent updates are no longer possible to prevent inconsistencies Places: Additional logs to detect invalid GPS coordinates in metadata SQLite: Reduced routine maintenance log levels and fixed migration warnings Thumbnails: Apple Display P3 profile support for more accurate colors Translations: Updated French December 3, 2021 \u00b6 Build 211203-fdb6b5e1 Since the funding goal required to make all features and maps generally available has not been reached, early-access features have been renamed to sponsor features in this update. Offline and high-resolution street maps remain free for everyone, while hybrid, topographic, and outdoor maps are now a sponsor feature. We believe this is fair. A big thank you to all our sponsors and contributors ! CLI: Improved parameter and command descriptions CLI: Reset command optionally also deletes files in the cache folder Config: Improved docker-compose.yml examples November 30, 2021 \u00b6 Build 211130-13cfcf6d Videos: Live photos page has been added to the sub-navigation Albums: Manually created albums are sorted by name, with favorites first Places: Improved location details in border regions and near Paris PWA: Updated app icons, style is now also applied to the user interface For our sponsors and contributors : UI: New Abyss and Gemstone dark themes \ud83d\udc8e November 28, 2021 \u00b6 Build 211128-7e8974fd Official support for MySQL 8 is discontinued with this update as Oracle seems to have stopped shipping new features and improvements . As a result, the testing effort required before each release is no longer feasible. We recommend upgrading to MariaDB 10.6 or later. PostgreSQL support is planned for 2022 without a specific release date yet. CLI: photoprism migrations run --failed will re-run previously failed migrations November 27, 2021 \u00b6 Build 211127-86c43159 When possible, location estimates now include a latitude and longitude. Photos load faster when you open them in Places , and the viewer sorts them by distance. Time zone handling has been completely reworked, in particular for UTC. The Docker base image has been upgraded to Ubuntu 21.10, which ships with Darktable 3.6 among other updated dependencies. UX: Redesigned splash screen based on theme colors Places: Viewer loads faster and sorts photos by distance instead of date Places: Less frequent estimates to reduce background activity Places: Normalized names of states, oceans, and lakes Places: Updated location data from OpenStreetMap Places: State albums are grouped by country name Folders: Path names are searched in addition to titles People: Improved face detection performance People: Fixed naming faces in non-primary files People: Optimized matching of children's faces RAW: Upgraded Darktable to 3.6.0 Metadata: Improved estimates and UTC time zone handling Metadata: Altitude is indexed even if coordinates are missing Auth: Usernames are not case-sensitive anymore CLI: Added --force flag to photoprism optimize command CLI: Improved parameter and command descriptions Config: Improved docker-compose.yml examples Translations: Added Bahasa Indonesia and Hungarian Translations: Updated Polish and Italian For our sponsors and contributors : CLI: Run photoprism places update to retrieve updated location details Config: Set PHOTOPRISM_APP_ICON to choose an alternative PWA icon October 18, 2021 \u00b6 Build 211018-e200f322 UI: Updated Lavender theme Places: Fixed maps initialization after reload in non-public mode Search: Added live and raw:true filters as alternative to type:\u2026 Search: Added faces:new alias for face:new Config: Maximum background worker interval has been increased to 7 days Security: Added Content-Security-Policy header to prevent framing attacks Translations: Updated Russian and Slovak For our sponsors and contributors : UI: New Vanta dark theme \u2728 October 10, 2021 \u00b6 Build 211010-83b4f783 Translations: Fixed German frontend typo Translations: Updated all backend locales We've generated missing translations with the help of DeepL and Google Translate. Native speakers are invited to help us improve those if needed. Learn how to contribute . October 9, 2021 \u00b6 Build 211009-d6cc8df5` UX: Improved wording of search result notifications UX: Fixed sidebar navigation on small screens Users: Show name and email in sidebar navigation Folders: Directory names listed in .ppignore are ignored Config: Allows bypassing low memory suggestion Docs: Updated about page Translations: Updated all frontend locales October 7, 2021 \u00b6 Build 211007-8f55d6f8 People: Improved stability and performance of new faces overview page Index: Duplicate error logs caused by broken JPEG files have been removed UX: Enhanced visibility of file errors in the edit dialog files tab CLI: Revised descriptions of commands and configuration flags For our sponsors and contributors : People: Recognized faces can be hidden on the overview page October 2, 2021 \u00b6 Build 211002-bf015326 People: Enhanced UI / UX for renaming and merging faces People: Improved face detection accuracy Labels: Improved photo count accuracy Covers: Thumbnails load and update faster Search: Finds titles when query is too short for full-text index Search: name:\u2026 filter ignores path and extension Videos: Optional Intel GPU hardware transcoding support Index: Automatic cleanup of orphaned file entries Logs: Updated log messages for improved readability Translations: Updated German and French Docker: Simplified installation of TensorFlow with AVX / AVX2 support Docker: Entrypoint script uses prefixed environment variables, UID and GID are deprecated September 25, 2021 \u00b6 Build 210925-96168e4b Recognizes faces so that specific people can be found UX: Improved UI design, navigation, and wording Search: Omit full-text index if query is too short Search: Added keywords:\u2026 , subjects:\u2026 , and albums:\u2026 filters Places: Internationalized maps incl RTL support Labels: Added photo counts to overview page Albums: Fixed share expiration date in form label Calendar: Empty month albums are hidden Viewer: Photos will be updated when search filters change Index: Ignore Synology @eaDir folders Import: Ignore dot files listed in .ppignore Upload: Added more detailed error logs Videos: Skip related images when downloading Videos: Added .mp as known MP4 file extension Videos: Default to UTC as metadata time zone Exiftool: Enabled large file support Metadata: Improved Exif parser with cycle detection Metadata: Support for long projection type names like transverse-cylindrical Config: Added RAW file extension blacklists for Darktable and RawTherapee Config: Added disable options for image classification and facial recognition Config: Added support for non-root site URLs Config: Added content delivery network URL option MariaDB: Set explicit table engine, charset, and collation MariaDB: Added log message for old versions with broken table name resolution Docker: Added HOME env for Darktable & RawTherapee Docker: Single multi-arch image for AMD64, ARM64, and ARMv7 May 23, 2021 \u00b6 Build 210523-b1856b9d RAW: Added RawTherapee flag to use existing sidecar files Import: Never remove ignored folders such as for Syncthing May 20, 2021 \u00b6 Build 210520-4b32bac7 Docker: Fixed home directory permissions in new base image HEIF: Test if JPEG was already rotated based on video metadata May 19, 2021 \u00b6 Build 210519-24b5c7e6 Metadata: Upgraded Exiftool to fix security issue May 18, 2021 \u00b6 Build 210518-80981c25 Safari: Fixed PWA file download on iOS Docker: Added config example for scheduled background tasks Docker: Updated base image includes Darktable 3.4.1, RawTherapee 5.8, and FFmpeg 4.3.2 TensorFlow: Improved error handling Translations: Updated French May 5, 2021 \u00b6 Build 210505-d3e53a89 UI: Improved RTL (right-to-left language) alignment RAW: Added config options to disable specific converters Metadata: Preserve stopwords in existing keywords Metadata: Allow single quotes in keywords WebDAV: Keep favorite flag when uploading via PhotoSync Translations: Updated Dutch and German April 26, 2021 \u00b6 Build 210426-da6e948f UI: Added Yellowstone theme for sponsors, unlocked Grayscale theme for everyone Metadata: Support for XMP sidecar CreateDate and Keywords Metadata: Merge keywords from different sources Translations: Updated Hebrew April 22, 2021 \u00b6 Build 210422-97e75b04 UX: Improved touch event accuracy UX: Optimized rendering on small screens UX: Fixed autocomplete in \"add to album\" dialog HEIF: Prevent redundant sidecar JPEG files Backup: Added command flags and usage docs Translations: Added Danish and Kurdish February 22, 2021 \u00b6 Build 210222-ac5a9d5e UX: Autofocus for input fields and confirm on enter Restore: Find YAML album backups in originals folder Metadata: Improved location labels and moments Thumbnails: Fixed auto-rotation for HEIF, TIFF, and PNG images Translations: Added Norwegian (Bokm\u00e5l) February 17, 2021 \u00b6 Build 210217-49039368 Videos: Optimized transcoding parameters Videos: Use AAC audio for MP4 transcoding Metadata: Default to landscape orientation if data is invalid Translations: Updated Brazilian Portuguese February 16, 2021 \u00b6 Build 210216-4939e36a UX: Automatically hide scrollbar in photo viewer and Places Delete: Permanently remove all related sidecar files Videos: Added transcoding config options Videos: Added batch transcoding via convert command Metadata: Remove estimate when setting a new country Metadata: Workaround for Exif strings containing newlines February 11, 2021 \u00b6 Build 210211-b9595dd4 Videos: Native player featuring performance and UX improvements Index: Improved detection of missing photos, files, and folders February 8, 2021 \u00b6 Build 210208-9e10ba69 Upload: Adds duplicates to selected albums as well Library: Show folder covers in Originals Metadata: Automatically remove orphan countries, cameras, and lenses Metadata: Improved Exif parser Backup: Restore archive flag from YAML files Docker: Improved entrypoint script January 28, 2021 \u00b6 Build 210128-a82061e0 UX: Improved theme colors and icons UX: Download all related media files using their current name by default UX: Redirect already authenticated users from /login to /browse Mobile: Prevent like on touch swipe Translations: Updated German and French Config: Reduced auto index & import safety delay defaults Metadata: Improved photo titles, removed small words from title endings Metadata: Improved date extraction from current and original file names Metadata: Fallback to earliest file mod time in case there is no other date Import: Index keywords from non-primary filenames as well WebDAV: Improved service discovery Purge: Hide missing files in edit dialog and set new primary if needed Archive: Physically delete files after confirmation Moments: Added delete button to context menu Settings: Added Estimates and Delete feature flags CLI: Added cleanup command to remove orphaned index entries and thumbnails January 21, 2021 \u00b6 Build 210121-07e559df UX: Improved video playback and icons UX: Restructured main navigation Mobile: Show search field in albums January 20, 2021 \u00b6 Build 210120-e7cd5e9a API: Apply limit, offset and sort order when searching for IDs ARM64: Reverted database image back to arm64v8/mariadb in config example January 19, 2021 \u00b6 Build 210119-a5399f06 UX: Optimized user interface for iOS and tablets UX: Improved theme colors UX: Scroll position is restored when navigating back Translations: Added Czech Metadata: Estimate timezone and allow overwriting estimated locations Settings: Fixed disabling logs For our sponsors and contributors : UX: Added two dark themes January 11, 2021 \u00b6 Build 210111-cc05c430 UX: Disabled preloading in live photo player to reduce memory footprint UX: Updated main navigation, find all media types via /browse UX: Removed lag when selecting pictures UX: Tweaked tile size breakpoints in Albums , Labels , and Search UX: Added tooltips to navigation expand and minimize buttons UX: Preload additional search results UX: Removed image loading spinners for faster rendering Thumbnails: Added cache control headers for improved performance Album Covers: Cache will be flushed after updating private flags Search: Improved performance of photos query PWA : Added service worker so that app can be installed more easily PWA : Enabled auto-rotate so that photos may be viewed in landscape mode Frontend: Removed unused dependencies and reduced build size Translations: Updated Russian , French , Simplified Chinese , and German Index: Automatically create JPEGs for related media files as well Import: Improved error handling when the file system becomes unavailable Config: Updated docker-compose.yml examples Config: Added optional gzip compression for built-in web server Config: Limit number of indexing workers to half the number of physical cores by default to avoid high load on hyper-threading capable CPUs January 4, 2021 \u00b6 Build 210104-7f9e806a Config: Added auto index & import defaults to Dockerfiles Import: Extract metadata with ExifTool before moving Import: Automatically create folder albums Help: Updated WebSocket page UX: Added UI.Zoom setting to re-enable page zoom UI: Updated default theme Translations: Added Hebrew & Japanese, updated Brazilian Portuguese Albums & Cards View: Reduced tile size on large screens WebDAV: Less verbose logging January 2, 2021 \u00b6 Build 210102-af71e5f7 WebDAV: Uploads and other changes trigger auto indexing / importing Config: Use random hash for improved preview token security UX: Disabled page zoom so that app feels more native on mobile devices UX: Reduced min password length to 4 characters UX: Improved docker-compose.yml examples UX: Reduced icon size in \"add to album\" dialog December 31, 2020 \u00b6 Build 201231-8e22fbf8 Initial Stable Release","title":"Release Notes"},{"location":"release-notes/#release-notes","text":"Back us on Patreon or GitHub Sponsors . Your continued support helps us provide regular updates and services like world maps . Thank you!","title":"Release Notes"},{"location":"release-notes/#development-preview","text":"Build 220521-441b51b2 This service release fixes potential issues with our new Debian 12-based Docker image which was part of the last update. These may have prevented some users from updating PhotoPrism without making changes to their environment. In our ongoing effort to improve usability and performance, we have also made improvements to the user interface, such as using the operating system font by default instead of Google's Roboto. Auth: Short initial passwords are permitted again to avoid login problems Logs: Repeated log messages are omitted to prevent feedback loops Logs: Only messages with a log level of info or higher are displayed in the UI Search: mono:true filter now omits files with unknown chroma Docker: Removed incorrect permission check for storage folder on startup Docker: Supported User and Group ID ranges have been documented You can test upcoming features and improvements by changing the image from photoprism/photoprism:latest to photoprism/photoprism:preview in your docker-compose.yml . Then pull the most recent image and restart your instance.","title":"Development Preview"},{"location":"release-notes/#may-17-2022","text":"Build 220517-b9c68f8f This update features search UX improvements, a new Docker base image based on Debian 12 \"Bookworm\", as well as fixes for recently discovered issues. Front- and backend translations in numerous languages have been added and updated. Thanks to all involved! File Formats: Added native support for WebP images and animated GIFs UX: RAW files are skipped by default when downloading photos and ZIP archives Auth: Passwords must have at least 8 characters to mitigate brute-force attacks Search: User interface and database performance optimizations Search: Fixed occasional lag when entering queries in the search toolbar Search: Improved album:... filter supports numeric names, albums:.. also AND/OR Search: Improved camera:... and lens:... filters accept names in addition to IDs Search: Added square:yes and landscape:yes filters Albums: \"Add to album\" dialog preloads more names for auto-completion Albums: Album names are shortened if necessary to avoid errors when saving Albums: Fixed accidental creation of duplicates by pressing Enter multiple times People: Improved logging and fixed potential issues with matching unrecognized faces Places: Number of pictures rendered on the map has been limited to 500,000 Library: Added button to clear log history in Library > Errors Library: RAW previews and the number of actual files are shown under Originals Library: Disabled hidden files warning while indexing as it can be misleading Index: Fixed errors when re-indexing libraries with archived photos Index: RAW and video conversion commands run in a virtual home directory Thumbnails: Reduced default JPEG quality from 92 to 85 to optimize storage and loading Metadata: Manual local time changes are always preserved when reindexing Metadata: Fixed Exif orientation flag when converting HEIF/HEIC images to JPEG Metadata: Fault-tolerant parsing of timestamps from Exif and JSON sidecar files Metadata: Improved parsing of two-digit years in original file paths Metadata: Exif IFD1 tags with existing IFD0 values are ignored to improve standard compliance Metadata: Brute-force search is skipped by default if no Exif headers were found in JPEG, PNG, TIFF, and HEIF files Metadata: SubSecDateTimeOriginal and SubSecCreateDate timestamps are preferred WebDAV: Up- and download sync can no longer be enabled at the same time to prevent unexpected behavior WebDAV: Added timeout/retry settings and improved handling of sync errors WebDAV: Fixed sharing videos and uploading automatically created albums CLI: Renamed --config-file to --defaults-yaml and improved command help CLI: Added short names for common config flags, e.g. -i for --wakeup-interval CLI: Run photoprism show tags to display metadata tags and supported standards CLI: Run photoprism show formats to display supported media and sidecar file formats CLI: Run photoprism show filters to display a search filter overview with examples Config: Improved FFmpeg parameters for Intel QSV hardware transcoding Config: Added NVIDIA hardware video transcoding support for sponsors Config: Added --disable-raw flag to disable indexing and conversion of RAW files Config: Added --resolution-limit option to skip high-resolution images when indexing Docker: New Debian 12 \"Bookworm\" base image with FFmpeg 4.4.1 and Darktable 3.8.1 Docker: Added default users and groups for enhanced video transcoding compatibility Translations: Added Swedish, Romanian, Turkish, Lithuanian, Bulgarian, Malay, and Croatian","title":"May 17, 2022"},{"location":"release-notes/#march-2-2022","text":"Build 220302-0059f429 The Docker images for this release are based on Debian 11 \"Bullseye\" and include many updated dependencies such as Darktable 3.8 . Behind the scenes, the build process has also been improved so that it will be easier to provide standalone packages in the future. Auth: New login screen with more space for buttons, links, and legal information Metadata: Redesigned file details tab in the edit dialog Metadata: Support for Zulu formatted timestamps in Exiftool JSON and XMP Sharing: Fixed upload of complete albums via WebDAV Sharing: Manual WebDAV upload of video and RAW files iOS: Fixed multi-select via long touch in Safari PWA mode API: Added cache control header for faster thumbnail loading Config: Simplified configuration of Unix domain socket database connections Config: Added --imprint and --imprint-url to display legal information in the footer Docker: Automatic installation of compatible CPU and GPU drivers Translations: Updated all front- and backend locales You can now join us on translate.photoprism.app to help translate the UI!","title":"March 2, 2022"},{"location":"release-notes/#january-21-2022","text":"Build 220121-2b4c8e1f We've generated missing translations with the help of DeepL and Google Translate. Native speakers are invited to help us improve those if needed. Learn how to contribute . Minimum memory requirements have been reduced to 3 GB Photos: Fixed buttons in full screen view People: Fixed typo that prevented face matching optimization Moments: Improved update performance on MariaDB Translations: Pre-translated missing UI messages","title":"January 21, 2022"},{"location":"release-notes/#january-18-2022","text":"Build 220118-76c94a1f Auth: Logout redirects to base URI instead of site root Videos: Excluded streaming from gzip compression Videos: Fixed Content-Type header and streaming in Safari Folders: Fixed search query string substitutions and sanitation UI: Updated information and links in Settings > About UI: Improved bootstrap template rendering performance","title":"January 18, 2022"},{"location":"release-notes/#january-7-2022","text":"Build 220107-f5b7ef83 Based on our zero bug policy, this update focuses on bug fixes, security, and UX improvements for search filters, metadata, and the indexer. In addition, one of the merged pull requests may improve face recognition performance on smaller devices and with large libraries. People: Improved update performance on MariaDB People: Improved contrast of person selection menu Albums: Private pictures are excluded from download as zip Search: Improved query parser for additional security Search: Added uid:... search filter to find photos by uid Search: keywords:... filter does not exclude stopwords anymore Index: Original filenames can be extracted from Exiftool JSON Index: More accurate and resilient handling of related files and photo stacks Live Photos: HEIF is used to create primary JPEG instead of a MOV still image Metadata: Reduced log level for missing Exif data from warn to info Metadata: Increased size of projection and color profile fields to 40 characters Backups: Improved help for config options and CLI commands Help: Fixed reverse proxy documentation links Config: Added Apple Video Toolbox hardware transcoding support for macOS Config: Added /opt/photoprism to search path for asset and storage folders","title":"January 7, 2022"},{"location":"release-notes/#december-15-2021","text":"Build 211215-93b26f19 PhotoPrism is not directly affected by the Apache Log4j vulnerability. Logs may still contain messages that can cause harm if consumed by an unpatched Java application. As a precaution, this release includes additional rules and filters to validate user input . Sharing: Fixed album link redirect on shared domains Import: More helpful warning when another import is already running Docker: ARMv7 image for 32-bit processors and operating systems","title":"December 15, 2021"},{"location":"release-notes/#december-10-2021","text":"Build 211210-2cb90e7e Starting with this release, the regular multi-arch Docker image is 64-bit only. A 32-bit version of our stable release for older devices is offered separately. This frees up development and infrastructure resources with minimal impact. Based on Go version 1.17.5, which includes important HTTP/2 and network security fixes People: Concurrent updates are no longer possible to prevent inconsistencies Places: Additional logs to detect invalid GPS coordinates in metadata SQLite: Reduced routine maintenance log levels and fixed migration warnings Thumbnails: Apple Display P3 profile support for more accurate colors Translations: Updated French","title":"December 10, 2021"},{"location":"release-notes/#december-3-2021","text":"Build 211203-fdb6b5e1 Since the funding goal required to make all features and maps generally available has not been reached, early-access features have been renamed to sponsor features in this update. Offline and high-resolution street maps remain free for everyone, while hybrid, topographic, and outdoor maps are now a sponsor feature. We believe this is fair. A big thank you to all our sponsors and contributors ! CLI: Improved parameter and command descriptions CLI: Reset command optionally also deletes files in the cache folder Config: Improved docker-compose.yml examples","title":"December 3, 2021"},{"location":"release-notes/#november-30-2021","text":"Build 211130-13cfcf6d Videos: Live photos page has been added to the sub-navigation Albums: Manually created albums are sorted by name, with favorites first Places: Improved location details in border regions and near Paris PWA: Updated app icons, style is now also applied to the user interface For our sponsors and contributors : UI: New Abyss and Gemstone dark themes \ud83d\udc8e","title":"November 30, 2021"},{"location":"release-notes/#november-28-2021","text":"Build 211128-7e8974fd Official support for MySQL 8 is discontinued with this update as Oracle seems to have stopped shipping new features and improvements . As a result, the testing effort required before each release is no longer feasible. We recommend upgrading to MariaDB 10.6 or later. PostgreSQL support is planned for 2022 without a specific release date yet. CLI: photoprism migrations run --failed will re-run previously failed migrations","title":"November 28, 2021"},{"location":"release-notes/#november-27-2021","text":"Build 211127-86c43159 When possible, location estimates now include a latitude and longitude. Photos load faster when you open them in Places , and the viewer sorts them by distance. Time zone handling has been completely reworked, in particular for UTC. The Docker base image has been upgraded to Ubuntu 21.10, which ships with Darktable 3.6 among other updated dependencies. UX: Redesigned splash screen based on theme colors Places: Viewer loads faster and sorts photos by distance instead of date Places: Less frequent estimates to reduce background activity Places: Normalized names of states, oceans, and lakes Places: Updated location data from OpenStreetMap Places: State albums are grouped by country name Folders: Path names are searched in addition to titles People: Improved face detection performance People: Fixed naming faces in non-primary files People: Optimized matching of children's faces RAW: Upgraded Darktable to 3.6.0 Metadata: Improved estimates and UTC time zone handling Metadata: Altitude is indexed even if coordinates are missing Auth: Usernames are not case-sensitive anymore CLI: Added --force flag to photoprism optimize command CLI: Improved parameter and command descriptions Config: Improved docker-compose.yml examples Translations: Added Bahasa Indonesia and Hungarian Translations: Updated Polish and Italian For our sponsors and contributors : CLI: Run photoprism places update to retrieve updated location details Config: Set PHOTOPRISM_APP_ICON to choose an alternative PWA icon","title":"November 27, 2021"},{"location":"release-notes/#october-18-2021","text":"Build 211018-e200f322 UI: Updated Lavender theme Places: Fixed maps initialization after reload in non-public mode Search: Added live and raw:true filters as alternative to type:\u2026 Search: Added faces:new alias for face:new Config: Maximum background worker interval has been increased to 7 days Security: Added Content-Security-Policy header to prevent framing attacks Translations: Updated Russian and Slovak For our sponsors and contributors : UI: New Vanta dark theme \u2728","title":"October 18, 2021"},{"location":"release-notes/#october-10-2021","text":"Build 211010-83b4f783 Translations: Fixed German frontend typo Translations: Updated all backend locales We've generated missing translations with the help of DeepL and Google Translate. Native speakers are invited to help us improve those if needed. Learn how to contribute .","title":"October 10, 2021"},{"location":"release-notes/#october-9-2021","text":"Build 211009-d6cc8df5` UX: Improved wording of search result notifications UX: Fixed sidebar navigation on small screens Users: Show name and email in sidebar navigation Folders: Directory names listed in .ppignore are ignored Config: Allows bypassing low memory suggestion Docs: Updated about page Translations: Updated all frontend locales","title":"October 9, 2021"},{"location":"release-notes/#october-7-2021","text":"Build 211007-8f55d6f8 People: Improved stability and performance of new faces overview page Index: Duplicate error logs caused by broken JPEG files have been removed UX: Enhanced visibility of file errors in the edit dialog files tab CLI: Revised descriptions of commands and configuration flags For our sponsors and contributors : People: Recognized faces can be hidden on the overview page","title":"October 7, 2021"},{"location":"release-notes/#october-2-2021","text":"Build 211002-bf015326 People: Enhanced UI / UX for renaming and merging faces People: Improved face detection accuracy Labels: Improved photo count accuracy Covers: Thumbnails load and update faster Search: Finds titles when query is too short for full-text index Search: name:\u2026 filter ignores path and extension Videos: Optional Intel GPU hardware transcoding support Index: Automatic cleanup of orphaned file entries Logs: Updated log messages for improved readability Translations: Updated German and French Docker: Simplified installation of TensorFlow with AVX / AVX2 support Docker: Entrypoint script uses prefixed environment variables, UID and GID are deprecated","title":"October 2, 2021"},{"location":"release-notes/#september-25-2021","text":"Build 210925-96168e4b Recognizes faces so that specific people can be found UX: Improved UI design, navigation, and wording Search: Omit full-text index if query is too short Search: Added keywords:\u2026 , subjects:\u2026 , and albums:\u2026 filters Places: Internationalized maps incl RTL support Labels: Added photo counts to overview page Albums: Fixed share expiration date in form label Calendar: Empty month albums are hidden Viewer: Photos will be updated when search filters change Index: Ignore Synology @eaDir folders Import: Ignore dot files listed in .ppignore Upload: Added more detailed error logs Videos: Skip related images when downloading Videos: Added .mp as known MP4 file extension Videos: Default to UTC as metadata time zone Exiftool: Enabled large file support Metadata: Improved Exif parser with cycle detection Metadata: Support for long projection type names like transverse-cylindrical Config: Added RAW file extension blacklists for Darktable and RawTherapee Config: Added disable options for image classification and facial recognition Config: Added support for non-root site URLs Config: Added content delivery network URL option MariaDB: Set explicit table engine, charset, and collation MariaDB: Added log message for old versions with broken table name resolution Docker: Added HOME env for Darktable & RawTherapee Docker: Single multi-arch image for AMD64, ARM64, and ARMv7","title":"September 25, 2021"},{"location":"release-notes/#may-23-2021","text":"Build 210523-b1856b9d RAW: Added RawTherapee flag to use existing sidecar files Import: Never remove ignored folders such as for Syncthing","title":"May 23, 2021"},{"location":"release-notes/#may-20-2021","text":"Build 210520-4b32bac7 Docker: Fixed home directory permissions in new base image HEIF: Test if JPEG was already rotated based on video metadata","title":"May 20, 2021"},{"location":"release-notes/#may-19-2021","text":"Build 210519-24b5c7e6 Metadata: Upgraded Exiftool to fix security issue","title":"May 19, 2021"},{"location":"release-notes/#may-18-2021","text":"Build 210518-80981c25 Safari: Fixed PWA file download on iOS Docker: Added config example for scheduled background tasks Docker: Updated base image includes Darktable 3.4.1, RawTherapee 5.8, and FFmpeg 4.3.2 TensorFlow: Improved error handling Translations: Updated French","title":"May 18, 2021"},{"location":"release-notes/#may-5-2021","text":"Build 210505-d3e53a89 UI: Improved RTL (right-to-left language) alignment RAW: Added config options to disable specific converters Metadata: Preserve stopwords in existing keywords Metadata: Allow single quotes in keywords WebDAV: Keep favorite flag when uploading via PhotoSync Translations: Updated Dutch and German","title":"May 5, 2021"},{"location":"release-notes/#april-26-2021","text":"Build 210426-da6e948f UI: Added Yellowstone theme for sponsors, unlocked Grayscale theme for everyone Metadata: Support for XMP sidecar CreateDate and Keywords Metadata: Merge keywords from different sources Translations: Updated Hebrew","title":"April 26, 2021"},{"location":"release-notes/#april-22-2021","text":"Build 210422-97e75b04 UX: Improved touch event accuracy UX: Optimized rendering on small screens UX: Fixed autocomplete in \"add to album\" dialog HEIF: Prevent redundant sidecar JPEG files Backup: Added command flags and usage docs Translations: Added Danish and Kurdish","title":"April 22, 2021"},{"location":"release-notes/#february-22-2021","text":"Build 210222-ac5a9d5e UX: Autofocus for input fields and confirm on enter Restore: Find YAML album backups in originals folder Metadata: Improved location labels and moments Thumbnails: Fixed auto-rotation for HEIF, TIFF, and PNG images Translations: Added Norwegian (Bokm\u00e5l)","title":"February 22, 2021"},{"location":"release-notes/#february-17-2021","text":"Build 210217-49039368 Videos: Optimized transcoding parameters Videos: Use AAC audio for MP4 transcoding Metadata: Default to landscape orientation if data is invalid Translations: Updated Brazilian Portuguese","title":"February 17, 2021"},{"location":"release-notes/#february-16-2021","text":"Build 210216-4939e36a UX: Automatically hide scrollbar in photo viewer and Places Delete: Permanently remove all related sidecar files Videos: Added transcoding config options Videos: Added batch transcoding via convert command Metadata: Remove estimate when setting a new country Metadata: Workaround for Exif strings containing newlines","title":"February 16, 2021"},{"location":"release-notes/#february-11-2021","text":"Build 210211-b9595dd4 Videos: Native player featuring performance and UX improvements Index: Improved detection of missing photos, files, and folders","title":"February 11, 2021"},{"location":"release-notes/#february-8-2021","text":"Build 210208-9e10ba69 Upload: Adds duplicates to selected albums as well Library: Show folder covers in Originals Metadata: Automatically remove orphan countries, cameras, and lenses Metadata: Improved Exif parser Backup: Restore archive flag from YAML files Docker: Improved entrypoint script","title":"February 8, 2021"},{"location":"release-notes/#january-28-2021","text":"Build 210128-a82061e0 UX: Improved theme colors and icons UX: Download all related media files using their current name by default UX: Redirect already authenticated users from /login to /browse Mobile: Prevent like on touch swipe Translations: Updated German and French Config: Reduced auto index & import safety delay defaults Metadata: Improved photo titles, removed small words from title endings Metadata: Improved date extraction from current and original file names Metadata: Fallback to earliest file mod time in case there is no other date Import: Index keywords from non-primary filenames as well WebDAV: Improved service discovery Purge: Hide missing files in edit dialog and set new primary if needed Archive: Physically delete files after confirmation Moments: Added delete button to context menu Settings: Added Estimates and Delete feature flags CLI: Added cleanup command to remove orphaned index entries and thumbnails","title":"January 28, 2021"},{"location":"release-notes/#january-21-2021","text":"Build 210121-07e559df UX: Improved video playback and icons UX: Restructured main navigation Mobile: Show search field in albums","title":"January 21, 2021"},{"location":"release-notes/#january-20-2021","text":"Build 210120-e7cd5e9a API: Apply limit, offset and sort order when searching for IDs ARM64: Reverted database image back to arm64v8/mariadb in config example","title":"January 20, 2021"},{"location":"release-notes/#january-19-2021","text":"Build 210119-a5399f06 UX: Optimized user interface for iOS and tablets UX: Improved theme colors UX: Scroll position is restored when navigating back Translations: Added Czech Metadata: Estimate timezone and allow overwriting estimated locations Settings: Fixed disabling logs For our sponsors and contributors : UX: Added two dark themes","title":"January 19, 2021"},{"location":"release-notes/#january-11-2021","text":"Build 210111-cc05c430 UX: Disabled preloading in live photo player to reduce memory footprint UX: Updated main navigation, find all media types via /browse UX: Removed lag when selecting pictures UX: Tweaked tile size breakpoints in Albums , Labels , and Search UX: Added tooltips to navigation expand and minimize buttons UX: Preload additional search results UX: Removed image loading spinners for faster rendering Thumbnails: Added cache control headers for improved performance Album Covers: Cache will be flushed after updating private flags Search: Improved performance of photos query PWA : Added service worker so that app can be installed more easily PWA : Enabled auto-rotate so that photos may be viewed in landscape mode Frontend: Removed unused dependencies and reduced build size Translations: Updated Russian , French , Simplified Chinese , and German Index: Automatically create JPEGs for related media files as well Import: Improved error handling when the file system becomes unavailable Config: Updated docker-compose.yml examples Config: Added optional gzip compression for built-in web server Config: Limit number of indexing workers to half the number of physical cores by default to avoid high load on hyper-threading capable CPUs","title":"January 11, 2021"},{"location":"release-notes/#january-4-2021","text":"Build 210104-7f9e806a Config: Added auto index & import defaults to Dockerfiles Import: Extract metadata with ExifTool before moving Import: Automatically create folder albums Help: Updated WebSocket page UX: Added UI.Zoom setting to re-enable page zoom UI: Updated default theme Translations: Added Hebrew & Japanese, updated Brazilian Portuguese Albums & Cards View: Reduced tile size on large screens WebDAV: Less verbose logging","title":"January 4, 2021"},{"location":"release-notes/#january-2-2021","text":"Build 210102-af71e5f7 WebDAV: Uploads and other changes trigger auto indexing / importing Config: Use random hash for improved preview token security UX: Disabled page zoom so that app feels more native on mobile devices UX: Reduced min password length to 4 characters UX: Improved docker-compose.yml examples UX: Reduced icon size in \"add to album\" dialog","title":"January 2, 2021"},{"location":"release-notes/#december-31-2020","text":"Build 201231-8e22fbf8 Initial Stable Release","title":"December 31, 2020"},{"location":"security-policy/","text":"Security Policy \u00b6 Please contact us at security@photoprism.app when you have discovered a potential security issue. You are welcome to also report vulnerabilities in third-party applications that we may not be able to fix directly. At a minimum, your report should include the following: version and architecture vulnerability description reproduction steps We will then try to reproduce the problem, determine the impact and get back to you as soon as possible. Confirmed vulnerabilities will be fixed within 90 days, depending on the severity and whether third-party packages are affected. Responsible Disclosure: Confirm that the vulnerability applies to a current version and is reproducible First share the vulnerability details with us so that users are not put at risk Wait before publishing details until everyone has had a chance to update Avoid activities that disrupt, degrade, or interrupt our services or compromise other users' data, such as spam, brute force attacks, denial of service attacks, and malicious file distribution.","title":"Security Policy"},{"location":"security-policy/#security-policy","text":"Please contact us at security@photoprism.app when you have discovered a potential security issue. You are welcome to also report vulnerabilities in third-party applications that we may not be able to fix directly. At a minimum, your report should include the following: version and architecture vulnerability description reproduction steps We will then try to reproduce the problem, determine the impact and get back to you as soon as possible. Confirmed vulnerabilities will be fixed within 90 days, depending on the severity and whether third-party packages are affected. Responsible Disclosure: Confirm that the vulnerability applies to a current version and is reproducible First share the vulnerability details with us so that users are not put at risk Wait before publishing details until everyone has had a chance to update Avoid activities that disrupt, degrade, or interrupt our services or compromise other users' data, such as spam, brute force attacks, denial of service attacks, and malicious file distribution.","title":"Security Policy"},{"location":"team/","text":"Our Team \u00b6 We strive to provide the most user- and privacy-friendly solution to keep your pictures organized and accessible. Feel free to contact us at hello@photoprism.app with anything that is on your mind, even if you just want to say hello. It is our goal to answer all questions we receive from our users, customers, partners, and the developer community. Our team also welcomes feedback if you believe something can or should be improved. Michael Mayer \u00b6 Core Developer Michael learned coding on an Atari 1040 ST, survived Usenet, and got involved with Web development and Open Source software in the early 90s. Before founding PhotoPrism, he spent more than two decades advising corporate clients on software engineering and management. You can find him on GitHub , LinkedIn , and Twitter Theresa Gresch \u00b6 Product & Community Theresa holds a Master's degree in Neurobiology and enjoys every opportunity to dive deeper into machine learning. Before starting to work on PhotoPrism, she used her organizational skills as a freelance product manager at startups and creative agencies. You can find her on GitHub and LinkedIn Contributors \u00b6 Andrea Ceroni \u00b6 Scientific Advisor Andrea is a data scientist specialized in temporal information retrieval and machine learning. He holds a PhD in Computer Science from the Leibniz University of Hannover (L3S Research Center) and wrote numerous papers on topics such as Personal Photo Management and Preservation and Photo Selection Models for Personal Photo Collections . You can find him on Google Scholar and LinkedIn Guy Sheffer \u00b6 Raspberry Pi Specialist Known as GuySoft on the web. Active developer in the Free Software and Maker community. Creator of OctoPi and FullPageOS , which have hundreds of thousands of downloads. Raspberry Pi distro expert. Currently, VP R&D and Co-Founder at ShapeDo . ...and many more \u00b6 Thanks to all who contributed!","title":"Our Team"},{"location":"team/#our-team","text":"We strive to provide the most user- and privacy-friendly solution to keep your pictures organized and accessible. Feel free to contact us at hello@photoprism.app with anything that is on your mind, even if you just want to say hello. It is our goal to answer all questions we receive from our users, customers, partners, and the developer community. Our team also welcomes feedback if you believe something can or should be improved.","title":"Our Team"},{"location":"team/#michael-mayer","text":"Core Developer Michael learned coding on an Atari 1040 ST, survived Usenet, and got involved with Web development and Open Source software in the early 90s. Before founding PhotoPrism, he spent more than two decades advising corporate clients on software engineering and management. You can find him on GitHub , LinkedIn , and Twitter","title":"Michael Mayer"},{"location":"team/#theresa-gresch","text":"Product & Community Theresa holds a Master's degree in Neurobiology and enjoys every opportunity to dive deeper into machine learning. Before starting to work on PhotoPrism, she used her organizational skills as a freelance product manager at startups and creative agencies. You can find her on GitHub and LinkedIn","title":"Theresa Gresch"},{"location":"team/#contributors","text":"","title":"Contributors"},{"location":"team/#andrea-ceroni","text":"Scientific Advisor Andrea is a data scientist specialized in temporal information retrieval and machine learning. He holds a PhD in Computer Science from the Leibniz University of Hannover (L3S Research Center) and wrote numerous papers on topics such as Personal Photo Management and Preservation and Photo Selection Models for Personal Photo Collections . You can find him on Google Scholar and LinkedIn","title":"Andrea Ceroni"},{"location":"team/#guy-sheffer","text":"Raspberry Pi Specialist Known as GuySoft on the web. Active developer in the Free Software and Maker community. Creator of OctoPi and FullPageOS , which have hundreds of thousands of downloads. Raspberry Pi distro expert. Currently, VP R&D and Co-Founder at ShapeDo .","title":"Guy Sheffer"},{"location":"team/#and-many-more","text":"Thanks to all who contributed!","title":"...and many more"},{"location":"developer-guide/","text":"Every Contribution Makes a Difference \u00b6 We welcome contributions of any kind, including blog posts, tutorials, testing, writing documentation, and pull requests. Our Milestones \u00b6 Upcoming Features and Improvements \u00b6 The public roadmap shows what tasks are in progress, what needs testing, and which features are going to be implemented next. You are welcome to submit specific feature requests if you have verified that no similar idea or todo already exists. Give ideas you like a thumbs-up \ud83d\udc4d , so that we know what is most popular. Our vision is to provide the most user- and privacy-friendly solution to keep your pictures organized and accessible. Join the Community \u00b6 Follow us on Twitter and join the Community Chat to get regular updates, connect with other contributors, and discuss your ideas. Our Code of Conduct explains the \"dos and don\u2019ts.\" An important part of our journey is to explore new directions in product development and build better software through consistent use of feedback. Feel free to contact us with anything that is on your mind, even if you just want to say hello. It is our goal to answer all questions we receive from our users, customers, partners, and the developer community. Our team also welcomes feedback if you believe something can or should be improved. Creating Bug Reports \u00b6 Before reporting a bug, please use our Troubleshooting Checklists to determine the cause of your problem. If you have a general question, need help, it could be a local configuration issue, or a misunderstanding in how the software works: you are welcome to ask in our Community Chat or post your question in GitHub Discussions When reporting a problem, always include the software versions you are using and other information about your environment such as browser, browser plugins , operating system, storage type, memory size, and processor. We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Note that all issue subscribers receive an email notification from GitHub for each new comment, so these should only be used for sharing important information and not for personal discussions/questions. Submitting Pull Requests \u00b6 Because we want to create the best possible product for our users, we have a set of criteria to ensure that all submissions are acceptable. Follow our step-by-step guide to learn how to submit new features, bug fixes, and documentation improvements. Issues labeled help wanted / easy can be good (first) contributions. Reviewing, testing, and finally merging pull requests requires significant resources on our side. If it's not just a small fix, it can take several months. Privacy Notice \u00b6 We operate a number of web services that help us develop and maintain our software in collaboration with the open source community, such as Weblate hosted at translate.photoprism.app to keep translations up to date. Because many of these apps and tools were originally developed for internal use without a high level of privacy in mind, we ask that you do not enter personal information such as your real name or personal email address if you want it to remain private. Be aware that such information may unexpectedly show up in logs, source code, translation files, commit messages, and pull request comments.","title":"Welcome"},{"location":"developer-guide/#every-contribution-makes-a-difference","text":"We welcome contributions of any kind, including blog posts, tutorials, testing, writing documentation, and pull requests.","title":"Every Contribution Makes a Difference"},{"location":"developer-guide/#our-milestones","text":"","title":"Our Milestones"},{"location":"developer-guide/#upcoming-features-and-improvements","text":"The public roadmap shows what tasks are in progress, what needs testing, and which features are going to be implemented next. You are welcome to submit specific feature requests if you have verified that no similar idea or todo already exists. Give ideas you like a thumbs-up \ud83d\udc4d , so that we know what is most popular. Our vision is to provide the most user- and privacy-friendly solution to keep your pictures organized and accessible.","title":"Upcoming Features and Improvements"},{"location":"developer-guide/#join-the-community","text":"Follow us on Twitter and join the Community Chat to get regular updates, connect with other contributors, and discuss your ideas. Our Code of Conduct explains the \"dos and don\u2019ts.\" An important part of our journey is to explore new directions in product development and build better software through consistent use of feedback. Feel free to contact us with anything that is on your mind, even if you just want to say hello. It is our goal to answer all questions we receive from our users, customers, partners, and the developer community. Our team also welcomes feedback if you believe something can or should be improved.","title":"Join the Community"},{"location":"developer-guide/#creating-bug-reports","text":"Before reporting a bug, please use our Troubleshooting Checklists to determine the cause of your problem. If you have a general question, need help, it could be a local configuration issue, or a misunderstanding in how the software works: you are welcome to ask in our Community Chat or post your question in GitHub Discussions When reporting a problem, always include the software versions you are using and other information about your environment such as browser, browser plugins , operating system, storage type, memory size, and processor. We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Note that all issue subscribers receive an email notification from GitHub for each new comment, so these should only be used for sharing important information and not for personal discussions/questions.","title":"Creating Bug Reports"},{"location":"developer-guide/#submitting-pull-requests","text":"Because we want to create the best possible product for our users, we have a set of criteria to ensure that all submissions are acceptable. Follow our step-by-step guide to learn how to submit new features, bug fixes, and documentation improvements. Issues labeled help wanted / easy can be good (first) contributions. Reviewing, testing, and finally merging pull requests requires significant resources on our side. If it's not just a small fix, it can take several months.","title":"Submitting Pull Requests"},{"location":"developer-guide/#privacy-notice","text":"We operate a number of web services that help us develop and maintain our software in collaboration with the open source community, such as Weblate hosted at translate.photoprism.app to keep translations up to date. Because many of these apps and tools were originally developed for internal use without a high level of privacy in mind, we ask that you do not enter personal information such as your real name or personal email address if you want it to remain private. Be aware that such information may unexpectedly show up in logs, source code, translation files, commit messages, and pull request comments.","title":"Privacy Notice"},{"location":"developer-guide/code-quality/","text":"Code Quality \u00b6 The quality of code has a practical impact on both your agility and the cost of development: 1 you can't change buggy and/or bloated code fast enough to be truly agile existing bugs can easily increase development costs (and time) by 10x the mess eventually becomes so big and so deep that you cannot clean it up anymore 2 Productivity vs Time Keep It Simple \u00b6 Simple, elegant solutions are more effective , but they are harder to find than complex ones, and they require more time, which we too often believe to be unaffordable. \u2014 Niklaus Wirth, Feb 1985 Caching Is Hard \u00b6 There are only two hard things in Computer Science: cache invalidation and naming things. A cache is just a memory leak you haven't met yet. \u2014 Dave Cheney Bottom-Up Development \u00b6 Breaking a problem down into small, coherent fragments lends itself to organization. Start with the basic low-level components and then proceed to higher-level abstractions. Bottom-up development emphasizes coding and early testing, which can begin before having a detailed understanding of the final system - which in practice may never really happen as requirements are constantly evolving. Advantages of the bottom-up approach are component reusability, agility, and testability. I compared Mel's hand-optimized programs with the same code massaged by the optimizing assembler program, and Mel's always ran faster. That was because the \u201ctop-down\u201d method of program design hadn't been invented yet, and Mel wouldn't have used it anyway. He wrote the innermost parts of his program loops first. \u2014 The Story of Mel Avoid Unnecessary Abstractions and Optimizations \u00b6 Don't abstract if you don't have to. Premature optimization causes unnecessary pain and leads to bloated code that fewer developers understand. Instead, perform test-driven bottom-up development , so you can safely refactor if and when it makes sense. Maintaining small amounts of duplicate code is much easier and less burdensome than choosing the wrong abstraction. Premature optimization is the root of all evil. \u2014 Donald Knuth Opportunistic Refactoring \u00b6 While we know this is difficult when working with a distributed team, branches, and pull requests, we encourage all contributors to refactor when they see a specific problem. Ideally when you are working on the same code anyway to implement a feature or improvement. This helps to verify that the changes are helpful in practice. Imperfection is not a big problem as long as your code is testable and tests exist so that formatting and implementation details can be easily improved at a later time and/or by another developer. No one needs nice-looking code that doesn't work. Be pragmatic. Done is better than perfect. Pretty much all software projects start this way. However, if you know about (potential) security issues, please report them to us immediately and, if possible, offer a solution. Feel free to think ahead, just don't code ahead. But also, don't feel the need to decide so many details ahead. Learn enough to get started and build only what you need. \u2014 J. B. Rainsberger Go Slow Before You Go Fast \ud83d\udc30 \u00b6 You have to go slow before you can go fast. Understand the big picture and gather missing information before starting to code. Read the documentation. Write tests. Take your time. Stay focused. All developers with more than a few years experience know that previous messes slow them down. And yet all developers feel the pressure to make messes in order to meet deadlines. In short, they don\u2019t take the time to go fast! You will not make the deadline by making a mess. Indeed, the mess will slow you down instantly, and will force you to miss the deadline. \u2014 Robert C. Martin 2 Code That Cannot Be Tested Is Flawed \u00b6 We strive for complete test coverage as it is a useful tool for finding untested parts of our code base. Test coverage is of limited use as a numerical statement of how good our tests are. The F.I.R.S.T. principle includes five rules that good tests should follow: 2 Fast: If tests are slow, you won't run them frequently, which makes them much less useful and increases the cost of development. Independent: You should be able to run each test independently and run the tests in any order you like. When tests depend on each other, then the first one to fail causes a cascade of downstream failures, making diagnosis difficult and hiding downstream defects. Repeatable: If your tests aren\u2019t repeatable in any environment, then you\u2019ll always have an excuse for why they fail. You\u2019ll also find yourself unable to run the tests when the environment isn\u2019t available. Self-Validating: You should not have to read through a log file to tell whether the tests pass. If the tests aren\u2019t self-validating, then failure can become subjective and running the tests can require a long manual evaluation. Timely: If you write tests after the production code, then you may find the production code to be hard to test. You may decide that some production code is too hard to test. You may not design the production code to be testable. Use Quality Reports as Inspiration \u00b6 goreportcard.com generates reports on the quality of Open Source Go projects. It uses several measures, including gofmt , go vet , go lint and gocyclo : You can support the developers on Patreon . Not every problem reported by tools is really important and needs to be fixed immediately. Use the reports as inspiration when you need some. https://twitter.com/allenholub/status/1073738216140791808 \u21a9 Martin, Robert C. Clean Code: A Handbook of Agile Software Craftsmanship . Upper Saddle River, NJ: Prentice Hall, 2009. \u21a9 \u21a9 \u21a9","title":"Code Quality"},{"location":"developer-guide/code-quality/#code-quality","text":"The quality of code has a practical impact on both your agility and the cost of development: 1 you can't change buggy and/or bloated code fast enough to be truly agile existing bugs can easily increase development costs (and time) by 10x the mess eventually becomes so big and so deep that you cannot clean it up anymore 2 Productivity vs Time","title":"Code Quality"},{"location":"developer-guide/code-quality/#keep-it-simple","text":"Simple, elegant solutions are more effective , but they are harder to find than complex ones, and they require more time, which we too often believe to be unaffordable. \u2014 Niklaus Wirth, Feb 1985","title":"Keep It Simple"},{"location":"developer-guide/code-quality/#caching-is-hard","text":"There are only two hard things in Computer Science: cache invalidation and naming things. A cache is just a memory leak you haven't met yet. \u2014 Dave Cheney","title":"Caching Is Hard"},{"location":"developer-guide/code-quality/#bottom-up-development","text":"Breaking a problem down into small, coherent fragments lends itself to organization. Start with the basic low-level components and then proceed to higher-level abstractions. Bottom-up development emphasizes coding and early testing, which can begin before having a detailed understanding of the final system - which in practice may never really happen as requirements are constantly evolving. Advantages of the bottom-up approach are component reusability, agility, and testability. I compared Mel's hand-optimized programs with the same code massaged by the optimizing assembler program, and Mel's always ran faster. That was because the \u201ctop-down\u201d method of program design hadn't been invented yet, and Mel wouldn't have used it anyway. He wrote the innermost parts of his program loops first. \u2014 The Story of Mel","title":"Bottom-Up Development"},{"location":"developer-guide/code-quality/#avoid-unnecessary-abstractions-and-optimizations","text":"Don't abstract if you don't have to. Premature optimization causes unnecessary pain and leads to bloated code that fewer developers understand. Instead, perform test-driven bottom-up development , so you can safely refactor if and when it makes sense. Maintaining small amounts of duplicate code is much easier and less burdensome than choosing the wrong abstraction. Premature optimization is the root of all evil. \u2014 Donald Knuth","title":"Avoid Unnecessary Abstractions and Optimizations"},{"location":"developer-guide/code-quality/#opportunistic-refactoring","text":"While we know this is difficult when working with a distributed team, branches, and pull requests, we encourage all contributors to refactor when they see a specific problem. Ideally when you are working on the same code anyway to implement a feature or improvement. This helps to verify that the changes are helpful in practice. Imperfection is not a big problem as long as your code is testable and tests exist so that formatting and implementation details can be easily improved at a later time and/or by another developer. No one needs nice-looking code that doesn't work. Be pragmatic. Done is better than perfect. Pretty much all software projects start this way. However, if you know about (potential) security issues, please report them to us immediately and, if possible, offer a solution. Feel free to think ahead, just don't code ahead. But also, don't feel the need to decide so many details ahead. Learn enough to get started and build only what you need. \u2014 J. B. Rainsberger","title":"Opportunistic Refactoring"},{"location":"developer-guide/code-quality/#go-slow-before-you-go-fast","text":"You have to go slow before you can go fast. Understand the big picture and gather missing information before starting to code. Read the documentation. Write tests. Take your time. Stay focused. All developers with more than a few years experience know that previous messes slow them down. And yet all developers feel the pressure to make messes in order to meet deadlines. In short, they don\u2019t take the time to go fast! You will not make the deadline by making a mess. Indeed, the mess will slow you down instantly, and will force you to miss the deadline. \u2014 Robert C. Martin 2","title":"Go Slow Before You Go Fast \ud83d\udc30"},{"location":"developer-guide/code-quality/#code-that-cannot-be-tested-is-flawed","text":"We strive for complete test coverage as it is a useful tool for finding untested parts of our code base. Test coverage is of limited use as a numerical statement of how good our tests are. The F.I.R.S.T. principle includes five rules that good tests should follow: 2 Fast: If tests are slow, you won't run them frequently, which makes them much less useful and increases the cost of development. Independent: You should be able to run each test independently and run the tests in any order you like. When tests depend on each other, then the first one to fail causes a cascade of downstream failures, making diagnosis difficult and hiding downstream defects. Repeatable: If your tests aren\u2019t repeatable in any environment, then you\u2019ll always have an excuse for why they fail. You\u2019ll also find yourself unable to run the tests when the environment isn\u2019t available. Self-Validating: You should not have to read through a log file to tell whether the tests pass. If the tests aren\u2019t self-validating, then failure can become subjective and running the tests can require a long manual evaluation. Timely: If you write tests after the production code, then you may find the production code to be hard to test. You may decide that some production code is too hard to test. You may not design the production code to be testable.","title":"Code That Cannot Be Tested Is Flawed"},{"location":"developer-guide/code-quality/#use-quality-reports-as-inspiration","text":"goreportcard.com generates reports on the quality of Open Source Go projects. It uses several measures, including gofmt , go vet , go lint and gocyclo : You can support the developers on Patreon . Not every problem reported by tools is really important and needs to be fixed immediately. Use the reports as inspiration when you need some. https://twitter.com/allenholub/status/1073738216140791808 \u21a9 Martin, Robert C. Clean Code: A Handbook of Agile Software Craftsmanship . Upper Saddle River, NJ: Prentice Hall, 2009. \u21a9 \u21a9 \u21a9","title":"Use Quality Reports as Inspiration"},{"location":"developer-guide/configuration/","text":"Configuration \u00b6 Help \u00b6 photoprism help shows available commands, config parameters and environment variable names. These are also listed in Getting Started . Show current settings \u00b6 photoprism config shows all config parameters and their values. Change settings \u00b6 You can either use environment variables like PHOTOPRISM_CACHE_PATH , config files (in the storage/config directory) or command line parameters like --cache-path to configure PhotoPrism. Environment variables are usually best for dockerized applications. You can easily set them in docker-compose.yml without touching any other files. There is no need to change any settings if you follow the steps described in Setup .","title":"Configuration"},{"location":"developer-guide/configuration/#configuration","text":"","title":"Configuration"},{"location":"developer-guide/configuration/#help","text":"photoprism help shows available commands, config parameters and environment variable names. These are also listed in Getting Started .","title":"Help"},{"location":"developer-guide/configuration/#show-current-settings","text":"photoprism config shows all config parameters and their values.","title":"Show current settings"},{"location":"developer-guide/configuration/#change-settings","text":"You can either use environment variables like PHOTOPRISM_CACHE_PATH , config files (in the storage/config directory) or command line parameters like --cache-path to configure PhotoPrism. Environment variables are usually best for dockerized applications. You can easily set them in docker-compose.yml without touching any other files. There is no need to change any settings if you follow the steps described in Setup .","title":"Change settings"},{"location":"developer-guide/directories/","text":"Repository Folder Structure \u00b6 Our directory layout is loosely based on https://github.com/golang-standards/project-layout : / contains a Makefile , a readme, the license and various config files for dependency management, building and continuous integration /assets contains subdirectories for various assets such as photos, built JS/HTML/CSS files and server-side HTML templates /cmd contains the application source code (main package) /docker contains Dockerfiles and related assets, e.g. for Development, TensorFlow and ARM64 /frontend contains our Web frontend JS/HTML/CSS source code /internal contains the source code of our internal Go packages /pkg contains the source code of our public Go packages /scripts contains shell scripts used for building, deployment and continuous integration","title":"Directories"},{"location":"developer-guide/directories/#repository-folder-structure","text":"Our directory layout is loosely based on https://github.com/golang-standards/project-layout : / contains a Makefile , a readme, the license and various config files for dependency management, building and continuous integration /assets contains subdirectories for various assets such as photos, built JS/HTML/CSS files and server-side HTML templates /cmd contains the application source code (main package) /docker contains Dockerfiles and related assets, e.g. for Development, TensorFlow and ARM64 /frontend contains our Web frontend JS/HTML/CSS source code /internal contains the source code of our internal Go packages /pkg contains the source code of our public Go packages /scripts contains shell scripts used for building, deployment and continuous integration","title":"Repository Folder Structure"},{"location":"developer-guide/documentation/","text":"Documentation \u00b6 User Facing Documentation \u00b6 User-facing documentation lives in the photoprism-docs repository and can be browsed on docs.photoprism.app . See the README for how to easily edit the docs yourself. Package Documentation (GoDoc) \u00b6 Godoc generates documentation automatically, so it's tightly coupled to the photoprism source code. View Package Docs Some highlights to explore: cmd/photoprism - main application internal/photoprism - main library package internal/server - server initialization and routing internal/api - server api internal/commands - command line interface internal/form - input validation (based on gin ) internal/entity - models (based on GORM )","title":"Documentation"},{"location":"developer-guide/documentation/#documentation","text":"","title":"Documentation"},{"location":"developer-guide/documentation/#user-facing-documentation","text":"User-facing documentation lives in the photoprism-docs repository and can be browsed on docs.photoprism.app . See the README for how to easily edit the docs yourself.","title":"User Facing Documentation"},{"location":"developer-guide/documentation/#package-documentation-godoc","text":"Godoc generates documentation automatically, so it's tightly coupled to the photoprism source code. View Package Docs Some highlights to explore: cmd/photoprism - main application internal/photoprism - main library package internal/server - server initialization and routing internal/api - server api internal/commands - command line interface internal/form - input validation (based on gin ) internal/entity - models (based on GORM )","title":"Package Documentation (GoDoc)"},{"location":"developer-guide/issues/","text":"GitHub Issues \u00b6 We use GitHub issues for managing bugs , ideas , and todos . Issues labeled help wanted / easy can be good (first) contributions. Don't hesitate to contact us if you want to work on something specific or need help with a pull request . We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Note that all issue subscribers receive an email notification from GitHub for each new comment, so these should only be used for sharing important information and not for personal discussions/questions. How to Write User Stories \u00b6 Start describing new ideas and tasks with a user story similar to this one: As a [type of person] I'd like to be able to [do something] so that I can [get some result]. This makes it easier for everyone to understand who wants what and why. Reading between the lines consumes a lot of time that can be used more effectively . Vague requirements become even more expensive when the wrong things are implemented, or they don't provide value in the way they were implemented. Acceptance Criteria \u00b6 Issues should include a list of Acceptance Criteria that clearly state what is expected. We recommend using MAY, SHOULD, and MUST as keywords to indicate priorities. Clickable checkboxes for each item can be created via GitHub Markdown : Acceptance Criteria: - [ ] \"Log In\" button MUST be visible on /login page - [ ] \"Log In\" button MAY be disabled if password field is empty - [ ] Page SHOULD use existing Vuetify components - [ ] Login MUST work in latest Firefox, Safari and Chrome Effectiveness > Efficiency \u00b6 Optimize for effectiveness before efficiency. It is fundamentally the confusion between effectiveness and efficiency that stands between doing the right things and doing things right. There is surely nothing quite so useless as doing with great efficiency what should not be done at all. \u2014 Peter Drucker","title":"GitHub Issues"},{"location":"developer-guide/issues/#github-issues","text":"We use GitHub issues for managing bugs , ideas , and todos . Issues labeled help wanted / easy can be good (first) contributions. Don't hesitate to contact us if you want to work on something specific or need help with a pull request . We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Note that all issue subscribers receive an email notification from GitHub for each new comment, so these should only be used for sharing important information and not for personal discussions/questions.","title":"GitHub Issues"},{"location":"developer-guide/issues/#how-to-write-user-stories","text":"Start describing new ideas and tasks with a user story similar to this one: As a [type of person] I'd like to be able to [do something] so that I can [get some result]. This makes it easier for everyone to understand who wants what and why. Reading between the lines consumes a lot of time that can be used more effectively . Vague requirements become even more expensive when the wrong things are implemented, or they don't provide value in the way they were implemented.","title":"How to Write User Stories"},{"location":"developer-guide/issues/#acceptance-criteria","text":"Issues should include a list of Acceptance Criteria that clearly state what is expected. We recommend using MAY, SHOULD, and MUST as keywords to indicate priorities. Clickable checkboxes for each item can be created via GitHub Markdown : Acceptance Criteria: - [ ] \"Log In\" button MUST be visible on /login page - [ ] \"Log In\" button MAY be disabled if password field is empty - [ ] Page SHOULD use existing Vuetify components - [ ] Login MUST work in latest Firefox, Safari and Chrome","title":"Acceptance Criteria"},{"location":"developer-guide/issues/#effectiveness-efficiency","text":"Optimize for effectiveness before efficiency. It is fundamentally the confusion between effectiveness and efficiency that stands between doing the right things and doing things right. There is surely nothing quite so useless as doing with great efficiency what should not be done at all. \u2014 Peter Drucker","title":"Effectiveness &gt; Efficiency"},{"location":"developer-guide/pull-requests/","text":"Pull Requests \u00b6 Acceptance Criteria \u00b6 Because we want to create the best possible product for our users, we have a set of criteria to ensure that all submissions are acceptable: Features and improvements must be fully implemented so that they can be released at any time without additional work Automated unit and/or acceptance tests are mandatory to ensure the changes work as expected and to reduce repetitive manual work Frontend components must be responsive to work and look properly on phones, tablets, and desktop computers; you must have tested them on all major browsers and different devices Documentation and translation updates should be provided if needed In case you submit database-related changes, they must be tested and compatible with SQLite 3 and MariaDB 10.5.12+ These guidelines are not intended as a filter or barrier to participation. If you are unfamiliar with Open Source development, we will help you . Contributor License Agreement \u00b6 After you submit your first pull request, you will be asked to accept our Contributor License Agreement (CLA). Visit photoprism.app/cla to learn more. How to Create and Submit a Pull Request \u00b6 Fork our repository \u00b6 Click the Fork button in the header of our main repository Clone the forked repository on your local computer: git clone https://github.com/[your username]/photoprism Connect your local to our \"upstream\" main repository by adding it as a remote : git remote add upstream https://github.com/photoprism/photoprism.git Create a new branch from develop - it should have a short and descriptive name (not \"patch-1\") that does not already exist, for example: git checkout -b feature/your_feature_name See also https://guides.github.com/activities/forking/ Make your changes \u00b6 While you are working on it and your pull request is not merged yet, pull in changes from \"upstream\" often so that you stay up to date and there is a lower risk for merge conflicts : git fetch upstream git merge upstream/develop We recommend running tests after each change to make sure you didn't break anything: make test Add tests for any new code If you have questions about how to do this, please ask in your pull request Run make fmt to ensure code is properly formatted according to our standards If all tests are green and you see no other errors, commit your changes. To reference related GitHub issues , please end your commit message with the issue ID like #1234 : git status -s git add . git commit -m \"Your commit message #1234\" When you are ready... \u00b6 Verify you didn't forget to add / commit files, output of git status -s should be empty Push all commits to your forked remote repository on GitHub: git push -u origin feature/your_feature_name Create a pull request with a helpful description of what it does Wait for us to perform a code review and fix the remaining issues, if any Update and/or add documentation if needed Sign the Contributor License Agreement (CLA) You can also create a pull request if your changes are not yet complete or working. Just let us know it's in progress, so we don't try to merge them. We can help you with a code review or other feedback if needed. Please be patient with us. Reviewing, testing, and finally merging pull requests requires significant resources on our side. If it's not just a small fix, it can take several months. Privacy Notice \u00b6 We operate a number of web services that help us develop and maintain our software in collaboration with the open source community, such as Weblate hosted at translate.photoprism.app to keep translations up to date. Because many of these apps and tools were originally developed for internal use without a high level of privacy in mind, we ask that you do not enter personal information such as your real name or personal email address if you want it to remain private. Be aware that such information may unexpectedly show up in logs, source code, translation files, commit messages, and pull request comments.","title":"Pull Requests"},{"location":"developer-guide/pull-requests/#pull-requests","text":"","title":"Pull Requests"},{"location":"developer-guide/pull-requests/#acceptance-criteria","text":"Because we want to create the best possible product for our users, we have a set of criteria to ensure that all submissions are acceptable: Features and improvements must be fully implemented so that they can be released at any time without additional work Automated unit and/or acceptance tests are mandatory to ensure the changes work as expected and to reduce repetitive manual work Frontend components must be responsive to work and look properly on phones, tablets, and desktop computers; you must have tested them on all major browsers and different devices Documentation and translation updates should be provided if needed In case you submit database-related changes, they must be tested and compatible with SQLite 3 and MariaDB 10.5.12+ These guidelines are not intended as a filter or barrier to participation. If you are unfamiliar with Open Source development, we will help you .","title":"Acceptance Criteria"},{"location":"developer-guide/pull-requests/#contributor-license-agreement","text":"After you submit your first pull request, you will be asked to accept our Contributor License Agreement (CLA). Visit photoprism.app/cla to learn more.","title":"Contributor License Agreement"},{"location":"developer-guide/pull-requests/#how-to-create-and-submit-a-pull-request","text":"","title":"How to Create and Submit a Pull Request"},{"location":"developer-guide/pull-requests/#fork-our-repository","text":"Click the Fork button in the header of our main repository Clone the forked repository on your local computer: git clone https://github.com/[your username]/photoprism Connect your local to our \"upstream\" main repository by adding it as a remote : git remote add upstream https://github.com/photoprism/photoprism.git Create a new branch from develop - it should have a short and descriptive name (not \"patch-1\") that does not already exist, for example: git checkout -b feature/your_feature_name See also https://guides.github.com/activities/forking/","title":"Fork our repository"},{"location":"developer-guide/pull-requests/#make-your-changes","text":"While you are working on it and your pull request is not merged yet, pull in changes from \"upstream\" often so that you stay up to date and there is a lower risk for merge conflicts : git fetch upstream git merge upstream/develop We recommend running tests after each change to make sure you didn't break anything: make test Add tests for any new code If you have questions about how to do this, please ask in your pull request Run make fmt to ensure code is properly formatted according to our standards If all tests are green and you see no other errors, commit your changes. To reference related GitHub issues , please end your commit message with the issue ID like #1234 : git status -s git add . git commit -m \"Your commit message #1234\"","title":"Make your changes"},{"location":"developer-guide/pull-requests/#when-you-are-ready","text":"Verify you didn't forget to add / commit files, output of git status -s should be empty Push all commits to your forked remote repository on GitHub: git push -u origin feature/your_feature_name Create a pull request with a helpful description of what it does Wait for us to perform a code review and fix the remaining issues, if any Update and/or add documentation if needed Sign the Contributor License Agreement (CLA) You can also create a pull request if your changes are not yet complete or working. Just let us know it's in progress, so we don't try to merge them. We can help you with a code review or other feedback if needed. Please be patient with us. Reviewing, testing, and finally merging pull requests requires significant resources on our side. If it's not just a small fix, it can take several months.","title":"When you are ready..."},{"location":"developer-guide/pull-requests/#privacy-notice","text":"We operate a number of web services that help us develop and maintain our software in collaboration with the open source community, such as Weblate hosted at translate.photoprism.app to keep translations up to date. Because many of these apps and tools were originally developed for internal use without a high level of privacy in mind, we ask that you do not enter personal information such as your real name or personal email address if you want it to remain private. Be aware that such information may unexpectedly show up in logs, source code, translation files, commit messages, and pull request comments.","title":"Privacy Notice"},{"location":"developer-guide/setup-fedora/","text":"Development Environment (Fedora 32) \u00b6 Before you start, make sure you have Git and Development Tools installed on your system (git, gcc, g++, llvm, cmake, etc...). Instead of using Docker, you can create your own development environment. You'll need: Go >= 1.11 TensorFlow for C Make NPM MySQL (if you don't want to leverage sqlite) Without Docker, you won't be able to use our other Dockerfiles (e.g. for TensorFlow). Step 1: Run Git to clone the project's: git clone git@github.com:tensorflow/tensorflow.git git clone git@github.com:photoprism/photoprism.git Step 2: Install required packages: sudo dnf install golang darktable intltool nodejs npm Note: This setup is for development and testing purposes only. Step 3: Download Bazel wrapper to build tensorflow: Consult the TensorFlow Docs for configuration options. go get github.com/bazelbuild/bazelisk alias bazel='bazelisk' cd tensorflow bazel build --config=v1 //tensorflow/tools/lib_package:libtensorflow sudo tar -C /usr/local/ -xvf $HOME/.cache/bazel/_bazel_$USER/<SOME_HASH>/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/tools/lib_package/libtensorflow.tar.gz Note: Your SOME_HASH value will depend on your build, go find it! Step 4: Build PhotoPrism: cd photoprism make Step 5: Enjoy an amazing application ;-) Depending on your system's configuration, you might need to update your ldconfig Add a configuration file which persists reboots sudo echo '/usr/local/lib/' >> /etc/ld.so.conf.d/usrlocallib.conf sudo ldconfig Update your shell's environment which will not persist upon reboot export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib sudo ldconfig","title":"Development Environment (Fedora 32)"},{"location":"developer-guide/setup-fedora/#development-environment-fedora-32","text":"Before you start, make sure you have Git and Development Tools installed on your system (git, gcc, g++, llvm, cmake, etc...). Instead of using Docker, you can create your own development environment. You'll need: Go >= 1.11 TensorFlow for C Make NPM MySQL (if you don't want to leverage sqlite) Without Docker, you won't be able to use our other Dockerfiles (e.g. for TensorFlow). Step 1: Run Git to clone the project's: git clone git@github.com:tensorflow/tensorflow.git git clone git@github.com:photoprism/photoprism.git Step 2: Install required packages: sudo dnf install golang darktable intltool nodejs npm Note: This setup is for development and testing purposes only. Step 3: Download Bazel wrapper to build tensorflow: Consult the TensorFlow Docs for configuration options. go get github.com/bazelbuild/bazelisk alias bazel='bazelisk' cd tensorflow bazel build --config=v1 //tensorflow/tools/lib_package:libtensorflow sudo tar -C /usr/local/ -xvf $HOME/.cache/bazel/_bazel_$USER/<SOME_HASH>/execroot/org_tensorflow/bazel-out/k8-opt/bin/tensorflow/tools/lib_package/libtensorflow.tar.gz Note: Your SOME_HASH value will depend on your build, go find it! Step 4: Build PhotoPrism: cd photoprism make Step 5: Enjoy an amazing application ;-) Depending on your system's configuration, you might need to update your ldconfig Add a configuration file which persists reboots sudo echo '/usr/local/lib/' >> /etc/ld.so.conf.d/usrlocallib.conf sudo ldconfig Update your shell's environment which will not persist upon reboot export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib sudo ldconfig","title":"Development Environment (Fedora 32)"},{"location":"developer-guide/setup/","text":"Setting Up Your Development Environment \u00b6 Before you proceed, make sure you have Git and Docker installed on your system. It is available for Mac, Linux, and Windows. Instead of using Docker, you can create your own development environment based on our Dockerfiles (not recommended). These are text documents that contain all commands a user could call in a terminal to assemble an application image. At a minimum, you need Go >= 1.17, TensorFlow for C, Make, NPM, and MariaDB. Note that test results are unreliable without Docker, so this method is not suitable for contributors. Step 1: Run Git to clone (download) the source code git clone git@github.com:photoprism/photoprism.git If you're on windows, make sure to disable auto CR LF. Otherwise, the build won't work. git config --global core.autocrlf false Step 2: Start the Docker services cd photoprism docker-compose up Note: This docker-compose configuration is for testing and development purposes only. Step 3: Open a terminal to run commands directly in the build and test environment make terminal Before you proceed, make sure that all dependencies, such as NPM packages for the frontend, are installed: make all Congratulations! You can now compile and run PhotoPrism in your local development environment: make build ./photoprism start The user interface can be opened in a browser by navigating to... http://localhost:2342/ (HTTP) or https://photoprism.localssl.dev/ (HTTPS) Authentication is disabled by default in development environments. Use the --public=false parameter to enable it. Default settings can be found in the docker-compose.yml file in the root directory of the project. Keep them unchanged when running tests , otherwise the tests may fail for others, even if they pass in your local environment . You can find a list of all make targets in the Makefile . For example, make test will run frontend and backend unit tests. Bad filesystem permissions can be fixed by running make fix-permissions in a container terminal. Optional: Build the frontend in watch mode The integrated web server not only provides the backend API, but is also used to serve static assets. These can be automatically rebuilt (updated) when you change a file. To do this, run the following command in a terminal, either inside or outside the container (outside is faster if your host is not running Linux): make watch-js Alternatively, you can change to the frontend directory and run NPM directly: cd fronend npm run watch To update the frontend dependencies, also change to the frontend directory and run: npm update Questions? Radomir Sohlich wrote a pragmatic introduction to Makefiles for Go developers we are using Go Modules for managing our dependencies (new in 1.11) this guide was not tested on Windows, you might need to change docker-compose.yml to make it work with Windows specific paths Apple Silicon, Raspberry Pi, and ARM64 \u00b6 Our development environment has been built into a single multi-arch image for 64-bit AMD, Intel, and ARM processors. That means, Apple Silicon, Raspberry Pi 3 / 4, and other ARM64-based devices can pull from the same repository. Multi-Arch Docker Builds \u00b6 For information about multi-architecture Docker builds, see the following documentation: Docker Buildx Leverage multi-CPU architecture support QEMU Quick Start \u00b6 install qemu-user-static from docker hub: docker run --rm --privileged multiarch/qemu-user-static --reset -p yes https://github.com/multiarch/qemu-user-static verify that dockers buildx command is installed docker buildx version . if missing, follow install instructions here create buildx builder: docker buildx create --name multiarch-builder && docker buildx inspect --builder multiarch-builder --bootstrap start building: make docker-development-multiarch or make docker-photoprism-multiarch","title":"Setup"},{"location":"developer-guide/setup/#setting-up-your-development-environment","text":"Before you proceed, make sure you have Git and Docker installed on your system. It is available for Mac, Linux, and Windows. Instead of using Docker, you can create your own development environment based on our Dockerfiles (not recommended). These are text documents that contain all commands a user could call in a terminal to assemble an application image. At a minimum, you need Go >= 1.17, TensorFlow for C, Make, NPM, and MariaDB. Note that test results are unreliable without Docker, so this method is not suitable for contributors. Step 1: Run Git to clone (download) the source code git clone git@github.com:photoprism/photoprism.git If you're on windows, make sure to disable auto CR LF. Otherwise, the build won't work. git config --global core.autocrlf false Step 2: Start the Docker services cd photoprism docker-compose up Note: This docker-compose configuration is for testing and development purposes only. Step 3: Open a terminal to run commands directly in the build and test environment make terminal Before you proceed, make sure that all dependencies, such as NPM packages for the frontend, are installed: make all Congratulations! You can now compile and run PhotoPrism in your local development environment: make build ./photoprism start The user interface can be opened in a browser by navigating to... http://localhost:2342/ (HTTP) or https://photoprism.localssl.dev/ (HTTPS) Authentication is disabled by default in development environments. Use the --public=false parameter to enable it. Default settings can be found in the docker-compose.yml file in the root directory of the project. Keep them unchanged when running tests , otherwise the tests may fail for others, even if they pass in your local environment . You can find a list of all make targets in the Makefile . For example, make test will run frontend and backend unit tests. Bad filesystem permissions can be fixed by running make fix-permissions in a container terminal. Optional: Build the frontend in watch mode The integrated web server not only provides the backend API, but is also used to serve static assets. These can be automatically rebuilt (updated) when you change a file. To do this, run the following command in a terminal, either inside or outside the container (outside is faster if your host is not running Linux): make watch-js Alternatively, you can change to the frontend directory and run NPM directly: cd fronend npm run watch To update the frontend dependencies, also change to the frontend directory and run: npm update Questions? Radomir Sohlich wrote a pragmatic introduction to Makefiles for Go developers we are using Go Modules for managing our dependencies (new in 1.11) this guide was not tested on Windows, you might need to change docker-compose.yml to make it work with Windows specific paths","title":"Setting Up Your Development Environment"},{"location":"developer-guide/setup/#apple-silicon-raspberry-pi-and-arm64","text":"Our development environment has been built into a single multi-arch image for 64-bit AMD, Intel, and ARM processors. That means, Apple Silicon, Raspberry Pi 3 / 4, and other ARM64-based devices can pull from the same repository.","title":"Apple Silicon, Raspberry Pi, and ARM64"},{"location":"developer-guide/setup/#multi-arch-docker-builds","text":"For information about multi-architecture Docker builds, see the following documentation: Docker Buildx Leverage multi-CPU architecture support","title":"Multi-Arch Docker Builds"},{"location":"developer-guide/setup/#qemu-quick-start","text":"install qemu-user-static from docker hub: docker run --rm --privileged multiarch/qemu-user-static --reset -p yes https://github.com/multiarch/qemu-user-static verify that dockers buildx command is installed docker buildx version . if missing, follow install instructions here create buildx builder: docker buildx create --name multiarch-builder && docker buildx inspect --builder multiarch-builder --bootstrap start building: make docker-development-multiarch or make docker-photoprism-multiarch","title":"QEMU Quick Start"},{"location":"developer-guide/tests/","text":"Running Unit and Acceptance Tests \u00b6 In any process, obsessing about the wait times will yield greater improvements than practically anything else, for longer than you might think. Automation, simplification, etc. are implementation details of that obsession. \u2014 Dan North Unit Tests \u00b6 Go \u00b6 To run all unit tests, type make test or go test ./internal/... in a terminal. These make targets are currently defined for tests: test : Executes all tests found in a) /internal with a timeout of 20 min and verbose output and b) frontend/tests/unit test-short : Executes only fast tests found in /internal with a timeout of 5 min and verbose output test-race : Same as test but with race condition detector (much slower) and higher timeout of 60 min test-codecov : Same as test but creates a coverage log in coverage.txt and sends it to Codecov (don't use it locally) test-coverage : Same as test but creates a coverage.txt file as well as a human-readable report in coverage.html ; timeout is elevated to 30 min You can run single tests via go test -run in a package directory, e.g. /internal/photoprism : $ go test -run NameOfTest See docs for more info. Test Frameworks \u00b6 Go comes with a cool testing framework, it allows you to write test code using the same language, without needing to learn any library or test engine. Go advanced testing tips & tricks contains a lot of useful information. We only import testify/assert to save a few lines for common assertions. Todo: Use a SQL mock driver to test database interactions, for example https://github.com/DATA-DOG/go-sqlmock . Slow Tests \u00b6 Slow tests and benchmarks can be skipped using the -short flag: func TestTimeConsuming ( t * testing . T ) { if testing . Short () { t . Skip ( \"skipping test in short mode.\" ) } ... } To execute: go test -short Javascript \u00b6 To run all javascript unit tests, type make test-js in a terminal. In case you want to run a single test add .only to the test you want to run e.g.: it . only ( \"should get album id\" , () => { const values = { ID : 5 , AlbumName : \"Christmas 2019\" , AlbumSlug : \"christmas-2019\" , AlbumUUID : 66 }; const album = new Album ( values ); const result = album . getId (); assert . equal ( result , \"66\" ); }); Test coverage output is saved to frontend/coverage/html Test Frameworks \u00b6 To test javascript code we use mocha in combination with karma , chai , sinon and the karma-istanbul-coverage-reporter . Acceptance Tests \u00b6 Before you proceed, use wget to download acceptance.tar.gz to the storage folder and extract it there: cd storage wget https://dl.photoprism.app/qa/acceptance.tar.gz tar -xzf acceptance.tar.gz Running Tests Inside the Docker Container \u00b6 In the development container environment, you can run the tests in Firefox and Chromium: make acceptance-run-chromium : This executes all tests in headless chromium make acceptance-run-firefox : This executes all tests in headless firefox Running Tests Locally \u00b6 Locally, you can run the tests in all supported browsers that you have installed. To run tests locally you need to install testcafe on your machine. npm install -g testcafe Start the test-instance (from within the docker container) make acceptance-restart Then you can execute tests with testcafe firefox,chrome,safari,opera -S \\ -s frontend/tests/acceptance/screenshots frontend/tests/acceptance/ You can stop the test-instance using make stop To run tests on remote or mobile devices use testcafe remote -S \\ -s frontend/tests/acceptance/screenshots frontend/tests/acceptance/ Test Frameworks \u00b6 Our goal was to implement UI acceptance tests using JavaScript, so that frontend developers are able to run and write them without learning Go. To make a final decision, we compared TestCafe , Cypress and Nightwatch.js . We agreed on using TestCafe as tests were the most stable and pretty fast (because no long timeouts are needed). Feature TestCafe Cypress Nightwatch.js Supported Browsers Local Chrome, Firefox, Opera, Safari, Internet Explorer, Microsoft Edge, Google Chrome Canary, Chromium Chrome, Chromium, Chrome Canary, Electron Geckodriver, Chromedriver, Microsoft Webdriver, Safaridriver Supported Browsers Headless Chrome, Firefox Electron Problems running headless Continuous Integration Support yes yes yes Setup easy via npm easy via npm easy via npm Usability +++ +++ ++ Speed (3 tests) 2 min (headless chrome and firefox) 1 min (only chrome headless) 1 min (chrome headed) 5 min (headless electron) 2,5 min (chrome headed) 7 min (chrome headed) headless not working Stability nice unstable --> waiting times needed unstable --> waiting times needed Documentation +++ ++ ++ Notes easy to find elements easy to find elements additional library needed to find selectors by text Other test libraries and frameworks we currently don't use: https://codecept.io/ https://funcunit.com/ https://www.browserstack.com/ http://nightwatchjs.org/ (used by Mozilla's Coral Project ) https://developers.google.com/web/updates/2017/04/headless-chrome","title":"Running Tests"},{"location":"developer-guide/tests/#running-unit-and-acceptance-tests","text":"In any process, obsessing about the wait times will yield greater improvements than practically anything else, for longer than you might think. Automation, simplification, etc. are implementation details of that obsession. \u2014 Dan North","title":"Running Unit and Acceptance Tests"},{"location":"developer-guide/tests/#unit-tests","text":"","title":"Unit Tests"},{"location":"developer-guide/tests/#go","text":"To run all unit tests, type make test or go test ./internal/... in a terminal. These make targets are currently defined for tests: test : Executes all tests found in a) /internal with a timeout of 20 min and verbose output and b) frontend/tests/unit test-short : Executes only fast tests found in /internal with a timeout of 5 min and verbose output test-race : Same as test but with race condition detector (much slower) and higher timeout of 60 min test-codecov : Same as test but creates a coverage log in coverage.txt and sends it to Codecov (don't use it locally) test-coverage : Same as test but creates a coverage.txt file as well as a human-readable report in coverage.html ; timeout is elevated to 30 min You can run single tests via go test -run in a package directory, e.g. /internal/photoprism : $ go test -run NameOfTest See docs for more info.","title":"Go"},{"location":"developer-guide/tests/#test-frameworks","text":"Go comes with a cool testing framework, it allows you to write test code using the same language, without needing to learn any library or test engine. Go advanced testing tips & tricks contains a lot of useful information. We only import testify/assert to save a few lines for common assertions. Todo: Use a SQL mock driver to test database interactions, for example https://github.com/DATA-DOG/go-sqlmock .","title":"Test Frameworks"},{"location":"developer-guide/tests/#slow-tests","text":"Slow tests and benchmarks can be skipped using the -short flag: func TestTimeConsuming ( t * testing . T ) { if testing . Short () { t . Skip ( \"skipping test in short mode.\" ) } ... } To execute: go test -short","title":"Slow Tests"},{"location":"developer-guide/tests/#javascript","text":"To run all javascript unit tests, type make test-js in a terminal. In case you want to run a single test add .only to the test you want to run e.g.: it . only ( \"should get album id\" , () => { const values = { ID : 5 , AlbumName : \"Christmas 2019\" , AlbumSlug : \"christmas-2019\" , AlbumUUID : 66 }; const album = new Album ( values ); const result = album . getId (); assert . equal ( result , \"66\" ); }); Test coverage output is saved to frontend/coverage/html","title":"Javascript"},{"location":"developer-guide/tests/#test-frameworks_1","text":"To test javascript code we use mocha in combination with karma , chai , sinon and the karma-istanbul-coverage-reporter .","title":"Test Frameworks"},{"location":"developer-guide/tests/#acceptance-tests","text":"Before you proceed, use wget to download acceptance.tar.gz to the storage folder and extract it there: cd storage wget https://dl.photoprism.app/qa/acceptance.tar.gz tar -xzf acceptance.tar.gz","title":"Acceptance Tests"},{"location":"developer-guide/tests/#running-tests-inside-the-docker-container","text":"In the development container environment, you can run the tests in Firefox and Chromium: make acceptance-run-chromium : This executes all tests in headless chromium make acceptance-run-firefox : This executes all tests in headless firefox","title":"Running Tests Inside the Docker Container"},{"location":"developer-guide/tests/#running-tests-locally","text":"Locally, you can run the tests in all supported browsers that you have installed. To run tests locally you need to install testcafe on your machine. npm install -g testcafe Start the test-instance (from within the docker container) make acceptance-restart Then you can execute tests with testcafe firefox,chrome,safari,opera -S \\ -s frontend/tests/acceptance/screenshots frontend/tests/acceptance/ You can stop the test-instance using make stop To run tests on remote or mobile devices use testcafe remote -S \\ -s frontend/tests/acceptance/screenshots frontend/tests/acceptance/","title":"Running Tests Locally"},{"location":"developer-guide/tests/#test-frameworks_2","text":"Our goal was to implement UI acceptance tests using JavaScript, so that frontend developers are able to run and write them without learning Go. To make a final decision, we compared TestCafe , Cypress and Nightwatch.js . We agreed on using TestCafe as tests were the most stable and pretty fast (because no long timeouts are needed). Feature TestCafe Cypress Nightwatch.js Supported Browsers Local Chrome, Firefox, Opera, Safari, Internet Explorer, Microsoft Edge, Google Chrome Canary, Chromium Chrome, Chromium, Chrome Canary, Electron Geckodriver, Chromedriver, Microsoft Webdriver, Safaridriver Supported Browsers Headless Chrome, Firefox Electron Problems running headless Continuous Integration Support yes yes yes Setup easy via npm easy via npm easy via npm Usability +++ +++ ++ Speed (3 tests) 2 min (headless chrome and firefox) 1 min (only chrome headless) 1 min (chrome headed) 5 min (headless electron) 2,5 min (chrome headed) 7 min (chrome headed) headless not working Stability nice unstable --> waiting times needed unstable --> waiting times needed Documentation +++ ++ ++ Notes easy to find elements easy to find elements additional library needed to find selectors by text Other test libraries and frameworks we currently don't use: https://codecept.io/ https://funcunit.com/ https://www.browserstack.com/ http://nightwatchjs.org/ (used by Mozilla's Coral Project ) https://developers.google.com/web/updates/2017/04/headless-chrome","title":"Test Frameworks"},{"location":"developer-guide/translations-weblate/","text":"Contributing Translations with Weblate \u00b6 We operate translate.photoprism.app so that you can easily add and update user interface translations without having any development skills. You can either sign in with your GitHub account or create a new account with an email account you have access to: Provide an alternate address if you want your personal email to remain private as it may appear as authorship in commits, translation files, and pull requests. You are also not required to provide your full name if you do not wish to do so. Let us know privately that you have registered so that we can grant you permissions if needed. When you sign up, you will be asked to accept our Contributor License Agreement (CLA). Visit photoprism.app/cla to learn more. Sign up Agree to CLA Add missing translations Review translations Add new language Navigate to https://translate.photoprism.app/ Click Register and create an account Sign in Select the language you want translate to 3. Open your Dashboard and click Backend (or access to the Backend by clicking here ) 4. Click on View contributor agreement 5. Accept the contributor agreement and click Submit 6. Go back to your Dashboard and repeat steps 3-5 for the Frontend-Component Your Dashboard shows you how many strings have no translation yet. Click on the count Enter the translation and click Save and continue 3. Repeat until all strings are translated Your translations will be reviewed and included in one of the next releases. If translations are missing, we pre-translate messages using services such as DeepL and Google Translate. This can lead to grammatical errors and misunderstandings. Native speakers should check existing translations and improve them if necessary. If you are a native speaker and would like to support us by reviewing existing translations, please write to us at hello@photoprism.app so that we can grant you the rights to review. From your Dashboard open one of the components by clicking on the language 2. Click on Strings waiting for review 3. Review the translation - edit the string if needed. Then select Approved and click Save and continue 4. Repeat until all strings are reviewed Please contact us at hello@photoprism.app and we will set up a new language for you to translate!","title":"Add Translations"},{"location":"developer-guide/translations-weblate/#contributing-translations-with-weblate","text":"We operate translate.photoprism.app so that you can easily add and update user interface translations without having any development skills. You can either sign in with your GitHub account or create a new account with an email account you have access to: Provide an alternate address if you want your personal email to remain private as it may appear as authorship in commits, translation files, and pull requests. You are also not required to provide your full name if you do not wish to do so. Let us know privately that you have registered so that we can grant you permissions if needed. When you sign up, you will be asked to accept our Contributor License Agreement (CLA). Visit photoprism.app/cla to learn more. Sign up Agree to CLA Add missing translations Review translations Add new language Navigate to https://translate.photoprism.app/ Click Register and create an account Sign in Select the language you want translate to 3. Open your Dashboard and click Backend (or access to the Backend by clicking here ) 4. Click on View contributor agreement 5. Accept the contributor agreement and click Submit 6. Go back to your Dashboard and repeat steps 3-5 for the Frontend-Component Your Dashboard shows you how many strings have no translation yet. Click on the count Enter the translation and click Save and continue 3. Repeat until all strings are translated Your translations will be reviewed and included in one of the next releases. If translations are missing, we pre-translate messages using services such as DeepL and Google Translate. This can lead to grammatical errors and misunderstandings. Native speakers should check existing translations and improve them if necessary. If you are a native speaker and would like to support us by reviewing existing translations, please write to us at hello@photoprism.app so that we can grant you the rights to review. From your Dashboard open one of the components by clicking on the language 2. Click on Strings waiting for review 3. Review the translation - edit the string if needed. Then select Approved and click Save and continue 4. Repeat until all strings are reviewed Please contact us at hello@photoprism.app and we will set up a new language for you to translate!","title":"Contributing Translations with Weblate"},{"location":"developer-guide/translations/","text":"Translations \u00b6 Please don't use the method described here to add/edit translations anymore use this instead! PhotoPrism uses gettext for frontend and backend localization. It is one of the most widely used standards for user interface translation: Human-readable messages such as File not found are used as identifiers to search for appropriate translations. They also serve as default values when no translation is available. Messages can optionally contain placeholders for numbers and other variables, for example Found %{n} files . We recommend Poedit for creating and updating translations. The download is free for Mac, Windows and Linux. The source code can be obtained on GitHub . If translations are missing, we pre-translate messages using services such as DeepL and Google Translate. This can lead to grammatical errors and misunderstandings. Native speakers should check existing translations and improve them if necessary. You can use the version compare feature on GitHub to detect changes in translation files. Frontend \u00b6 Localizations can be found in /frontend/src/locales . The POT file, only containing message ids, is translations.pot . *.po files contain localized messages for each language identified by their locale , for example de.po for German and pt_BR.po for Brazilian Portuguese. You can open, edit and save them with Poedit to update existing translations. Add new translation \u00b6 In /frontend run npm run gettext-extract Install a translation tool e.g. Poedit Open the /frontend/src/locales/translations.pot file with Poedit In Poedit click on \"Create New Translation\" at the bottom and select the language Now you can start translating When done, save your translation as *.po file using the language locale (e.g. de.po ) as name Add the new language to the Languages function in /frontend/src/options/options.js Run npm run gettext-compile to compile existing translations into a single translations.json file To test your translations you need to build the frontend again using npm run build or npm run watch Update existing translation \u00b6 In /frontend run npm run gettext-extract Install a translation tool e.g. Poedit Open the *.po file of your language e.g. /frontend/src/locales/fr.po file with Poedit In the Poedit menu click \"Catalogue\" --> \"Update from POT File\" --> select the translations.pot file from /frontend/src/locales Now you can start proofreading and adding the missing translations Once your done save the changes in the *.po file Run npm run gettext-compile to compile existing translations into a single translations.json file To test your translations you need to build the frontend again using npm run build or npm run watch A binary *.mo (machine object) file will be automatically saved along with every *.po file. You won't be able to open those in a text editor, but please include them in git commits or when sending translations via email. The compiled translations.json file is not required for pull requests and often causes merge conflicts. Backend \u00b6 Only asynchronous notifications and certain API responses need translation to provide a consistent user experience. Technical log messages should be in English to avoid ambiguities and (even slightly) wrong translations. Localizations are kept in /assets/locales . The POT file, only containing message ids, is messages.pot . default.po files in sub directories contain localized messages for each language identified by their locale , for example de/default.po for German and pt_BR/default.po for Brazilian Portuguese. You can open, edit and save them with Poedit. Please also add and commit binary *.mo files, which will be automatically created by Poedit. Add new translation \u00b6 Run make generate to update /assets/locales/messages.pot Open the /assets/locales/messages.pot file with Poedit In Poedit click on \"Create New Translation\" at the bottom and select the language Now you can start translating When done, create a new directory (using the locale as name) and save your translation there as default.po Update existing translation \u00b6 Run make generate to update /assets/locales/messages.pot Open the /assets/locales/fr/default.po file with Poedit In the Poedit menu click \"Catalogue\" --> \"Update from POT File\" --> select the messages.pot file from /assets/locales/ Now you can start proofreading and adding the missing translations Once you're done, save the changes in the default.po file This will only work when you have gettext installed on your system. We recommend using our latest development image as described in the setup instructions .","title":"Legacy Method"},{"location":"developer-guide/translations/#translations","text":"Please don't use the method described here to add/edit translations anymore use this instead! PhotoPrism uses gettext for frontend and backend localization. It is one of the most widely used standards for user interface translation: Human-readable messages such as File not found are used as identifiers to search for appropriate translations. They also serve as default values when no translation is available. Messages can optionally contain placeholders for numbers and other variables, for example Found %{n} files . We recommend Poedit for creating and updating translations. The download is free for Mac, Windows and Linux. The source code can be obtained on GitHub . If translations are missing, we pre-translate messages using services such as DeepL and Google Translate. This can lead to grammatical errors and misunderstandings. Native speakers should check existing translations and improve them if necessary. You can use the version compare feature on GitHub to detect changes in translation files.","title":"Translations"},{"location":"developer-guide/translations/#frontend","text":"Localizations can be found in /frontend/src/locales . The POT file, only containing message ids, is translations.pot . *.po files contain localized messages for each language identified by their locale , for example de.po for German and pt_BR.po for Brazilian Portuguese. You can open, edit and save them with Poedit to update existing translations.","title":"Frontend"},{"location":"developer-guide/translations/#add-new-translation","text":"In /frontend run npm run gettext-extract Install a translation tool e.g. Poedit Open the /frontend/src/locales/translations.pot file with Poedit In Poedit click on \"Create New Translation\" at the bottom and select the language Now you can start translating When done, save your translation as *.po file using the language locale (e.g. de.po ) as name Add the new language to the Languages function in /frontend/src/options/options.js Run npm run gettext-compile to compile existing translations into a single translations.json file To test your translations you need to build the frontend again using npm run build or npm run watch","title":"Add new translation"},{"location":"developer-guide/translations/#update-existing-translation","text":"In /frontend run npm run gettext-extract Install a translation tool e.g. Poedit Open the *.po file of your language e.g. /frontend/src/locales/fr.po file with Poedit In the Poedit menu click \"Catalogue\" --> \"Update from POT File\" --> select the translations.pot file from /frontend/src/locales Now you can start proofreading and adding the missing translations Once your done save the changes in the *.po file Run npm run gettext-compile to compile existing translations into a single translations.json file To test your translations you need to build the frontend again using npm run build or npm run watch A binary *.mo (machine object) file will be automatically saved along with every *.po file. You won't be able to open those in a text editor, but please include them in git commits or when sending translations via email. The compiled translations.json file is not required for pull requests and often causes merge conflicts.","title":"Update existing translation"},{"location":"developer-guide/translations/#backend","text":"Only asynchronous notifications and certain API responses need translation to provide a consistent user experience. Technical log messages should be in English to avoid ambiguities and (even slightly) wrong translations. Localizations are kept in /assets/locales . The POT file, only containing message ids, is messages.pot . default.po files in sub directories contain localized messages for each language identified by their locale , for example de/default.po for German and pt_BR/default.po for Brazilian Portuguese. You can open, edit and save them with Poedit. Please also add and commit binary *.mo files, which will be automatically created by Poedit.","title":"Backend"},{"location":"developer-guide/translations/#add-new-translation_1","text":"Run make generate to update /assets/locales/messages.pot Open the /assets/locales/messages.pot file with Poedit In Poedit click on \"Create New Translation\" at the bottom and select the language Now you can start translating When done, create a new directory (using the locale as name) and save your translation there as default.po","title":"Add new translation"},{"location":"developer-guide/translations/#update-existing-translation_1","text":"Run make generate to update /assets/locales/messages.pot Open the /assets/locales/fr/default.po file with Poedit In the Poedit menu click \"Catalogue\" --> \"Update from POT File\" --> select the messages.pot file from /assets/locales/ Now you can start proofreading and adding the missing translations Once you're done, save the changes in the default.po file This will only work when you have gettext installed on your system. We recommend using our latest development image as described in the setup instructions .","title":"Update existing translation"},{"location":"developer-guide/checklists/web-security/","text":"see https://owasp.org/","title":"Web Security"},{"location":"developer-guide/clients/go/","text":"Go API Client \u00b6 Maintained by Kris N\u00f3va GitHub URL: https://github.com/kris-nova/photoprism-client-go Installation \u00b6 go get github.com/kris-nova/photoprism-client-go Methods \u00b6 func New ( connURL * url . URL , token , downloadToken string ) * V1Client func ( v1 * V1Client ) AddPhotosToAlbum ( albumUUID string , photoIDs [] string ) error func ( v1 * V1Client ) ApprovePhoto ( uuid string ) error func ( v1 * V1Client ) CancelIndex () error func ( v1 * V1Client ) CloneAlbum ( album Album ) ( Album , error ) func ( v1 * V1Client ) CreateAlbum ( album Album ) ( Album , error ) func ( v1 * V1Client ) DeleteAlbums ( albumUUIDs [] string ) error func ( v1 * V1Client ) DELETE ( payload interface {}, endpointFormat string , a ... interface {}) * V1Response func ( v1 * V1Client ) DeletePhotosFromAlbum ( albumUUID string , photoIDs [] string ) error func ( v1 * V1Client ) DislikeAlbum ( uuid string ) error func ( v1 * V1Client ) DislikePhoto ( uuid string ) error func ( v1 * V1Client ) Endpoint ( str string ) string func ( v1 * V1Client ) GetAlbumDownload ( uuid string ) ([] byte , error ) func ( v1 * V1Client ) GetAlbums ( options * AlbumOptions ) ([] Album , error ) func ( v1 * V1Client ) GetAlbum ( uuid string ) ( Album , error ) func ( v1 * V1Client ) GET ( endpointFormat string , a ... interface {}) * V1Response func ( v1 * V1Client ) GetPhotoDownload ( uuid string ) ([] byte , error ) func ( v1 * V1Client ) GetPhotos ( options * PhotoOptions ) ([] Photo , error ) func ( v1 * V1Client ) GetPhoto ( uuid string ) ( Photo , error ) func ( v1 * V1Client ) GetPhotoYaml ( uuid string ) ([] byte , error ) func ( v1 * V1Client ) Index () error func ( v1 * V1Client ) LikeAlbum ( uuid string ) error func ( v1 * V1Client ) LikePhoto ( uuid string ) error func ( v1 * V1Client ) PhotoPrimary ( uuid , fileuuid string ) error func ( v1 * V1Client ) POST ( payload interface {}, endpointFormat string , a ... interface {}) * V1Response func ( v1 * V1Client ) PUT ( payload interface {}, endpointFormat string , a ... interface {}) * V1Response func ( v1 * V1Client ) SetToken ( token string ) func ( v1 * V1Client ) UpdateAlbum ( album Album ) ( Album , error ) func ( v1 * V1Client ) UpdatePhoto ( photo Photo ) ( Photo , error ) Example \u00b6 package main import ( \"fmt\" \"io/ioutil\" \"path\" photoprism \"github.com/kris-nova/photoprism-client-go\" \"github.com/kris-nova/logger\" ) func main () logger . Level = 4 uuid := \"pqnzigq351j2fqgn\" // This is a known ID client := photoprism . New ( \"http://localhost:8080\" ) err := client . Auth ( photoprism . NewClientAuthLogin ( \"admin\" , \"missy\" )) if err != nil logger . Critical ( \"Error logging into API: %v\" , err ) os . Exit ( 1 ) } // ----------------- // GetPhoto() // photo , err := client . V1 (). GetPhoto ( uuid ) if err != nil logger . Critical ( \"Error fetching photo: %v\" , err ) os . Exit ( 1 ) } // ----------------- // UpdatePhoto() // photo . PhotoTitle = \"A really great photo!\" photo , err = client . V1 (). UpdatePhoto ( photo ) if err != nil logger . Critical ( \"Error updating photo: %v\" , err ) os . Exit ( 1 ) } // ----------------- // GetPhotoDownload() // file , err := client . V1 (). GetPhotoDownload ( photo . UUID ) if err != nil logger . Critical ( \"Error getting photo download: %v\" , err ) os . Exit ( 1 ) } for _ , f := range photo . Files fileName := fmt . Sprintf ( \"/tmp/%s\" , path . Base ( f . FileName )) logger . Always ( fileName ) ioutil . WriteFile ( fileName , file , 0666 ) } os . Exit ( 0 ) }","title":"Go"},{"location":"developer-guide/clients/go/#go-api-client","text":"Maintained by Kris N\u00f3va GitHub URL: https://github.com/kris-nova/photoprism-client-go","title":"Go API Client"},{"location":"developer-guide/clients/go/#installation","text":"go get github.com/kris-nova/photoprism-client-go","title":"Installation"},{"location":"developer-guide/clients/go/#methods","text":"func New ( connURL * url . URL , token , downloadToken string ) * V1Client func ( v1 * V1Client ) AddPhotosToAlbum ( albumUUID string , photoIDs [] string ) error func ( v1 * V1Client ) ApprovePhoto ( uuid string ) error func ( v1 * V1Client ) CancelIndex () error func ( v1 * V1Client ) CloneAlbum ( album Album ) ( Album , error ) func ( v1 * V1Client ) CreateAlbum ( album Album ) ( Album , error ) func ( v1 * V1Client ) DeleteAlbums ( albumUUIDs [] string ) error func ( v1 * V1Client ) DELETE ( payload interface {}, endpointFormat string , a ... interface {}) * V1Response func ( v1 * V1Client ) DeletePhotosFromAlbum ( albumUUID string , photoIDs [] string ) error func ( v1 * V1Client ) DislikeAlbum ( uuid string ) error func ( v1 * V1Client ) DislikePhoto ( uuid string ) error func ( v1 * V1Client ) Endpoint ( str string ) string func ( v1 * V1Client ) GetAlbumDownload ( uuid string ) ([] byte , error ) func ( v1 * V1Client ) GetAlbums ( options * AlbumOptions ) ([] Album , error ) func ( v1 * V1Client ) GetAlbum ( uuid string ) ( Album , error ) func ( v1 * V1Client ) GET ( endpointFormat string , a ... interface {}) * V1Response func ( v1 * V1Client ) GetPhotoDownload ( uuid string ) ([] byte , error ) func ( v1 * V1Client ) GetPhotos ( options * PhotoOptions ) ([] Photo , error ) func ( v1 * V1Client ) GetPhoto ( uuid string ) ( Photo , error ) func ( v1 * V1Client ) GetPhotoYaml ( uuid string ) ([] byte , error ) func ( v1 * V1Client ) Index () error func ( v1 * V1Client ) LikeAlbum ( uuid string ) error func ( v1 * V1Client ) LikePhoto ( uuid string ) error func ( v1 * V1Client ) PhotoPrimary ( uuid , fileuuid string ) error func ( v1 * V1Client ) POST ( payload interface {}, endpointFormat string , a ... interface {}) * V1Response func ( v1 * V1Client ) PUT ( payload interface {}, endpointFormat string , a ... interface {}) * V1Response func ( v1 * V1Client ) SetToken ( token string ) func ( v1 * V1Client ) UpdateAlbum ( album Album ) ( Album , error ) func ( v1 * V1Client ) UpdatePhoto ( photo Photo ) ( Photo , error )","title":"Methods"},{"location":"developer-guide/clients/go/#example","text":"package main import ( \"fmt\" \"io/ioutil\" \"path\" photoprism \"github.com/kris-nova/photoprism-client-go\" \"github.com/kris-nova/logger\" ) func main () logger . Level = 4 uuid := \"pqnzigq351j2fqgn\" // This is a known ID client := photoprism . New ( \"http://localhost:8080\" ) err := client . Auth ( photoprism . NewClientAuthLogin ( \"admin\" , \"missy\" )) if err != nil logger . Critical ( \"Error logging into API: %v\" , err ) os . Exit ( 1 ) } // ----------------- // GetPhoto() // photo , err := client . V1 (). GetPhoto ( uuid ) if err != nil logger . Critical ( \"Error fetching photo: %v\" , err ) os . Exit ( 1 ) } // ----------------- // UpdatePhoto() // photo . PhotoTitle = \"A really great photo!\" photo , err = client . V1 (). UpdatePhoto ( photo ) if err != nil logger . Critical ( \"Error updating photo: %v\" , err ) os . Exit ( 1 ) } // ----------------- // GetPhotoDownload() // file , err := client . V1 (). GetPhotoDownload ( photo . UUID ) if err != nil logger . Critical ( \"Error getting photo download: %v\" , err ) os . Exit ( 1 ) } for _ , f := range photo . Files fileName := fmt . Sprintf ( \"/tmp/%s\" , path . Base ( f . FileName )) logger . Always ( fileName ) ioutil . WriteFile ( fileName , file , 0666 ) } os . Exit ( 0 ) }","title":"Example"},{"location":"developer-guide/media/","text":"Supported Media and Sidecar File Formats \u00b6 Format Description Type Extensions BMP Bitmap Image .bmp GIF Graphics Interchange Format Image .gif HEIF High Efficiency Image File Format Image .avci, .avcs, .avif, .avifs, .heic, .heics, .heif, .heifs JPG Joint Photographic Experts Group (JPEG) Image .jfi, .jfif, .jif, .jpe, .jpeg, .jpg, .thm MPO Stereoscopic JPEG (3D) Image .mpo PNG Portable Network Graphics Image .pn, .png TIFF Tag Image File Format Image .tif, .tiff WEBP Google WebP Image .webp RAW Unprocessed Sensor Data Raw .3fr, .ari, .arw, .bay, .cap, .cr2, .cr3, .crw, .data, .dcr, .dcs, .dng, .drf, .eip, .erf, .fff, .gpr, .iiq, .k25, .kdc, .mdc, .mef, .mos, .mrw, .nef, .nrw, .obm, .orf, .pef, .ptx, .pxn, .r3d, .raf, .raw, .rw2, .rwl, .rwz, .sr2, .srf, .srw, .x3f AAE Apple Image Edits XML Sidecar .aae JSON Serialized JSON Data (Exiftool, Google Photos) Sidecar .json MD Markdown Formatted Text Sidecar .markdown, .md TXT Plain Text Sidecar .txt XML Extensible Markup Language Sidecar .xml XMP Adobe Extensible Metadata Platform Sidecar .xmp YML Serialized YAML Data (Config, Metadata) Sidecar .yaml, .yml 3G2 Mobile Multimedia Container (CDMA2000) Video .3g2 3GP Mobile Multimedia Container (3G) Video .3gp ASF Advanced Systems Format Video .asf AV1 AOMedia Video 1 Video .av1 AVC Advanced Video Coding (H.264, MPEG-4 Part 10) Video .avc AVI Microsoft Audio Video Interleave Video .avi FLV Adobe Flash Video .f4v, .flv HEVC High Efficiency Video Coding (H.265) Video .hevc MJPG Motion JPEG Video .mjpeg, .mjpg MKV Matroska Multimedia Container Video .mkv MOV Apple QuickTime Video .mov, .qt MP2 MPEG 2 (H.262) Video .mp2, .mpv MP4 Multimedia Container (MPEG-4 Part 14) Video .m4v, .mp, .mp4 MPG Moving Picture Experts Group (MPEG) Video .mpeg, .mpg MTS Advanced Video Coding High Definition (AVCHD) Video .mts OGV Ogg Media (OGG) Video .ogg, .ogv, .ogx VVC Versatile Video Coding (H.266) Video .vvc WEBM Google WebM Video .webm WMV Windows Media Video .wmv CLI Command \u00b6 Run photoprism show formats in a terminal to list supported media and sidecar file formats. Command Flags: --md , -m format as machine-readable Markdown --csv , -c export as semicolon separated values --tsv , -t export as tab separated values --short , -s hide format descriptions","title":"Formats"},{"location":"developer-guide/media/#supported-media-and-sidecar-file-formats","text":"Format Description Type Extensions BMP Bitmap Image .bmp GIF Graphics Interchange Format Image .gif HEIF High Efficiency Image File Format Image .avci, .avcs, .avif, .avifs, .heic, .heics, .heif, .heifs JPG Joint Photographic Experts Group (JPEG) Image .jfi, .jfif, .jif, .jpe, .jpeg, .jpg, .thm MPO Stereoscopic JPEG (3D) Image .mpo PNG Portable Network Graphics Image .pn, .png TIFF Tag Image File Format Image .tif, .tiff WEBP Google WebP Image .webp RAW Unprocessed Sensor Data Raw .3fr, .ari, .arw, .bay, .cap, .cr2, .cr3, .crw, .data, .dcr, .dcs, .dng, .drf, .eip, .erf, .fff, .gpr, .iiq, .k25, .kdc, .mdc, .mef, .mos, .mrw, .nef, .nrw, .obm, .orf, .pef, .ptx, .pxn, .r3d, .raf, .raw, .rw2, .rwl, .rwz, .sr2, .srf, .srw, .x3f AAE Apple Image Edits XML Sidecar .aae JSON Serialized JSON Data (Exiftool, Google Photos) Sidecar .json MD Markdown Formatted Text Sidecar .markdown, .md TXT Plain Text Sidecar .txt XML Extensible Markup Language Sidecar .xml XMP Adobe Extensible Metadata Platform Sidecar .xmp YML Serialized YAML Data (Config, Metadata) Sidecar .yaml, .yml 3G2 Mobile Multimedia Container (CDMA2000) Video .3g2 3GP Mobile Multimedia Container (3G) Video .3gp ASF Advanced Systems Format Video .asf AV1 AOMedia Video 1 Video .av1 AVC Advanced Video Coding (H.264, MPEG-4 Part 10) Video .avc AVI Microsoft Audio Video Interleave Video .avi FLV Adobe Flash Video .f4v, .flv HEVC High Efficiency Video Coding (H.265) Video .hevc MJPG Motion JPEG Video .mjpeg, .mjpg MKV Matroska Multimedia Container Video .mkv MOV Apple QuickTime Video .mov, .qt MP2 MPEG 2 (H.262) Video .mp2, .mpv MP4 Multimedia Container (MPEG-4 Part 14) Video .m4v, .mp, .mp4 MPG Moving Picture Experts Group (MPEG) Video .mpeg, .mpg MTS Advanced Video Coding High Definition (AVCHD) Video .mts OGV Ogg Media (OGG) Video .ogg, .ogv, .ogx VVC Versatile Video Coding (H.266) Video .vvc WEBM Google WebM Video .webm WMV Windows Media Video .wmv","title":"Supported Media and Sidecar File Formats"},{"location":"developer-guide/media/#cli-command","text":"Run photoprism show formats in a terminal to list supported media and sidecar file formats. Command Flags: --md , -m format as machine-readable Markdown --csv , -c export as semicolon separated values --tsv , -t export as tab separated values --short , -s hide format descriptions","title":"CLI Command"},{"location":"developer-guide/media/abstraction/","text":"We need to add file system abstraction, also to speed up testing. Afero seems to be the gold standard for this in the Go world: https://github.com/spf13/afero Issues \u00b6 Embedded Database + Bleve for search? #55 Postgres support? #47 Links \u00b6 https://github.com/rclone/rclone - rsync for cloud storage (Google Drive, AWS, One Drive, ...) https://github.com/minio - Object Storage for AI upper.io/db.v3 - a productive data access layer for Go LevelDB - fast key-value storage library written at Google (written in Go) Bleve - full-text search and indexing for Go TiDB - a distributed HTAP database compatible with the MySQL protocol (written in Go) KSQL - the Streaming SQL Engine for Apache Kafka CockroachDB - ultra-resilient SQL for global business (written in Go) LedisDB - a high performance NoSQL like Redis powered by Go https://github.com/go-pg/pg - Golang ORM with focus on PostgreSQL features and performance https://github.com/go-redis/redis - Type-safe Redis client for Golang","title":"Abstraction"},{"location":"developer-guide/media/abstraction/#issues","text":"Embedded Database + Bleve for search? #55 Postgres support? #47","title":"Issues"},{"location":"developer-guide/media/abstraction/#links","text":"https://github.com/rclone/rclone - rsync for cloud storage (Google Drive, AWS, One Drive, ...) https://github.com/minio - Object Storage for AI upper.io/db.v3 - a productive data access layer for Go LevelDB - fast key-value storage library written at Google (written in Go) Bleve - full-text search and indexing for Go TiDB - a distributed HTAP database compatible with the MySQL protocol (written in Go) KSQL - the Streaming SQL Engine for Apache Kafka CockroachDB - ultra-resilient SQL for global business (written in Go) LedisDB - a high performance NoSQL like Redis powered by Go https://github.com/go-pg/pg - Golang ORM with focus on PostgreSQL features and performance https://github.com/go-redis/redis - Type-safe Redis client for Golang","title":"Links"},{"location":"developer-guide/media/encryption/","text":"Encryption \u00b6 Related tickets \u00b6 Support for cloud storage with encryption","title":"Encryption"},{"location":"developer-guide/media/encryption/#encryption","text":"","title":"Encryption"},{"location":"developer-guide/media/encryption/#related-tickets","text":"Support for cloud storage with encryption","title":"Related tickets"},{"location":"developer-guide/media/heif/","text":"HEIF is a new image file format employing HEVC (h.265) image coding for the best compression ratios currently possible. Newer iPhones use it for internal photo storage. It is supported on iOS 11 and macOS High Sierra and later. Todo \u00b6 Figure out how to create thumbnails from HEIF files with Go (ideally without using cgo / c++ libraries). HEIF support is currently implemented using heif-convert, which is an external tool. Links \u00b6 https://www.idownloadblog.com/2017/10/18/how-to-convert-heif-to-jpeg-imazing-heic-converter/ - How to convert HEIF images to JPEGs with iMazing HEIC Converter https://github.com/strukturag/libheif - libheif is a ISO/IEC 23008-12:2017 HEIF file format decoder and encoder (C++) https://github.com/nokiatech/heif - Reader/Writer Engine is an implementation of the HEIF standard to demonstrate its powerful features and capabilities (C++) https://github.com/monostream/tifig - A fast HEIF image converter aimed at thumbnailing https://github.com/perkeep/perkeep/issues/969 - HEIC/HEVC support in Perkeep https://github.com/jdeng/goheif/ - A decoder/converter for HEIC based on libde265 (CGO)","title":"HEIF / HEIC"},{"location":"developer-guide/media/heif/#todo","text":"Figure out how to create thumbnails from HEIF files with Go (ideally without using cgo / c++ libraries). HEIF support is currently implemented using heif-convert, which is an external tool.","title":"Todo"},{"location":"developer-guide/media/heif/#links","text":"https://www.idownloadblog.com/2017/10/18/how-to-convert-heif-to-jpeg-imazing-heic-converter/ - How to convert HEIF images to JPEGs with iMazing HEIC Converter https://github.com/strukturag/libheif - libheif is a ISO/IEC 23008-12:2017 HEIF file format decoder and encoder (C++) https://github.com/nokiatech/heif - Reader/Writer Engine is an implementation of the HEIF standard to demonstrate its powerful features and capabilities (C++) https://github.com/monostream/tifig - A fast HEIF image converter aimed at thumbnailing https://github.com/perkeep/perkeep/issues/969 - HEIC/HEVC support in Perkeep https://github.com/jdeng/goheif/ - A decoder/converter for HEIC based on libde265 (CGO)","title":"Links"},{"location":"developer-guide/media/import/","text":"As PhotoPrism is a complete photo management solution, it is not only possible to index existing images, but also to add / upload new files to a photo collection or delete existing photos to save storage. There has been a debate on whether PhotoPrism should be responsible for file naming, see Support Photos In Place on Hard Drive #41 . As soon as you want the software to create new files or merge photo libraries from different devices, there is no other way. Therefore we're going to implement a read-only mode for those who want to use it as a gallery with reduced functionality, see Read-only mode #56 . Post Processing / Keyboard Shortcuts \u00b6 After importing new images, it would be amazing to be able to quickly sort / review them. This way the library stays clean and well organized, even without applying filters to hide bad shots. Apparently this is common among users of Adobe Bridge , a tool used by many professionals. They go through complete asset collections and sort photos using keyboard shortcuts, where keys toggle pre-defined tags or flags like \"favorite\". Upload \u00b6 Idea: We can use Webassembly for performance improvements / faster upload.","title":"Import"},{"location":"developer-guide/media/import/#post-processing-keyboard-shortcuts","text":"After importing new images, it would be amazing to be able to quickly sort / review them. This way the library stays clean and well organized, even without applying filters to hide bad shots. Apparently this is common among users of Adobe Bridge , a tool used by many professionals. They go through complete asset collections and sort photos using keyboard shortcuts, where keys toggle pre-defined tags or flags like \"favorite\".","title":"Post Processing / Keyboard Shortcuts"},{"location":"developer-guide/media/import/#upload","text":"Idea: We can use Webassembly for performance improvements / faster upload.","title":"Upload"},{"location":"developer-guide/media/raw/","text":"Many photographers keep their originals in some sort of lossless RAW format instead of compressed JPEG, especially when shooting with a Digital SLR. Some mobile phones also support RAW or use HEIC/HEIF for a similar purpose. PhotoPrism aims at providing excellent support for all RAW formats, independent of camera brand and model. Please let us know when there is an issue with your specific device. Web browsers in general can not display RAW image files. They need to be converted, which is what our import and convert commands do. You'll also find a checkbox for this step in our Web UI. In addition, PhotoPrism now also supports TIFF, PNG, BMP and GIF files. Be aware that files in those formats often don't contain useful metadata and are typically used for screenshots, charts, graphs and icons only. Sips \u00b6 On a Mac, PhotoPrism can convert multiple files at once using Sips (pre-installed on OS X). It is not available for other operating systems, as far as we know. Darktable \u00b6 We've recently upgraded Darktable from 2.6.2 to 3.0.0. Since the old PPA is not maintained anymore, we switched to this repository that is hosted by SuSE: https://software.opensuse.org/download.html?project=graphics:darktable:master&package=darktable Note that PhotoPrism can only run one instance of darktable-cli because it uses a lock file. If you run it more than once, it will fail. Be prepared to wait a bit. Using Darktable as library \u00b6 We had the idea to use cgo and link directly against libdarktable.so to convert RAW images to JPEG, see darktable-dev mailing list . However this requires calling/wrapping a large number of C functions and also has other disadvantages . The idea is postponed until a clear benefit becomes visible. Running darktable-cli or any other binary that does the job (see above) seems to be the way to go. Comparison of RAW to JPEG converters \u00b6 darktable - popular open-source photography app and raw developer; available for Mac, Linux, and Windows; supports XMP (compatible with photoshop/lightroom?) Mac OS X ships with sips : sips -s format jpeg IMAGE.RAW --out IMAGE.JPG Photivo - open-source photo processor; available for Mac, Linux, and Windows; no XMP support? RawTherapee - open-source RAW image processing app; available for Mac, Linux, and Windows; no XMP support? digiKam - open-source digital photo management application based on Qt (KDE); available for Mac, Linux, and Windows; supports XMP (compatible with photoshop/lightroom?) UFRaw - Unidentified Flying Raw is a utility to read and manipulate raw images from digital cameras Tool Command line options Compatible OS JPG Diff* XMP support Possible settings EXIF Diff* Compatible with Raspberry (ARM64) Darktable 1) darktable-cli IMG_0310.CR2 IMG_0310_darktable1.jpg 2) darktable-cli IMG_0310_EDITED.CR2 IMG_0310_EDITED.xmp IMG_0310_EDITED_darktable2.jpg macOS, Linux, Windows **** yes (but seems to be not compatible with adobe xmps) ? **** yes Sips sips -s format jpeg IMG_0310.CR2 --out IMG_0310_sips.jpg macOS ***** no ? **** not available for ubuntu Rawtherapee rawtherapee-cli -o IMG_0310_rawtherapee.jpg -c IMG_0310.CR2 macOS, Linux, Windows *** no ? **** yes UFraw ufraw-batch --out-type=jpg --output=IMG_0310_ufraw.jpg IMG_0310.CR2 macOS, Linux, Windows * no ? ** yes ImageMagick magick IMG_0310.CR2 IMG_0310_magick.jpg macOS, Linux, Windows * no ? ** yes Digikam ? macOS, Linux, Windows - - - - - Photiva ? macOS, Linux, Windows - - - - - * Compared to JPG/EXIF converted from photoshop Image Diff \u00b6 The following table shows the difference between the JPEG files converted by Darktable, Sips, Rawtherapee, UFraw and ImageMagick compared to Adobe Photoshop. Red are pixel that differ from the photoshop version, white are equal pixels. In total 5 Images have been compared ( full results ). The diff was created using https://github.com/ewanmellor/git-diff-image . Tool Diff (left is Photoshop) Darktable Sips Rawtherapee UFraw ImageMagick EXIF Diff \u00b6 The following table shows the difference between the JPG files converted by the tools compared to JPG files converted by photoshop. 5 Images have been compared. Info Photoshop Sips Darktable Raw-therapee Image Magick UFraw Kind identical identical identical identical identical identical Size 2.881.969 bytes (EXIF)/ 2.7M (ls -alh) 2.673.777 bytes / 2.5M 5.446.710 bytes / 5.2M always bigger 3.467.998 bytes / 3.3M 3.467.998 bytes / 3.3M 1.558.587 bytes / 1.5M always smaller Where reference different different different different different Created reference different different different different different Modified reference different different different different different Dimension identical - 5472\u200a\u00d7\u200a3648 5472\u200a\u00d7\u200a3648 different - 5494\u200a\u00d7\u200a3666 different - 5488\u200a\u00d7\u200a3662 different - 5496\u200a\u00d7\u200a3670 different - 5496\u200a\u00d7\u200a3670 Device Make refrence identical identical identical not set not set Colour space reference identical identical identical identical identical Colour profile Adobe RGB (1998) different - Display P3 different - sRGB different - RTv2_sRGB not set not set Focal length reference identical identical identical not set not set Alpha Channel reference identical identical identical not set not set Red eye reference identical identical identical not set not set Metering Mode reference identical identical identical not set not set F number reference identical identical identical not set not set Exposure program reference identical identical identical not set not set Exposure time reference identical identical identical not set not set Latitude reference sometimes very small differences identical identical not set not set Longitude reference sometimes very small differences identical identical not set not set Adobe Photoshop / Lightroom \u00b6 Ideally we can convert images directly with Photoshop or Lightroom, if installed. It seems like Photoshop comes with some sort of command-line automation tool based on NodeJS: https://github.com/adobe-photoshop/generator-core See https://photo.stackexchange.com/questions/39532/command-line-approach-to-develop-raw-images-with-adobe-xmp-sidecars This needs further investigation. Contributions welcome! Todo / Reading List \u00b6 Compare the quality and XMP compatibility of different RAW converters #65 Investigate if PhotoShop or Lightroom can be used to convert images on the command line Collect example RAW files of common camera brands and models Figure out how we can implement \"auto-enhance\" (automatically fix exposure and write XMP file while converting to JPEG) https://howtogimp.com/raw-photos-in-gimp/ - RAW converters to use with GIMP https://github.com/mdouchement/hdr - HDR is a library that handles RAW image format written with Golang","title":"RAW Images"},{"location":"developer-guide/media/raw/#sips","text":"On a Mac, PhotoPrism can convert multiple files at once using Sips (pre-installed on OS X). It is not available for other operating systems, as far as we know.","title":"Sips"},{"location":"developer-guide/media/raw/#darktable","text":"We've recently upgraded Darktable from 2.6.2 to 3.0.0. Since the old PPA is not maintained anymore, we switched to this repository that is hosted by SuSE: https://software.opensuse.org/download.html?project=graphics:darktable:master&package=darktable Note that PhotoPrism can only run one instance of darktable-cli because it uses a lock file. If you run it more than once, it will fail. Be prepared to wait a bit.","title":"Darktable"},{"location":"developer-guide/media/raw/#using-darktable-as-library","text":"We had the idea to use cgo and link directly against libdarktable.so to convert RAW images to JPEG, see darktable-dev mailing list . However this requires calling/wrapping a large number of C functions and also has other disadvantages . The idea is postponed until a clear benefit becomes visible. Running darktable-cli or any other binary that does the job (see above) seems to be the way to go.","title":"Using Darktable as library"},{"location":"developer-guide/media/raw/#comparison-of-raw-to-jpeg-converters","text":"darktable - popular open-source photography app and raw developer; available for Mac, Linux, and Windows; supports XMP (compatible with photoshop/lightroom?) Mac OS X ships with sips : sips -s format jpeg IMAGE.RAW --out IMAGE.JPG Photivo - open-source photo processor; available for Mac, Linux, and Windows; no XMP support? RawTherapee - open-source RAW image processing app; available for Mac, Linux, and Windows; no XMP support? digiKam - open-source digital photo management application based on Qt (KDE); available for Mac, Linux, and Windows; supports XMP (compatible with photoshop/lightroom?) UFRaw - Unidentified Flying Raw is a utility to read and manipulate raw images from digital cameras Tool Command line options Compatible OS JPG Diff* XMP support Possible settings EXIF Diff* Compatible with Raspberry (ARM64) Darktable 1) darktable-cli IMG_0310.CR2 IMG_0310_darktable1.jpg 2) darktable-cli IMG_0310_EDITED.CR2 IMG_0310_EDITED.xmp IMG_0310_EDITED_darktable2.jpg macOS, Linux, Windows **** yes (but seems to be not compatible with adobe xmps) ? **** yes Sips sips -s format jpeg IMG_0310.CR2 --out IMG_0310_sips.jpg macOS ***** no ? **** not available for ubuntu Rawtherapee rawtherapee-cli -o IMG_0310_rawtherapee.jpg -c IMG_0310.CR2 macOS, Linux, Windows *** no ? **** yes UFraw ufraw-batch --out-type=jpg --output=IMG_0310_ufraw.jpg IMG_0310.CR2 macOS, Linux, Windows * no ? ** yes ImageMagick magick IMG_0310.CR2 IMG_0310_magick.jpg macOS, Linux, Windows * no ? ** yes Digikam ? macOS, Linux, Windows - - - - - Photiva ? macOS, Linux, Windows - - - - - * Compared to JPG/EXIF converted from photoshop","title":"Comparison of RAW to JPEG converters"},{"location":"developer-guide/media/raw/#image-diff","text":"The following table shows the difference between the JPEG files converted by Darktable, Sips, Rawtherapee, UFraw and ImageMagick compared to Adobe Photoshop. Red are pixel that differ from the photoshop version, white are equal pixels. In total 5 Images have been compared ( full results ). The diff was created using https://github.com/ewanmellor/git-diff-image . Tool Diff (left is Photoshop) Darktable Sips Rawtherapee UFraw ImageMagick","title":"Image Diff"},{"location":"developer-guide/media/raw/#exif-diff","text":"The following table shows the difference between the JPG files converted by the tools compared to JPG files converted by photoshop. 5 Images have been compared. Info Photoshop Sips Darktable Raw-therapee Image Magick UFraw Kind identical identical identical identical identical identical Size 2.881.969 bytes (EXIF)/ 2.7M (ls -alh) 2.673.777 bytes / 2.5M 5.446.710 bytes / 5.2M always bigger 3.467.998 bytes / 3.3M 3.467.998 bytes / 3.3M 1.558.587 bytes / 1.5M always smaller Where reference different different different different different Created reference different different different different different Modified reference different different different different different Dimension identical - 5472\u200a\u00d7\u200a3648 5472\u200a\u00d7\u200a3648 different - 5494\u200a\u00d7\u200a3666 different - 5488\u200a\u00d7\u200a3662 different - 5496\u200a\u00d7\u200a3670 different - 5496\u200a\u00d7\u200a3670 Device Make refrence identical identical identical not set not set Colour space reference identical identical identical identical identical Colour profile Adobe RGB (1998) different - Display P3 different - sRGB different - RTv2_sRGB not set not set Focal length reference identical identical identical not set not set Alpha Channel reference identical identical identical not set not set Red eye reference identical identical identical not set not set Metering Mode reference identical identical identical not set not set F number reference identical identical identical not set not set Exposure program reference identical identical identical not set not set Exposure time reference identical identical identical not set not set Latitude reference sometimes very small differences identical identical not set not set Longitude reference sometimes very small differences identical identical not set not set","title":"EXIF Diff"},{"location":"developer-guide/media/raw/#adobe-photoshop-lightroom","text":"Ideally we can convert images directly with Photoshop or Lightroom, if installed. It seems like Photoshop comes with some sort of command-line automation tool based on NodeJS: https://github.com/adobe-photoshop/generator-core See https://photo.stackexchange.com/questions/39532/command-line-approach-to-develop-raw-images-with-adobe-xmp-sidecars This needs further investigation. Contributions welcome!","title":"Adobe Photoshop / Lightroom"},{"location":"developer-guide/media/raw/#todo-reading-list","text":"Compare the quality and XMP compatibility of different RAW converters #65 Investigate if PhotoShop or Lightroom can be used to convert images on the command line Collect example RAW files of common camera brands and models Figure out how we can implement \"auto-enhance\" (automatically fix exposure and write XMP file while converting to JPEG) https://howtogimp.com/raw-photos-in-gimp/ - RAW converters to use with GIMP https://github.com/mdouchement/hdr - HDR is a library that handles RAW image format written with Golang","title":"Todo / Reading List"},{"location":"developer-guide/media/samples/","text":"For now, we only want to support RAW and JPEG from the most popular camera brands/models. Therefore we need an archive of example pictures for testing purposes. In the tables below you see for which camera models we still need images. In case you have images from the requested cameras you want to share with us: You can get an account for uploading example images to https://dl.photoprism.app/samples/ , please ask You can also send us images per mail Most Popular Brands according to Flickr \u00b6 https://www.flickr.com/cameras Market Share by Brand (2016): \u00b6 DSLR cameras: Brand Share Canon 63.3% Nikon 31.6% Ricoh Imaging (Pentax) 4.8% System cameras: Brand Share Olympus 26.8% Canon 18.5% Sony 17.9% Brands with the highest market share 2016 Most popular camera models: \u00b6 Camera models supported by photoshop: \u00b6 https://helpx.adobe.com/camera-raw/kb/camera-raw-plug-supported-cameras.html","title":"Samples"},{"location":"developer-guide/media/samples/#most-popular-brands-according-to-flickr","text":"https://www.flickr.com/cameras","title":"Most Popular Brands according to Flickr"},{"location":"developer-guide/media/samples/#market-share-by-brand-2016","text":"DSLR cameras: Brand Share Canon 63.3% Nikon 31.6% Ricoh Imaging (Pentax) 4.8% System cameras: Brand Share Olympus 26.8% Canon 18.5% Sony 17.9% Brands with the highest market share 2016","title":"Market Share by Brand (2016):"},{"location":"developer-guide/media/samples/#most-popular-camera-models","text":"","title":"Most popular camera models:"},{"location":"developer-guide/media/samples/#camera-models-supported-by-photoshop","text":"https://helpx.adobe.com/camera-raw/kb/camera-raw-plug-supported-cameras.html","title":"Camera models supported by photoshop:"},{"location":"developer-guide/media/thumbnails/","text":"Thumbnail Images \u00b6 PhotoPrism uses the disintegration/imaging package to generate thumbnail images that are displayed in search results and in the full-screen viewer. The smallest configurable size limit is 720px, which corresponds to the fit_720 thumbnail type . All sizes up to 720x720 will be generated by default and should therefore always be available. Besides their obvious use in the frontend, the indexer uses thumbnails for color detection, face detection, and image classification, see Advanced Settings in the User Guide . Server API \u00b6 No Cookies Required \u00b6 A cookie-free API helps minimize request latency by avoiding unnecessary network traffic: when a browser requests static files such as images from a server via HTTPS, it is generally needless to send a cookie along with each request if the URLs cannot be guessed, so for most practical use cases one potential use of cookies can be to prevent the user from intentionally or accidentally sharing confidential thumbnail URLs with others this is possible on most image hosting services/social media sites and could also be considered a feature if you just want to share a few thumbnails without any bells and whistles once an image has been downloaded by someone else, blocking the original URL provides little additional security, as digital copies are just as good as the original keeping that in mind, previously shared URLs can be invalidated by changing the security token in your configuration this renders the browser cache unusable on all connected devices, requiring previously cached thumbnails to be downloaded again be aware that frequent token changes lead to performance degradation and a poor user experience Another major benefit of a cookie-free thumbnail API - besides improved performance - is that users can easily integrate a content delivery network (CDN), as there is no need to check cookies on edge servers. Because most users have only one domain/host name and modern web applications can store authentication tokens in localStorage instead, our REST API does not require or use any cookies by default. References: https://www.keycdn.com/support/how-to-use-cookie-free-domains https://ourcodeworld.com/articles/read/1341/why-you-should-use-a-cookie-less-domain-for-serving-your-static-content-cdn https://pragmaticwebsecurity.com/articles/oauthoidc/localstorage-xss.html Image Endpoint URI \u00b6 Authenticated with SHA1 hash and additional security token: /api/v1/t/a2195b6840f46b555719d8e22e9b080e61a7317c/10d68214/tile_500 In public mode without security token: /api/v1/t/a2195b6840f46b555719d8e22e9b080e61a7317c/public/tile_500 The thumbnail size and aspect ratio are specified at the end, in this case tile_500 , which means 500x500 pixels. Video Endpoint URI \u00b6 Authenticated with SHA1 hash and additional security token: /api/v1/videos/51843134d75f4cbde534270cdd5954067f887ee6/10d68214/avc In public mode without security token: /api/v1/videos/51843134d75f4cbde534270cdd5954067f887ee6/public/avc Videos can be streamed if the browser supports it. The format is specified at the end, in this case MPEG-4 AVC. Thumbnail Types \u00b6 The smallest configurable static and dynamic size limit is 720px, so all formats up to fit_720 should be generated by default while indexing. Higher settings allow PhotoPrism to generate thumbnails with more detail in higher resolutions - either statically (while indexing) or dynamically (on-demand). Name Width Height Common Use colors 3 3 Color Detection tile_50 50 50 List Preview tile_100 100 100 Maps Preview tile_224 224 224 Mosaic Preview left_224 224 224 TensorFlow right_224 224 224 TensorFlow tile_500 500 500 Cards Preview fit_720 720 720 Mobile, TV fit_1280 1280 1024 Mobile, HD Ready TV fit_1920 1920 1200 Mobile, Full HD TV fit_2048 2048 2048 Tablets, Cinema 2K fit_2560 2560 1600 Quad HD, Retina Display fit_3840 3840 2400 Ultra HD fit_4096 4096 4096 Ultra HD, Retina 4K fit_7680 7680 4320 8K Ultra HD 2, Retina 6K See /internal/thumb/sizes.go for details. Storage Folders \u00b6 Generated thumbnails are cached in sub-folders of /storage/cache/thumbnails based on the SHA1 hash of the original file, for example: /storage/cache/thumbnails/1/a/3/1a30c1f...9_100x100_center.jpg Downscaling Filters \u00b6 Linear \u00b6 Bilinear interpolation takes a weighted average of the four neighborhood pixels to calculate its final interpolated value. The result is a much smoother image than the original image. When all known pixel distances are equal, then the interpolated value is simply their sum divided by four. This technique performs interpolation in both directions, horizontal and vertical. This technique gives better result than nearest neighbor interpolation and take less computation time compared to bicubic interpolation. Cubic \u00b6 Catmull-Rom is a local interpolating spline developed for computer graphics purposes. Its initial use was in design of curves and surfaces, and has recently been used in several applications. Catmull-Rom splines are a family of cubic interpolating splines formulated such that the tangent at each point is calculated using the previous and next point on the spline. The results are similar to ones produced by bicubic interpolation with regards to sharpness, but the Catmull-Rom reconstruction is clearly superior in smooth signal region. Lanczos \u00b6 The Lanczos interpolation function is a mathematical formula used to smoothly interpolate the value of a digital image between its samples. It maps each sample of the given image to a translated and scaled copy of the Lanczos kernel, which is a sinc function windowed by the central hump of a dilated sinc function. The sum of these translated and scaled kernels is then evaluated at the desired pixel. Lanczos interpolation has the best properties in terms of detail preservation and minimal generation of aliasing artifacts for geometric transformations not involving strong down sampling. However higher order Lanczos interpolation requires high computational time, which makes it unsuitable for most commercial software. Blackman \u00b6 Blackman is a modification of Lanczos that has better control of ringing artifacts. Further Reading \u00b6 https://en.wikipedia.org/wiki/Image_scaling https://en.wikipedia.org/wiki/Lanczos_resampling https://en.wikipedia.org/wiki/Comparison_gallery_of_image_scaling_algorithms","title":"Thumbnails"},{"location":"developer-guide/media/thumbnails/#thumbnail-images","text":"PhotoPrism uses the disintegration/imaging package to generate thumbnail images that are displayed in search results and in the full-screen viewer. The smallest configurable size limit is 720px, which corresponds to the fit_720 thumbnail type . All sizes up to 720x720 will be generated by default and should therefore always be available. Besides their obvious use in the frontend, the indexer uses thumbnails for color detection, face detection, and image classification, see Advanced Settings in the User Guide .","title":"Thumbnail Images"},{"location":"developer-guide/media/thumbnails/#server-api","text":"","title":"Server API"},{"location":"developer-guide/media/thumbnails/#no-cookies-required","text":"A cookie-free API helps minimize request latency by avoiding unnecessary network traffic: when a browser requests static files such as images from a server via HTTPS, it is generally needless to send a cookie along with each request if the URLs cannot be guessed, so for most practical use cases one potential use of cookies can be to prevent the user from intentionally or accidentally sharing confidential thumbnail URLs with others this is possible on most image hosting services/social media sites and could also be considered a feature if you just want to share a few thumbnails without any bells and whistles once an image has been downloaded by someone else, blocking the original URL provides little additional security, as digital copies are just as good as the original keeping that in mind, previously shared URLs can be invalidated by changing the security token in your configuration this renders the browser cache unusable on all connected devices, requiring previously cached thumbnails to be downloaded again be aware that frequent token changes lead to performance degradation and a poor user experience Another major benefit of a cookie-free thumbnail API - besides improved performance - is that users can easily integrate a content delivery network (CDN), as there is no need to check cookies on edge servers. Because most users have only one domain/host name and modern web applications can store authentication tokens in localStorage instead, our REST API does not require or use any cookies by default. References: https://www.keycdn.com/support/how-to-use-cookie-free-domains https://ourcodeworld.com/articles/read/1341/why-you-should-use-a-cookie-less-domain-for-serving-your-static-content-cdn https://pragmaticwebsecurity.com/articles/oauthoidc/localstorage-xss.html","title":"No Cookies Required"},{"location":"developer-guide/media/thumbnails/#image-endpoint-uri","text":"Authenticated with SHA1 hash and additional security token: /api/v1/t/a2195b6840f46b555719d8e22e9b080e61a7317c/10d68214/tile_500 In public mode without security token: /api/v1/t/a2195b6840f46b555719d8e22e9b080e61a7317c/public/tile_500 The thumbnail size and aspect ratio are specified at the end, in this case tile_500 , which means 500x500 pixels.","title":"Image Endpoint URI"},{"location":"developer-guide/media/thumbnails/#video-endpoint-uri","text":"Authenticated with SHA1 hash and additional security token: /api/v1/videos/51843134d75f4cbde534270cdd5954067f887ee6/10d68214/avc In public mode without security token: /api/v1/videos/51843134d75f4cbde534270cdd5954067f887ee6/public/avc Videos can be streamed if the browser supports it. The format is specified at the end, in this case MPEG-4 AVC.","title":"Video Endpoint URI"},{"location":"developer-guide/media/thumbnails/#thumbnail-types","text":"The smallest configurable static and dynamic size limit is 720px, so all formats up to fit_720 should be generated by default while indexing. Higher settings allow PhotoPrism to generate thumbnails with more detail in higher resolutions - either statically (while indexing) or dynamically (on-demand). Name Width Height Common Use colors 3 3 Color Detection tile_50 50 50 List Preview tile_100 100 100 Maps Preview tile_224 224 224 Mosaic Preview left_224 224 224 TensorFlow right_224 224 224 TensorFlow tile_500 500 500 Cards Preview fit_720 720 720 Mobile, TV fit_1280 1280 1024 Mobile, HD Ready TV fit_1920 1920 1200 Mobile, Full HD TV fit_2048 2048 2048 Tablets, Cinema 2K fit_2560 2560 1600 Quad HD, Retina Display fit_3840 3840 2400 Ultra HD fit_4096 4096 4096 Ultra HD, Retina 4K fit_7680 7680 4320 8K Ultra HD 2, Retina 6K See /internal/thumb/sizes.go for details.","title":"Thumbnail Types"},{"location":"developer-guide/media/thumbnails/#storage-folders","text":"Generated thumbnails are cached in sub-folders of /storage/cache/thumbnails based on the SHA1 hash of the original file, for example: /storage/cache/thumbnails/1/a/3/1a30c1f...9_100x100_center.jpg","title":"Storage Folders"},{"location":"developer-guide/media/thumbnails/#downscaling-filters","text":"","title":"Downscaling Filters"},{"location":"developer-guide/media/thumbnails/#linear","text":"Bilinear interpolation takes a weighted average of the four neighborhood pixels to calculate its final interpolated value. The result is a much smoother image than the original image. When all known pixel distances are equal, then the interpolated value is simply their sum divided by four. This technique performs interpolation in both directions, horizontal and vertical. This technique gives better result than nearest neighbor interpolation and take less computation time compared to bicubic interpolation.","title":"Linear"},{"location":"developer-guide/media/thumbnails/#cubic","text":"Catmull-Rom is a local interpolating spline developed for computer graphics purposes. Its initial use was in design of curves and surfaces, and has recently been used in several applications. Catmull-Rom splines are a family of cubic interpolating splines formulated such that the tangent at each point is calculated using the previous and next point on the spline. The results are similar to ones produced by bicubic interpolation with regards to sharpness, but the Catmull-Rom reconstruction is clearly superior in smooth signal region.","title":"Cubic"},{"location":"developer-guide/media/thumbnails/#lanczos","text":"The Lanczos interpolation function is a mathematical formula used to smoothly interpolate the value of a digital image between its samples. It maps each sample of the given image to a translated and scaled copy of the Lanczos kernel, which is a sinc function windowed by the central hump of a dilated sinc function. The sum of these translated and scaled kernels is then evaluated at the desired pixel. Lanczos interpolation has the best properties in terms of detail preservation and minimal generation of aliasing artifacts for geometric transformations not involving strong down sampling. However higher order Lanczos interpolation requires high computational time, which makes it unsuitable for most commercial software.","title":"Lanczos"},{"location":"developer-guide/media/thumbnails/#blackman","text":"Blackman is a modification of Lanczos that has better control of ringing artifacts.","title":"Blackman"},{"location":"developer-guide/media/thumbnails/#further-reading","text":"https://en.wikipedia.org/wiki/Image_scaling https://en.wikipedia.org/wiki/Lanczos_resampling https://en.wikipedia.org/wiki/Comparison_gallery_of_image_scaling_algorithms","title":"Further Reading"},{"location":"developer-guide/media/videos/","text":"Videos \u00b6 PhotoPrism may use ffmpeg to transcode common video formats to MPEG-4 AVC . This container / codec combination doesn't require transcoding as it can be played natively by most modern browsers, see https://caniuse.com/mpeg4 . For a list of codecs ffmpeg supports, run this command in a terminal: ffmpeg -decoders Please note: Not all video and audio formats can be played with every browser . For example, AAC - the default audio codec for MPEG-4 AVC / H.264 - is supported natively in Chrome, Safari, and Edge, while it is only optionally supported by the OS in Firefox and Opera. HEVC /H.265 video files can have a .mp4 file extension too, which is often associated with AVC only. This is because MP4 is a container format, meaning that the actual video content may be compressed with H.264, H.265, or something else. The file extension doesn't really tell you anything other than that it's probably a video file. Info While the QuickTime .mov container format served as the basis for MPEG-4, there are differences and the two are not quite interchangeable. They still play in most browsers and won't be transcoded automatically for this reason. Containers \u00b6 https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Containers Codecs \u00b6 https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Video_codecs","title":"Videos"},{"location":"developer-guide/media/videos/#videos","text":"PhotoPrism may use ffmpeg to transcode common video formats to MPEG-4 AVC . This container / codec combination doesn't require transcoding as it can be played natively by most modern browsers, see https://caniuse.com/mpeg4 . For a list of codecs ffmpeg supports, run this command in a terminal: ffmpeg -decoders Please note: Not all video and audio formats can be played with every browser . For example, AAC - the default audio codec for MPEG-4 AVC / H.264 - is supported natively in Chrome, Safari, and Edge, while it is only optionally supported by the OS in Firefox and Opera. HEVC /H.265 video files can have a .mp4 file extension too, which is often associated with AVC only. This is because MP4 is a container format, meaning that the actual video content may be compressed with H.264, H.265, or something else. The file extension doesn't really tell you anything other than that it's probably a video file. Info While the QuickTime .mov container format served as the basis for MPEG-4, there are differences and the two are not quite interchangeable. They still play in most browsers and won't be transcoded automatically for this reason.","title":"Videos"},{"location":"developer-guide/media/videos/#containers","text":"https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Containers","title":"Containers"},{"location":"developer-guide/media/videos/#codecs","text":"https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Video_codecs","title":"Codecs"},{"location":"developer-guide/metadata/classification/","text":"Image classification is performed using a pre-trained model , NASNet Mobile 224 , that we have chosen because of its size, performance and accuracy. To get a basic understanding of how this works, you can read Image Classification using Deep Neural Networks . In addition, we manually matched the model classification with the labels you see in our UI: cat: label: cat threshold: 0.3 priority: 5 categories: - animal tabby cat: see: cat This was necessary because we didn't find a taxonomy suitable for consumers (mainly just scientific ones) and needed a lot of control to fine tune terms and their probability thresholds. The raw results were not useful to a typical user. Indexing too many words, categories and alternatives also negatively affects performance and leads to noise . It took us several months of testing until we were happy with the results and there are still labels to improve. Updating labels \u00b6 After editing or adding labels in rules.yml , you now have to run make generate in the main project directory to generate native Go source from this file. Pre-trained Models \u00b6 See also: TensorFlow Hub Source: https://github.com/tensorflow/models/blob/master/research/slim/README.md Neural nets work best when they have many parameters, making them powerful function approximators. However, this means they must be trained on very large datasets. Because training models from scratch can be a very computationally intensive process requiring days or even weeks, there are various pre-trained models available. These CNNs have been trained on the ILSVRC-2012-CLS image classification dataset. Note that the VGG and ResNet V1 parameters have been converted from their original caffe formats ( here and here ), whereas the Inception and ResNet V2 parameters have been trained internally at Google. Also be aware that these accuracies were computed by evaluating using a single image crop. PhotoPrism uses three crops, except for square images. Model TF-Slim File Checkpoint Top-1 Accuracy Top-5 Accuracy Inception V1 Code inception_v1_2016_08_28.tar.gz 69.8 89.6 Inception V2 Code inception_v2_2016_08_28.tar.gz 73.9 91.8 Inception V3 Code inception_v3_2016_08_28.tar.gz 78.0 93.9 Inception V4 Code inception_v4_2016_09_09.tar.gz 80.2 95.2 Inception-ResNet-v2 Code inception_resnet_v2_2016_08_30.tar.gz 80.4 95.3 ResNet V1 50 Code resnet_v1_50_2016_08_28.tar.gz 75.2 92.2 ResNet V1 101 Code resnet_v1_101_2016_08_28.tar.gz 76.4 92.9 ResNet V1 152 Code resnet_v1_152_2016_08_28.tar.gz 76.8 93.2 ResNet V2 50 ^ Code resnet_v2_50_2017_04_14.tar.gz 75.6 92.8 ResNet V2 101 ^ Code resnet_v2_101_2017_04_14.tar.gz 77.0 93.7 ResNet V2 152 ^ Code resnet_v2_152_2017_04_14.tar.gz 77.8 94.1 ResNet V2 200 Code TBA 79.9* 95.2* VGG 16 Code vgg_16_2016_08_28.tar.gz 71.5 89.8 VGG 19 Code vgg_19_2016_08_28.tar.gz 71.1 89.8 MobileNet_v1_1.0_224 Code mobilenet_v1_1.0_224.tgz 70.9 89.9 MobileNet_v1_0.50_160 Code mobilenet_v1_0.50_160.tgz 59.1 81.9 MobileNet_v1_0.25_128 Code mobilenet_v1_0.25_128.tgz 41.5 66.3 MobileNet_v2_1.4_224^* Code mobilenet_v2_1.4_224.tgz 74.9 92.5 MobileNet_v2_1.0_224^* Code mobilenet_v2_1.0_224.tgz 71.9 91.0 NASNet-A_Mobile_224 # Code nasnet-a_mobile_04_10_2017.tar.gz 74.0 91.6 NASNet-A_Large_331 # Code nasnet-a_large_04_10_2017.tar.gz 82.7 96.2 PNASNet-5_Large_331 Code pnasnet-5_large_2017_12_13.tar.gz 82.9 96.2 PNASNet-5_Mobile_224 Code pnasnet-5_mobile_2017_12_13.tar.gz 74.2 91.9 ^ ResNet V2 models use Inception pre-processing and input image size of 299 (use --preprocessing_name inception --eval_image_size 299 when using eval_image_classifier.py ). Performance numbers for ResNet V2 models are reported on the ImageNet validation set. (#) More information and details about the NASNet architectures are available at this README All 16 float MobileNet V1 models reported in the MobileNet Paper and all 16 quantized TensorFlow Lite compatible MobileNet V1 models can be found here . (^#) More details on MobileNetV2 models can be found here . (*): Results quoted from the paper . Here is an example of how to download the Inception V3 checkpoint: $ CHECKPOINT_DIR = /tmp/checkpoints $ mkdir ${ CHECKPOINT_DIR } $ wget http://download.tensorflow.org/models/inception_v3_2016_08_28.tar.gz $ tar -xvf inception_v3_2016_08_28.tar.gz $ mv inception_v3.ckpt ${ CHECKPOINT_DIR } $ rm inception_v3_2016_08_28.tar.gz Landmark detection \u00b6 DELF: DEep Local Features - https://github.com/tensorflow/models/tree/master/research/delf - Tensorflow implementation Source: https://gitcdn.xyz/cdn/Tony607/blog_statics/ce9c3391932e24655b78e27a54543f28f11f3af0/images/landmark/query.jpg Types of neural networks \u00b6 Source: http://www.asimovinstitute.org/neural-network-zoo/ Links \u00b6 https://ai.facebook.com/blog/roberta-an-optimized-method-for-pretraining-self-supervised-nlp-systems/ - An optimized method for pretraining self-supervised NLP systems https://github.com/zihangdai/xlnet - Generalized Autoregressive Pretraining for Language Understanding https://pjreddie.com/darknet/yolo/ - real time image detection https://pjreddie.com/darknet/imagenet/ - using use Darknet to classify images https://github.com/ZanLabs/go-yolo - Golang binding for YOLO/Darknet recognition framework https://itnext.io/implementing-yolo-v3-in-tensorflow-tf-slim-c3c55ff59dbe - Implementing YOLO v3 in Tensorflow (TF-Slim) https://github.com/chewxy/lingo - provides the data structures and algorithms required for natural language processing https://modelzoo.co/ - Discover open source deep learning code and pretrained models https://polarr.ai/ - Efficient and Immersive C.V. experiences on the edge https://github.com/gildasch/gildas-ai https://www.tensorflow.org/lite/guide/hosted_models https://github.com/tensorflow/models/tree/master/research/slim/nets/nasnet https://www.wikidata.org/wiki/Wikidata:Database_download https://github.com/ropensci/wikitaxa https://datahub.io/collections/yago - YAGO3 is a huge semantic knowledge base, derived from Wikipedia WordNet and GeoNames Google AI Blog: Improving Inception and Image Classification in TensorFlow CNN Architectures: LeNet, AlexNet, VGG, GoogLeNet, ResNet and more Gildas Chabot - AI image search with Go & Tensorflow (slides)","title":"Image Classification"},{"location":"developer-guide/metadata/classification/#updating-labels","text":"After editing or adding labels in rules.yml , you now have to run make generate in the main project directory to generate native Go source from this file.","title":"Updating labels"},{"location":"developer-guide/metadata/classification/#pre-trained-models","text":"See also: TensorFlow Hub Source: https://github.com/tensorflow/models/blob/master/research/slim/README.md Neural nets work best when they have many parameters, making them powerful function approximators. However, this means they must be trained on very large datasets. Because training models from scratch can be a very computationally intensive process requiring days or even weeks, there are various pre-trained models available. These CNNs have been trained on the ILSVRC-2012-CLS image classification dataset. Note that the VGG and ResNet V1 parameters have been converted from their original caffe formats ( here and here ), whereas the Inception and ResNet V2 parameters have been trained internally at Google. Also be aware that these accuracies were computed by evaluating using a single image crop. PhotoPrism uses three crops, except for square images. Model TF-Slim File Checkpoint Top-1 Accuracy Top-5 Accuracy Inception V1 Code inception_v1_2016_08_28.tar.gz 69.8 89.6 Inception V2 Code inception_v2_2016_08_28.tar.gz 73.9 91.8 Inception V3 Code inception_v3_2016_08_28.tar.gz 78.0 93.9 Inception V4 Code inception_v4_2016_09_09.tar.gz 80.2 95.2 Inception-ResNet-v2 Code inception_resnet_v2_2016_08_30.tar.gz 80.4 95.3 ResNet V1 50 Code resnet_v1_50_2016_08_28.tar.gz 75.2 92.2 ResNet V1 101 Code resnet_v1_101_2016_08_28.tar.gz 76.4 92.9 ResNet V1 152 Code resnet_v1_152_2016_08_28.tar.gz 76.8 93.2 ResNet V2 50 ^ Code resnet_v2_50_2017_04_14.tar.gz 75.6 92.8 ResNet V2 101 ^ Code resnet_v2_101_2017_04_14.tar.gz 77.0 93.7 ResNet V2 152 ^ Code resnet_v2_152_2017_04_14.tar.gz 77.8 94.1 ResNet V2 200 Code TBA 79.9* 95.2* VGG 16 Code vgg_16_2016_08_28.tar.gz 71.5 89.8 VGG 19 Code vgg_19_2016_08_28.tar.gz 71.1 89.8 MobileNet_v1_1.0_224 Code mobilenet_v1_1.0_224.tgz 70.9 89.9 MobileNet_v1_0.50_160 Code mobilenet_v1_0.50_160.tgz 59.1 81.9 MobileNet_v1_0.25_128 Code mobilenet_v1_0.25_128.tgz 41.5 66.3 MobileNet_v2_1.4_224^* Code mobilenet_v2_1.4_224.tgz 74.9 92.5 MobileNet_v2_1.0_224^* Code mobilenet_v2_1.0_224.tgz 71.9 91.0 NASNet-A_Mobile_224 # Code nasnet-a_mobile_04_10_2017.tar.gz 74.0 91.6 NASNet-A_Large_331 # Code nasnet-a_large_04_10_2017.tar.gz 82.7 96.2 PNASNet-5_Large_331 Code pnasnet-5_large_2017_12_13.tar.gz 82.9 96.2 PNASNet-5_Mobile_224 Code pnasnet-5_mobile_2017_12_13.tar.gz 74.2 91.9 ^ ResNet V2 models use Inception pre-processing and input image size of 299 (use --preprocessing_name inception --eval_image_size 299 when using eval_image_classifier.py ). Performance numbers for ResNet V2 models are reported on the ImageNet validation set. (#) More information and details about the NASNet architectures are available at this README All 16 float MobileNet V1 models reported in the MobileNet Paper and all 16 quantized TensorFlow Lite compatible MobileNet V1 models can be found here . (^#) More details on MobileNetV2 models can be found here . (*): Results quoted from the paper . Here is an example of how to download the Inception V3 checkpoint: $ CHECKPOINT_DIR = /tmp/checkpoints $ mkdir ${ CHECKPOINT_DIR } $ wget http://download.tensorflow.org/models/inception_v3_2016_08_28.tar.gz $ tar -xvf inception_v3_2016_08_28.tar.gz $ mv inception_v3.ckpt ${ CHECKPOINT_DIR } $ rm inception_v3_2016_08_28.tar.gz","title":"Pre-trained Models"},{"location":"developer-guide/metadata/classification/#landmark-detection","text":"DELF: DEep Local Features - https://github.com/tensorflow/models/tree/master/research/delf - Tensorflow implementation Source: https://gitcdn.xyz/cdn/Tony607/blog_statics/ce9c3391932e24655b78e27a54543f28f11f3af0/images/landmark/query.jpg","title":"Landmark detection"},{"location":"developer-guide/metadata/classification/#types-of-neural-networks","text":"Source: http://www.asimovinstitute.org/neural-network-zoo/","title":"Types of neural networks"},{"location":"developer-guide/metadata/classification/#links","text":"https://ai.facebook.com/blog/roberta-an-optimized-method-for-pretraining-self-supervised-nlp-systems/ - An optimized method for pretraining self-supervised NLP systems https://github.com/zihangdai/xlnet - Generalized Autoregressive Pretraining for Language Understanding https://pjreddie.com/darknet/yolo/ - real time image detection https://pjreddie.com/darknet/imagenet/ - using use Darknet to classify images https://github.com/ZanLabs/go-yolo - Golang binding for YOLO/Darknet recognition framework https://itnext.io/implementing-yolo-v3-in-tensorflow-tf-slim-c3c55ff59dbe - Implementing YOLO v3 in Tensorflow (TF-Slim) https://github.com/chewxy/lingo - provides the data structures and algorithms required for natural language processing https://modelzoo.co/ - Discover open source deep learning code and pretrained models https://polarr.ai/ - Efficient and Immersive C.V. experiences on the edge https://github.com/gildasch/gildas-ai https://www.tensorflow.org/lite/guide/hosted_models https://github.com/tensorflow/models/tree/master/research/slim/nets/nasnet https://www.wikidata.org/wiki/Wikidata:Database_download https://github.com/ropensci/wikitaxa https://datahub.io/collections/yago - YAGO3 is a huge semantic knowledge base, derived from Wikipedia WordNet and GeoNames Google AI Blog: Improving Inception and Image Classification in TensorFlow CNN Architectures: LeNet, AlexNet, VGG, GoogLeNet, ResNet and more Gildas Chabot - AI image search with Go & Tensorflow (slides)","title":"Links"},{"location":"developer-guide/metadata/colors/","text":"We've reimplemented color indexing using a 3x3 thumbnail. It enables us to search specific parts of an image. Our previous algorithm was not deterministic, so search would have returned different results every time. Demo: https://try.photoprism.app/photos?q=green Colors \u00b6 See https://vuetifyjs.com/en/framework/colors TODO: Complete table with ID, Color Name, HTML Code and Sample ID Name Code Sample 0 Black #000000 1 Brown #795548 2 Grey #9E9E9E 3 White #FFFFFF 4 Purple #9C27B0 5 Gold #FFDF00 6 Blue #3F51B5 7 Cyan #00BCD4 8 Teal #009688 9 Green #4CAF50 A Lime #CDDC39 B Yellow #FFEB3B C Magenta #FF00FF D Orange #FF9800 E Red #F44336 F Pink #E91E63 ID Name Code Sample 0 Black #000000 1 Brown #A1887F #8D6E63 #A07F6C #9B7B5B #75645B #795548 #6D4C41 #5D4037 #9B6136 #C1A487 #AA8062 #6B5546 #B4B59C #B2B49B 2 Grey #E0E0E0 #9E9E9E #757575 #616161 #424242 #847A72 #DFE0E1 3 White #FFFFFF #E4E4E4 #E7E7E7 4 Purple #F3E5F5 #E1BEE7 #CE93D8 #BA68C8 #AB47BC #9C27B0 #9B318F #86007E #8E24AA #7B1FA2 #6A1B9A #4A148C #AA00FF #EDE7F6 #D1C4E9 #B39DDB #9575CD #7E57C2 #5E35B1 #673AB7 #512DA8 #4527A0 #311B92 #B388FF #7C4DFF #8E6493 #5E3A5E #440E79 #483678 #4E3880 #3B0E79 5 Gold #EDDEAC #E8B451 #C08A3E #A27D4b #755531 #D19327 #DEA253 #D5AA6F #F5EAD4 6 Blue #3F51B5 #C5CAE9 #5C6BC0 #3949AB #303F9F #283593 #1A237E #536DFE #3D5AFE #304FFE #2196F3 #BBDEFB #90CAF9 #64B5F6 #42A5F5 #1E88E5 #1976D2 #1565C0 #0D47A1 #82B1FF #448AFF #2979FF #2962FF #03A9F6 #B3E5FC #81D4FA #4FC3F7 #29B6F6 #039BE5 #0288D1 #0277BD #01579B #80D8FF #40C4FF #00B0FF #0091EA #607D8B #78909C #546E7A #37474F #E4EBFD #7DD3EA #076399 #28446B #4AC8F5 #0800F4 #012D5F 7 Cyan #B2EBF2 #80DEEA #4DD0E1 #26C6DA #00B8D4 #00BCD4 #00ACC1 #0097A7 #00838F #006064 #84FFFF #18FFFF #00E5FF 8 Teal #009688 #00897B #00796B #00695C #045D5C #245A5F #03454F #2C545E #174741 9 Green #E8F5E9 #C8E6C9 #ABC7B0 #A5D6A7 #81C784 #66BB6A #4CAF50 #43A047 #388E3C #2E7D32 #1B5E20 #F1F8E9 #DCEDC8 #C5E1A5 #AED581 #8BC34A #9CCC65 #7CB342 #689F38 #558B2F #33691E #B9F6CA #69F0AE #00C853 #00E676 #CCFF90 #B2FF59 #76FF03 #64DD17 #DDD579 #EEECA2 #244E3B #9A9D47 #BEBD76 #5C5A30 #B3C16C #ACA783 #474C25 #CDD087 #796D41 A Lime #F0F4C3 #E6EE9C #DCE775 #D4E157 #CDDC39 #C0CA33 #AFB42B #EEFF41 #C6FF00 #AEEA00 B Yellow #FFF9C4 #FFF59D #FFF176 #FFEE58 #FFFF8D #FFFF00 #FFD54F #FFCA28 #E3CE81 #D1AF52 #EEBB2B #D3A83A #C5A702 #9F8201 #E8CE03 C Magenta #FF00FF #E500E5 #F000B5 #CE009B #C0055B #B00085 #A82863 #5B002F #4B0121 #860225 #CB023D #64071A #9E0047 #DC7ACF D Orange #FF9800 #FFA726 #FB8C00 #F57C00 #EF6C00 #FF9100 #FF6D00 #FD9A31 #7D2704 #FD571F #F86704 #FD9A00 #FE8A00 #F19652 #E58347 #C94C30 #9F5601 #FA6801 #F9A825 #BB723D E Red #FF5252 #F44336 #EF5350 #E53935 #F6292E #FC252D #D32F2F #C62828 #BA2830 #B71C1C #D50000 #DB0806 #CF0904 #D81A14 #CC1708 #D80807 #DE2616 #EE240F #A1211F #701219 #511218 #491114 F Pink #FCE4EC #FDC8EB #E79FA6 #F8BBD0 #F48FB1 #FF80AB #FF4081 #F50057 #F06292 #EC407A #E91E63 #D81B60 #C2185B Black: \"black\", // 0 Brown: \"brown\", // 1 Grey: \"grey\", // 2 White: \"white\", // 3 Purple: \"purple\", // 4 Gold: \"gold\", // 5 Blue: \"blue\", // 6 Cyan: \"cyan\", // 7 Teal: \"teal\", // 8 Green: \"green\", // 9 Lime: \"lime\", // A Yellow: \"yellow\", // B Magenta: \"magenta\", // C Orange: \"orange\", // D Red: \"red\", // E Pink: \"pink\", // F HCL vs HSL \u00b6 See also https://github.com/lucasb-eyer/go-colorful#so-which-colorspace-should-i-use Issues \u00b6 Improved color indexing #7 Links \u00b6 https://opencv.org/ https://github.com/RobCherry/vibrant","title":"Color Extraction"},{"location":"developer-guide/metadata/colors/#colors","text":"See https://vuetifyjs.com/en/framework/colors TODO: Complete table with ID, Color Name, HTML Code and Sample ID Name Code Sample 0 Black #000000 1 Brown #795548 2 Grey #9E9E9E 3 White #FFFFFF 4 Purple #9C27B0 5 Gold #FFDF00 6 Blue #3F51B5 7 Cyan #00BCD4 8 Teal #009688 9 Green #4CAF50 A Lime #CDDC39 B Yellow #FFEB3B C Magenta #FF00FF D Orange #FF9800 E Red #F44336 F Pink #E91E63 ID Name Code Sample 0 Black #000000 1 Brown #A1887F #8D6E63 #A07F6C #9B7B5B #75645B #795548 #6D4C41 #5D4037 #9B6136 #C1A487 #AA8062 #6B5546 #B4B59C #B2B49B 2 Grey #E0E0E0 #9E9E9E #757575 #616161 #424242 #847A72 #DFE0E1 3 White #FFFFFF #E4E4E4 #E7E7E7 4 Purple #F3E5F5 #E1BEE7 #CE93D8 #BA68C8 #AB47BC #9C27B0 #9B318F #86007E #8E24AA #7B1FA2 #6A1B9A #4A148C #AA00FF #EDE7F6 #D1C4E9 #B39DDB #9575CD #7E57C2 #5E35B1 #673AB7 #512DA8 #4527A0 #311B92 #B388FF #7C4DFF #8E6493 #5E3A5E #440E79 #483678 #4E3880 #3B0E79 5 Gold #EDDEAC #E8B451 #C08A3E #A27D4b #755531 #D19327 #DEA253 #D5AA6F #F5EAD4 6 Blue #3F51B5 #C5CAE9 #5C6BC0 #3949AB #303F9F #283593 #1A237E #536DFE #3D5AFE #304FFE #2196F3 #BBDEFB #90CAF9 #64B5F6 #42A5F5 #1E88E5 #1976D2 #1565C0 #0D47A1 #82B1FF #448AFF #2979FF #2962FF #03A9F6 #B3E5FC #81D4FA #4FC3F7 #29B6F6 #039BE5 #0288D1 #0277BD #01579B #80D8FF #40C4FF #00B0FF #0091EA #607D8B #78909C #546E7A #37474F #E4EBFD #7DD3EA #076399 #28446B #4AC8F5 #0800F4 #012D5F 7 Cyan #B2EBF2 #80DEEA #4DD0E1 #26C6DA #00B8D4 #00BCD4 #00ACC1 #0097A7 #00838F #006064 #84FFFF #18FFFF #00E5FF 8 Teal #009688 #00897B #00796B #00695C #045D5C #245A5F #03454F #2C545E #174741 9 Green #E8F5E9 #C8E6C9 #ABC7B0 #A5D6A7 #81C784 #66BB6A #4CAF50 #43A047 #388E3C #2E7D32 #1B5E20 #F1F8E9 #DCEDC8 #C5E1A5 #AED581 #8BC34A #9CCC65 #7CB342 #689F38 #558B2F #33691E #B9F6CA #69F0AE #00C853 #00E676 #CCFF90 #B2FF59 #76FF03 #64DD17 #DDD579 #EEECA2 #244E3B #9A9D47 #BEBD76 #5C5A30 #B3C16C #ACA783 #474C25 #CDD087 #796D41 A Lime #F0F4C3 #E6EE9C #DCE775 #D4E157 #CDDC39 #C0CA33 #AFB42B #EEFF41 #C6FF00 #AEEA00 B Yellow #FFF9C4 #FFF59D #FFF176 #FFEE58 #FFFF8D #FFFF00 #FFD54F #FFCA28 #E3CE81 #D1AF52 #EEBB2B #D3A83A #C5A702 #9F8201 #E8CE03 C Magenta #FF00FF #E500E5 #F000B5 #CE009B #C0055B #B00085 #A82863 #5B002F #4B0121 #860225 #CB023D #64071A #9E0047 #DC7ACF D Orange #FF9800 #FFA726 #FB8C00 #F57C00 #EF6C00 #FF9100 #FF6D00 #FD9A31 #7D2704 #FD571F #F86704 #FD9A00 #FE8A00 #F19652 #E58347 #C94C30 #9F5601 #FA6801 #F9A825 #BB723D E Red #FF5252 #F44336 #EF5350 #E53935 #F6292E #FC252D #D32F2F #C62828 #BA2830 #B71C1C #D50000 #DB0806 #CF0904 #D81A14 #CC1708 #D80807 #DE2616 #EE240F #A1211F #701219 #511218 #491114 F Pink #FCE4EC #FDC8EB #E79FA6 #F8BBD0 #F48FB1 #FF80AB #FF4081 #F50057 #F06292 #EC407A #E91E63 #D81B60 #C2185B Black: \"black\", // 0 Brown: \"brown\", // 1 Grey: \"grey\", // 2 White: \"white\", // 3 Purple: \"purple\", // 4 Gold: \"gold\", // 5 Blue: \"blue\", // 6 Cyan: \"cyan\", // 7 Teal: \"teal\", // 8 Green: \"green\", // 9 Lime: \"lime\", // A Yellow: \"yellow\", // B Magenta: \"magenta\", // C Orange: \"orange\", // D Red: \"red\", // E Pink: \"pink\", // F","title":"Colors"},{"location":"developer-guide/metadata/colors/#hcl-vs-hsl","text":"See also https://github.com/lucasb-eyer/go-colorful#so-which-colorspace-should-i-use","title":"HCL vs HSL"},{"location":"developer-guide/metadata/colors/#issues","text":"Improved color indexing #7","title":"Issues"},{"location":"developer-guide/metadata/colors/#links","text":"https://opencv.org/ https://github.com/RobCherry/vibrant","title":"Links"},{"location":"developer-guide/metadata/edit-exif/","text":"Exiftool --> https://exiftool.org/ Installation possible via brew or from homepage. Exif-Read-Tool: https://github.com/dsoprea/go-exif Show exif data for debugging \u00b6 Show exif data read from exiftool \u00b6 exiftool -j photo.jpg Show exif data read from exif-read-tool \u00b6 exif-read-tool -f photo.jpg Edit EXIF data for testing \u00b6 Set CreateDate \u00b6 exiftool -CreateDate=\"1919:05:04 05:59:26+02:00\" dog_toshi_yellow.jpg Remove all GPS data \u00b6 exiftool -GPS:all= file.jpg Remove all exif data \u00b6 exiftool -all= foo.jpg Further examples can be found here: https://exiftool.org/examples.html","title":"Edit EXIF"},{"location":"developer-guide/metadata/edit-exif/#show-exif-data-for-debugging","text":"","title":"Show exif data for debugging"},{"location":"developer-guide/metadata/edit-exif/#show-exif-data-read-from-exiftool","text":"exiftool -j photo.jpg","title":"Show exif data read from exiftool"},{"location":"developer-guide/metadata/edit-exif/#show-exif-data-read-from-exif-read-tool","text":"exif-read-tool -f photo.jpg","title":"Show exif data read from exif-read-tool"},{"location":"developer-guide/metadata/edit-exif/#edit-exif-data-for-testing","text":"","title":"Edit EXIF data for testing"},{"location":"developer-guide/metadata/edit-exif/#set-createdate","text":"exiftool -CreateDate=\"1919:05:04 05:59:26+02:00\" dog_toshi_yellow.jpg","title":"Set CreateDate"},{"location":"developer-guide/metadata/edit-exif/#remove-all-gps-data","text":"exiftool -GPS:all= file.jpg","title":"Remove all GPS data"},{"location":"developer-guide/metadata/edit-exif/#remove-all-exif-data","text":"exiftool -all= foo.jpg Further examples can be found here: https://exiftool.org/examples.html","title":"Remove all exif data"},{"location":"developer-guide/metadata/exif/","text":"We are using the dsoprea/go-exif package to extract EXIF information. See internal/meta/exif.go for which tags are integrated into PhotoPrism. See the official EXIF specification for more information about EXIF tags. Screenshots \u00b6 This is how other apps show metadata:","title":"EXIF"},{"location":"developer-guide/metadata/exif/#screenshots","text":"This is how other apps show metadata:","title":"Screenshots"},{"location":"developer-guide/metadata/face-recognition/","text":"Since we're already linking against TensorFlow and want to keep the number of dependencies small, we should investigate alternative approaches in addition to the obvious solution to use dlib (which is the popular/standard way, see go-face ). Pigo is a pure Go implementation for Face Detection , but it can not do Face Recognition . Links \u00b6 https://cheppers.com/deploying-distributed-face-recognition-application-kubernetes - Deploying a distributed face-recognition application with Kubernetes http://dlib.net/ - Machine learning library, good for face recognition https://github.com/Kagami/go-face - implements face recognition for Go using dlib https://hackernoon.com/face-recognition-with-go-676a555b8a7e - face recognition howto using Kagami/go-face https://github.com/esimov/pigo - Pigo is a face detection library implemented in Go https://gocv.io/ - GoCV gives access to the OpenCV 4 computer vision library https://github.com/davidsandberg/facenet - Face Recognition using Tensorflow (Python, not Go)","title":"Face Recognition"},{"location":"developer-guide/metadata/face-recognition/#links","text":"https://cheppers.com/deploying-distributed-face-recognition-application-kubernetes - Deploying a distributed face-recognition application with Kubernetes http://dlib.net/ - Machine learning library, good for face recognition https://github.com/Kagami/go-face - implements face recognition for Go using dlib https://hackernoon.com/face-recognition-with-go-676a555b8a7e - face recognition howto using Kagami/go-face https://github.com/esimov/pigo - Pigo is a face detection library implemented in Go https://gocv.io/ - GoCV gives access to the OpenCV 4 computer vision library https://github.com/davidsandberg/facenet - Face Recognition using Tensorflow (Python, not Go)","title":"Links"},{"location":"developer-guide/metadata/geocoding/","text":"Maps & Places \u00b6 Our privacy-friendly backend services provide worldwide location information to enrich metadata with details such as state, city, and category. Future releases will be able to use public event data to automatically create albums of popular music festivals or sporting events. To show where you've been, the user interface includes four high-resolution world maps . For details, see Rendering Interactive Maps in the UI . Example Request \u00b6 https://places.photoprism.app/v1/location/149ce78563 { \"id\" : \"149ce78563\" , \"name\" : \"Pink Beach\" , \"category\" : \"nature\" , \"timezone\" : \"Europe/Athens\" , \"lat\" : 35.26963621850717 , \"lng\" : 23.53695076231683 , \"place\" : { \"id\" : \"149ce78563\" , \"label\" : \"Chrisoskalitissa, Crete, Greece\" , \"city\" : \"Chrisoskalitissa\" , \"state\" : \"Crete\" , \"country\" : \"gr\" }, \"events\" :[], \"licence\" : \"Data \u00a9 OpenStreetMap contributors\" } Privacy \u00b6 Reverse geocoding requests won't be logged. Location data is cached though so that it can be used to serve subsequent requests. Because of HTTPS, your internet provider can't see the exact request - only the fact that you exchanged data with our backend. Our API approximates coordinates, encodes them with S2 , and doesn't care about street or house number: Event Discovery \u00b6 https://schedjoules.github.io/event-discovery-api/#introduction https://www.gdeltproject.org/data.html#rawdatafiles Open Source Libraries \u00b6 https://tegola.io/ - An open source vector tile server written in Go https://tegola.io/tutorials/tegola-with-open-layers/ - Using Tegola with OpenLayers https://github.com/go-spatial/tegola-osm - scripts for importing and running a mirror of OSM with tegola https://pelias.io/ - Pelias Geocoder ( GitHub ) https://github.com/Leaflet/Leaflet - JavaScript library for mobile-friendly interactive maps https://github.com/tidwall/tile38 - a geospatial database and realtime geofencing server https://github.com/melihmucuk/geocache - an in-memory cache that is suitable for geolocation based applications https://github.com/aaronland/go-slippy-tiles - a proxy for map tiles https://github.com/paulmach/osm - a general purpose library for reading, writing and working with OpenStreetMap data https://github.com/maguro/pbf - a Go-based OpenStreetMap PBF encoder/ decoder https://github.com/golang/geo - S2 geometry library in Go https://gist.github.com/antoniomo/3371e44cbe2f0cc75a525aac0d188cfb - example for S2 geometry library https://github.com/tidwall/redcon - Redis compatible server framework (Go) https://github.com/siddontang/ledisdb - a high performance NoSQL DB powered by Go ( homepage ) https://github.com/blevesearch/bleve/tree/master/geo - geo support in bleve OpenStreetMap \u00b6 At the moment, we use the reverse lookup API of OpenStreetMap as well as the their tiles for our Leaflet-based Places page. Code: internal/maps/osm/location.go Commercial Maps \u00b6 https://developers.google.com/maps/documentation/ https://www.mapbox.com/maps/ Tutorials \u00b6 https://developers.google.com/maps/solutions/store-locator/clothing-store-locator#findnearsql https://blog.mastermaps.com/2014/08/showing-geotagged-photos-on-leaflet-map.html - Showing geotagged photos on a Leaflet map https://rubenspgcavalcante.github.io/leaflet-ant-path/ - Animate polylines as ants walking in a path","title":"Geocoding"},{"location":"developer-guide/metadata/geocoding/#maps-places","text":"Our privacy-friendly backend services provide worldwide location information to enrich metadata with details such as state, city, and category. Future releases will be able to use public event data to automatically create albums of popular music festivals or sporting events. To show where you've been, the user interface includes four high-resolution world maps . For details, see Rendering Interactive Maps in the UI .","title":"Maps &amp; Places"},{"location":"developer-guide/metadata/geocoding/#example-request","text":"https://places.photoprism.app/v1/location/149ce78563 { \"id\" : \"149ce78563\" , \"name\" : \"Pink Beach\" , \"category\" : \"nature\" , \"timezone\" : \"Europe/Athens\" , \"lat\" : 35.26963621850717 , \"lng\" : 23.53695076231683 , \"place\" : { \"id\" : \"149ce78563\" , \"label\" : \"Chrisoskalitissa, Crete, Greece\" , \"city\" : \"Chrisoskalitissa\" , \"state\" : \"Crete\" , \"country\" : \"gr\" }, \"events\" :[], \"licence\" : \"Data \u00a9 OpenStreetMap contributors\" }","title":"Example Request"},{"location":"developer-guide/metadata/geocoding/#privacy","text":"Reverse geocoding requests won't be logged. Location data is cached though so that it can be used to serve subsequent requests. Because of HTTPS, your internet provider can't see the exact request - only the fact that you exchanged data with our backend. Our API approximates coordinates, encodes them with S2 , and doesn't care about street or house number:","title":"Privacy"},{"location":"developer-guide/metadata/geocoding/#event-discovery","text":"https://schedjoules.github.io/event-discovery-api/#introduction https://www.gdeltproject.org/data.html#rawdatafiles","title":"Event Discovery"},{"location":"developer-guide/metadata/geocoding/#open-source-libraries","text":"https://tegola.io/ - An open source vector tile server written in Go https://tegola.io/tutorials/tegola-with-open-layers/ - Using Tegola with OpenLayers https://github.com/go-spatial/tegola-osm - scripts for importing and running a mirror of OSM with tegola https://pelias.io/ - Pelias Geocoder ( GitHub ) https://github.com/Leaflet/Leaflet - JavaScript library for mobile-friendly interactive maps https://github.com/tidwall/tile38 - a geospatial database and realtime geofencing server https://github.com/melihmucuk/geocache - an in-memory cache that is suitable for geolocation based applications https://github.com/aaronland/go-slippy-tiles - a proxy for map tiles https://github.com/paulmach/osm - a general purpose library for reading, writing and working with OpenStreetMap data https://github.com/maguro/pbf - a Go-based OpenStreetMap PBF encoder/ decoder https://github.com/golang/geo - S2 geometry library in Go https://gist.github.com/antoniomo/3371e44cbe2f0cc75a525aac0d188cfb - example for S2 geometry library https://github.com/tidwall/redcon - Redis compatible server framework (Go) https://github.com/siddontang/ledisdb - a high performance NoSQL DB powered by Go ( homepage ) https://github.com/blevesearch/bleve/tree/master/geo - geo support in bleve","title":"Open Source Libraries"},{"location":"developer-guide/metadata/geocoding/#openstreetmap","text":"At the moment, we use the reverse lookup API of OpenStreetMap as well as the their tiles for our Leaflet-based Places page. Code: internal/maps/osm/location.go","title":"OpenStreetMap"},{"location":"developer-guide/metadata/geocoding/#commercial-maps","text":"https://developers.google.com/maps/documentation/ https://www.mapbox.com/maps/","title":"Commercial Maps"},{"location":"developer-guide/metadata/geocoding/#tutorials","text":"https://developers.google.com/maps/solutions/store-locator/clothing-store-locator#findnearsql https://blog.mastermaps.com/2014/08/showing-geotagged-photos-on-leaflet-map.html - Showing geotagged photos on a Leaflet map https://rubenspgcavalcante.github.io/leaflet-ant-path/ - Animate polylines as ants walking in a path","title":"Tutorials"},{"location":"developer-guide/metadata/xmp/","text":"XMP (Extensible Metadata Platform) is the standard sidecar file format supported by Adobe Lightroom. While YAML files might be easier to understand, read and edit for humans, using the XML-based XMP format simplifies importing metadata from Lightroom and we can leverage a documented standard. Ideally, data can be kept in sync continuously between PhotoPrism and other photo management applications. A proof-of-concept for reading Title , Copyright , Artist and Description is implemented but full support is a lot more work, contributions welcome. One issue is proper XML parsing in Go as basic types like date and time are not supported by xml.Unmarshaler . GPS coordinates are not stored as float but as a string like 52,27.5814N . The original plan to build upon go-xmp didn't work out as we couldn't read many fields, so we're using pure Go for now until we find a way to get the data we need with go-xmp . It might be a bug and/or it's an issue with our specific XMP files. Please send more XMP files for testing ( pull request ): https://github.com/photoprism/photoprism/tree/develop/internal/meta/testdata Todo \u00b6 Experiment with Adobe Lightroom to see how it uses sidecar files. The new version doesn't seem to use XMP to automatically sync metadata anymore, probably because Adobe focuses on cloud storage. Needs further investigation. Create a matrix showing what fields are used/supported by which application/tool (Photoshop, Lightroom, Darktable and others, see Read http://www.exiv2.org/tags-xmp-crs.html (Camera Raw Schema) Issues ## \u00b6 Store metadata in the filesystem #4 Compare the quality and XMP compatibility of different RAW converters #65 Links \u00b6 https://github.com/trimmer-io/go-xmp - A native Go SDK for the Extensible Metadata Platform (XMP) Adobe XMP Specification Part 1 , Part 2 and Part 3 , a.k.a ISO 16684-1:2011(E) XMP code in GIMP - Nothing beyond some comments. It was a code drop, we needed the feature, but unfortunately the original contributor left.","title":"XMP"},{"location":"developer-guide/metadata/xmp/#todo","text":"Experiment with Adobe Lightroom to see how it uses sidecar files. The new version doesn't seem to use XMP to automatically sync metadata anymore, probably because Adobe focuses on cloud storage. Needs further investigation. Create a matrix showing what fields are used/supported by which application/tool (Photoshop, Lightroom, Darktable and others, see Read http://www.exiv2.org/tags-xmp-crs.html (Camera Raw Schema)","title":"Todo"},{"location":"developer-guide/metadata/xmp/#issues","text":"Store metadata in the filesystem #4 Compare the quality and XMP compatibility of different RAW converters #65","title":"Issues ##"},{"location":"developer-guide/metadata/xmp/#links","text":"https://github.com/trimmer-io/go-xmp - A native Go SDK for the Extensible Metadata Platform (XMP) Adobe XMP Specification Part 1 , Part 2 and Part 3 , a.k.a ISO 16684-1:2011(E) XMP code in GIMP - Nothing beyond some comments. It was a code drop, we needed the feature, but unfortunately the original contributor left.","title":"Links"},{"location":"developer-guide/technologies/broadway/","text":"Broadway is a display server for using GTK+ applications in a web browser like Chrome or Firefox. It is based on HTML5 and WebSockets . GTK (originally GIMP Toolkit) is a GUI toolkit used by many Linux desktop applications like Darktable , Gimp and RawTherapee . Obviously this technology is ideal for editing images in the browser, at least when the connection is fast enough. Docker Configuration \u00b6 # Configure broadwayd (HTML5 display server) RUN apt-get update && apt-get install libgtk-3-bin ENV GDK_BACKEND broadway ENV BROADWAY_DISPLAY :5 EXPOSE 8080 CMD broadwayd -p 8080 -a 0 .0.0.0 :5 When this is configured, all you need to do is open http://localhost:8080 in a browser and start any GTK application in the same container (broadwayd must be running). It should be displayed instantly, otherwise the screen is white, but you shouldn't see an error. Screenshot \u00b6","title":"Broadway"},{"location":"developer-guide/technologies/broadway/#docker-configuration","text":"# Configure broadwayd (HTML5 display server) RUN apt-get update && apt-get install libgtk-3-bin ENV GDK_BACKEND broadway ENV BROADWAY_DISPLAY :5 EXPOSE 8080 CMD broadwayd -p 8080 -a 0 .0.0.0 :5 When this is configured, all you need to do is open http://localhost:8080 in a browser and start any GTK application in the same container (broadwayd must be running). It should be displayed instantly, otherwise the screen is white, but you shouldn't see an error.","title":"Docker Configuration"},{"location":"developer-guide/technologies/broadway/#screenshot","text":"","title":"Screenshot"},{"location":"developer-guide/technologies/docker/","text":"Docker is an Open Source container virtualization tool. It is ideal for running applications on any computer without extensive installation, configuration, or performance overhead. We are aware Docker is not widely used by end users despite its many advantages. For this reason, we aim to provide native binaries for common operating systems at a later time. Why are we using Docker? \u00b6 Containers are nothing new; Solaris Zones have been around for about 15 years, first released publicly in 2004. The chroot system call was introduced during development of Version 7 Unix in 1979 . It is used ever since for hosting applications exposed to the public Internet. Modern Linux containers are an incremental improvement. A main advantage of Docker is that application images can be easily made available to users via Internet. It provides a common standard across most operating systems and devices, which saves our team a lot of time that we can then spend more effectively , for example, providing support and developing one of the many features that users are waiting for. Human-readable and versioned Dockerfiles as part of our public source code also help avoid \"works for me\" moments and other unwelcome surprises by enabling teams to have the exact same environment everywhere in development , staging, and production . Last but not least, virtually all file format parsers have vulnerabilities that just haven't been discovered yet. This is a known risk that can affect you even if your computer is not directly connected to the Internet. Running apps in a container with limited host access is an easy way to improve security without compromising performance and usability. Continuous Integration / Deployment \u00b6 Build and push of an updated container image to Docker Hub is automatically performed by Travis CI whenever develop is merged into master and the tests are all green. For that reason, we don't use semantic versioning for our binaries and container images. A version string might look like 181112-edc7c2f-Darwin-i386-DEBUG instead. Travis CI uses the photoprism/development image for running unit and integration tests on all branches and for pull requests, see Dockerfile . Multi-Stage Build \u00b6 When creating new images, Docker supports so called multi-stage builds, that means you can compile an application like PhotoPrism in a container that contains all development dependencies (like source code, debugger, compiler,...) and later copy the binary to a fresh container. This way we could reduce the compressed container size from ~1 GB to less than 200 MB. Most of that is used by Darktable, TensorFlow and Ubuntu 18.04. Our photoprism binary is smaller than 20 MB. Example: FROM photoprism/development:20181112 as build # Build PhotoPrism WORKDIR \"/go/src/github.com/photoprism/photoprism\" COPY . . RUN make all install DESTDIR = /opt/photoprism # Base base image as photoprism/development FROM ubuntu:18.04 WORKDIR /srv/photoprism # Copy built binaries and assets to this image COPY --from = build /usr/local/bin/photoprism /usr/local/bin/photoprism COPY --from = build /srv/photoprism /srv/photoprism # Expose HTTP port EXPOSE 80 # Start PhotoPrism server CMD photoprism start Kubernetes \u00b6 https://forge.sh/ - Define and deploy multi-container apps in Kubernetes, from source https://www.telepresence.io/ - a local development environment for a remote Kubernetes cluster Links \u00b6 https://github.com/estesp/manifest-tool https://github.com/docker/app https://github.com/moby/moby https://hub.docker.com/r/multiarch/qemu-user-static/ - quemu for building multiarch images with Docker https://github.com/opencontainers/image-spec - standard labels for Docker image metadata https://github.com/Yelp/dumb-init - A minimal init system for Linux containers","title":"Docker"},{"location":"developer-guide/technologies/docker/#why-are-we-using-docker","text":"Containers are nothing new; Solaris Zones have been around for about 15 years, first released publicly in 2004. The chroot system call was introduced during development of Version 7 Unix in 1979 . It is used ever since for hosting applications exposed to the public Internet. Modern Linux containers are an incremental improvement. A main advantage of Docker is that application images can be easily made available to users via Internet. It provides a common standard across most operating systems and devices, which saves our team a lot of time that we can then spend more effectively , for example, providing support and developing one of the many features that users are waiting for. Human-readable and versioned Dockerfiles as part of our public source code also help avoid \"works for me\" moments and other unwelcome surprises by enabling teams to have the exact same environment everywhere in development , staging, and production . Last but not least, virtually all file format parsers have vulnerabilities that just haven't been discovered yet. This is a known risk that can affect you even if your computer is not directly connected to the Internet. Running apps in a container with limited host access is an easy way to improve security without compromising performance and usability.","title":"Why are we using Docker?"},{"location":"developer-guide/technologies/docker/#continuous-integration-deployment","text":"Build and push of an updated container image to Docker Hub is automatically performed by Travis CI whenever develop is merged into master and the tests are all green. For that reason, we don't use semantic versioning for our binaries and container images. A version string might look like 181112-edc7c2f-Darwin-i386-DEBUG instead. Travis CI uses the photoprism/development image for running unit and integration tests on all branches and for pull requests, see Dockerfile .","title":"Continuous Integration / Deployment"},{"location":"developer-guide/technologies/docker/#multi-stage-build","text":"When creating new images, Docker supports so called multi-stage builds, that means you can compile an application like PhotoPrism in a container that contains all development dependencies (like source code, debugger, compiler,...) and later copy the binary to a fresh container. This way we could reduce the compressed container size from ~1 GB to less than 200 MB. Most of that is used by Darktable, TensorFlow and Ubuntu 18.04. Our photoprism binary is smaller than 20 MB. Example: FROM photoprism/development:20181112 as build # Build PhotoPrism WORKDIR \"/go/src/github.com/photoprism/photoprism\" COPY . . RUN make all install DESTDIR = /opt/photoprism # Base base image as photoprism/development FROM ubuntu:18.04 WORKDIR /srv/photoprism # Copy built binaries and assets to this image COPY --from = build /usr/local/bin/photoprism /usr/local/bin/photoprism COPY --from = build /srv/photoprism /srv/photoprism # Expose HTTP port EXPOSE 80 # Start PhotoPrism server CMD photoprism start","title":"Multi-Stage Build"},{"location":"developer-guide/technologies/docker/#kubernetes","text":"https://forge.sh/ - Define and deploy multi-container apps in Kubernetes, from source https://www.telepresence.io/ - a local development environment for a remote Kubernetes cluster","title":"Kubernetes"},{"location":"developer-guide/technologies/docker/#links","text":"https://github.com/estesp/manifest-tool https://github.com/docker/app https://github.com/moby/moby https://hub.docker.com/r/multiarch/qemu-user-static/ - quemu for building multiarch images with Docker https://github.com/opencontainers/image-spec - standard labels for Docker image metadata https://github.com/Yelp/dumb-init - A minimal init system for Linux containers","title":"Links"},{"location":"developer-guide/technologies/external-apis/","text":"Photo Sharing \u00b6 Instagram Developer API Twitter API Facebook Photo API Google Photos API EyeEm API Nextcloud API Books / Prints \u00b6 Cewe Stiftung & Co. KGaA - Europe's leading online printing experts Tools \u00b6 KrakenD - API Gateway that sits between clients and services to offer tailored endpoints Photobak - Back up your content from Google Photos","title":"External APIs"},{"location":"developer-guide/technologies/external-apis/#photo-sharing","text":"Instagram Developer API Twitter API Facebook Photo API Google Photos API EyeEm API Nextcloud API","title":"Photo Sharing"},{"location":"developer-guide/technologies/external-apis/#books-prints","text":"Cewe Stiftung & Co. KGaA - Europe's leading online printing experts","title":"Books / Prints"},{"location":"developer-guide/technologies/external-apis/#tools","text":"KrakenD - API Gateway that sits between clients and services to offer tailored endpoints Photobak - Back up your content from Google Photos","title":"Tools"},{"location":"developer-guide/technologies/golang/","text":"We have chosen Go because of its simplicity and performance. On top, it enables us to build a single binary for distribution. Learning \u00b6 https://golang.org/doc/code.html - how to write Go code https://golang.org/doc/effective_go.html - gives tips for writing clear, idiomatic Go code https://golangbridge.org/ - Go workshops for underrepresented communities https://www.sohamkamani.com/blog/golang/2018-06-20-golang-factory-patterns/ - there are many different ways in which you can use the factory pattern to make your code cleaner and more concise https://www.alexedwards.net/blog/form-validation-and-processing - Form Validation and Processing in Go Testing \u00b6 https://medium.com/@povilasve/go-advanced-tips-tricks-a872503ac859 - Go advanced testing tips & tricks Golang version of Pact - contract testing framework for HTTP APIs and non-HTTP asynchronous messaging systems Integration Tests in Go - blog post Parallelize your table-driven tests - blog post Useful libraries and frameworks \u00b6 https://github.com/spf13/afero - a filesystem abstraction library https://github.com/gin-gonic/gin - HTTP web framework https://github.com/gobuffalo/pop - a database abstraction layer https://github.com/jinzhu/gorm - another database abstraction layer https://github.com/appleboy/gorush - a push notification micro server for Gin https://github.com/cavaliercoder/grab - a download manager package https://github.com/russross/blackfriday - a library for rendering Markdown https://github.com/sirupsen/logrus - structured, pluggable logging for Go https://github.com/alecthomas/participle - a dead simple parser package for Go https://github.com/tidwall/tile38 - a geospatial database and realtime geofencing server https://github.com/melihmucuk/geocache - an in-memory cache that is suitable for geolocation based applications https://github.com/aaronland/go-slippy-tiles - a proxy for map tiles https://github.com/paulmach/osm - a general purpose library for reading, writing and working with OpenStreetMap data https://github.com/minio - Object Storage for AI http://www.gorillatoolkit.org/pkg/schema - fills a struct with form values Jobs \u00b6 SoundCloud is looking for backend developers (Berlin, permanent, full-time)","title":"Golang"},{"location":"developer-guide/technologies/golang/#learning","text":"https://golang.org/doc/code.html - how to write Go code https://golang.org/doc/effective_go.html - gives tips for writing clear, idiomatic Go code https://golangbridge.org/ - Go workshops for underrepresented communities https://www.sohamkamani.com/blog/golang/2018-06-20-golang-factory-patterns/ - there are many different ways in which you can use the factory pattern to make your code cleaner and more concise https://www.alexedwards.net/blog/form-validation-and-processing - Form Validation and Processing in Go","title":"Learning"},{"location":"developer-guide/technologies/golang/#testing","text":"https://medium.com/@povilasve/go-advanced-tips-tricks-a872503ac859 - Go advanced testing tips & tricks Golang version of Pact - contract testing framework for HTTP APIs and non-HTTP asynchronous messaging systems Integration Tests in Go - blog post Parallelize your table-driven tests - blog post","title":"Testing"},{"location":"developer-guide/technologies/golang/#useful-libraries-and-frameworks","text":"https://github.com/spf13/afero - a filesystem abstraction library https://github.com/gin-gonic/gin - HTTP web framework https://github.com/gobuffalo/pop - a database abstraction layer https://github.com/jinzhu/gorm - another database abstraction layer https://github.com/appleboy/gorush - a push notification micro server for Gin https://github.com/cavaliercoder/grab - a download manager package https://github.com/russross/blackfriday - a library for rendering Markdown https://github.com/sirupsen/logrus - structured, pluggable logging for Go https://github.com/alecthomas/participle - a dead simple parser package for Go https://github.com/tidwall/tile38 - a geospatial database and realtime geofencing server https://github.com/melihmucuk/geocache - an in-memory cache that is suitable for geolocation based applications https://github.com/aaronland/go-slippy-tiles - a proxy for map tiles https://github.com/paulmach/osm - a general purpose library for reading, writing and working with OpenStreetMap data https://github.com/minio - Object Storage for AI http://www.gorillatoolkit.org/pkg/schema - fills a struct with form values","title":"Useful libraries and frameworks"},{"location":"developer-guide/technologies/golang/#jobs","text":"SoundCloud is looking for backend developers (Berlin, permanent, full-time)","title":"Jobs"},{"location":"developer-guide/technologies/tensorflow/","text":"Using TensorFlow with Go \u00b6 For an introduction please read Understanding Tensorflow using Go . The TensorFlow API for Go is well suited to loading existing models and executing them within a Go application. It requires the TensorFlow C library to be installed. A full TensorFlow installation is not needed. It is not possible to statically link against the C library, but the issue is known and there might be a fix later this year . Vision \u00b6 Our long-term goal is to become an open platform for machine learning research based on real-world photo collections. Links \u00b6 https://tfhub.dev/ - TensorFlow Hub is a library for reusable machine learning modules https://www.tensorflow.org/install/lang_c - TensorFlow for C http://www.asimovinstitute.org/neural-network-zoo/ - types of neural networks explained http://playground.tensorflow.org/ - Experiment with neural networks in your browser http://jupyter.org/ - open-source web application for creating and sharing documents that contain live code https://developers.google.com/machine-learning/crash-course/ - Machine Learning Crash Course with TensorFlow APIs https://medium.com/implodinggradients/tensorflow-or-keras-which-one-should-i-learn-5dd7fa3f9ca0 https://medium.com/analytics-vidhya/deploy-your-first-deep-learning-model-on-kubernetes-with-python-keras-flask-and-docker-575dc07d9e76 - Deploy Your First Deep Learning Model On Kubernetes With Python, Keras, Flask, and Docker https://medium.com/mlreview/getting-inception-architectures-to-work-with-style-transfer-767d53475bf8 - Getting Inception Architectures to Work with Style Transfer https://github.com/jdeng/goface - Face Detector based on MTCNN, tensorflow and golang https://www.tensorflow.org/tutorials/representation/word2vec - Vector Representations of Words (for searching/tagging) https://github.com/chtorr/go-tensorflow-realtime-object-detection - Real-time object detection with Go, Tensorflow, and OpenCV https://ai.googleblog.com/2018/07/accelerated-training-and-inference-with.html - Accelerated Training and Inference with the Tensorflow Object Detection API https://github.com/NanoNets/object-detection-sample-golang - NanoNets Object Detection API Example for Golang https://hub.packtpub.com/object-detection-go-tensorflow/ - Implementing Object detection with Go using TensorFlow","title":"TensorFlow"},{"location":"developer-guide/technologies/tensorflow/#using-tensorflow-with-go","text":"For an introduction please read Understanding Tensorflow using Go . The TensorFlow API for Go is well suited to loading existing models and executing them within a Go application. It requires the TensorFlow C library to be installed. A full TensorFlow installation is not needed. It is not possible to statically link against the C library, but the issue is known and there might be a fix later this year .","title":"Using TensorFlow with Go"},{"location":"developer-guide/technologies/tensorflow/#vision","text":"Our long-term goal is to become an open platform for machine learning research based on real-world photo collections.","title":"Vision"},{"location":"developer-guide/technologies/tensorflow/#links","text":"https://tfhub.dev/ - TensorFlow Hub is a library for reusable machine learning modules https://www.tensorflow.org/install/lang_c - TensorFlow for C http://www.asimovinstitute.org/neural-network-zoo/ - types of neural networks explained http://playground.tensorflow.org/ - Experiment with neural networks in your browser http://jupyter.org/ - open-source web application for creating and sharing documents that contain live code https://developers.google.com/machine-learning/crash-course/ - Machine Learning Crash Course with TensorFlow APIs https://medium.com/implodinggradients/tensorflow-or-keras-which-one-should-i-learn-5dd7fa3f9ca0 https://medium.com/analytics-vidhya/deploy-your-first-deep-learning-model-on-kubernetes-with-python-keras-flask-and-docker-575dc07d9e76 - Deploy Your First Deep Learning Model On Kubernetes With Python, Keras, Flask, and Docker https://medium.com/mlreview/getting-inception-architectures-to-work-with-style-transfer-767d53475bf8 - Getting Inception Architectures to Work with Style Transfer https://github.com/jdeng/goface - Face Detector based on MTCNN, tensorflow and golang https://www.tensorflow.org/tutorials/representation/word2vec - Vector Representations of Words (for searching/tagging) https://github.com/chtorr/go-tensorflow-realtime-object-detection - Real-time object detection with Go, Tensorflow, and OpenCV https://ai.googleblog.com/2018/07/accelerated-training-and-inference-with.html - Accelerated Training and Inference with the Tensorflow Object Detection API https://github.com/NanoNets/object-detection-sample-golang - NanoNets Object Detection API Example for Golang https://hub.packtpub.com/object-detection-go-tensorflow/ - Implementing Object detection with Go using TensorFlow","title":"Links"},{"location":"developer-guide/technologies/yaml/","text":"Introduction to YAML \u00b6 YAML is a human-friendly format that we use for metadata exports and configuration files because of its simplicity and widespread support. The name originally meant Yet Another Markup Language . Common file extensions are .yml and .yaml . Values are represented in the form key: value with one entry per line: Type : image Title : \"La Tour Eiffel \ud83c\udf08\" Year : 2014 # Key-Value Collection Example: Details : Notes : \"Bonjour\\nla France!\" Keywords : 'paris, france' # Comment Basic Rules \u00b6 Keys are case-sensitive Related values start at the same indentation level Tabs are not allowed for indentation We recommend using 2 spaces, but any number will work as long as it is consistent You can generally use all Unicode characters and Emojis To avoid ambiguity, it is recommended to enclose text strings in single ' or double quotes \" , especially if they contain a colon : The difference between single and double quotes is that double quotes support escape sequences like \\t for a tab or \\n for a new line Comments begin with the # sign, can start anywhere on a line, and continue until the end of the line Multiple Values \u00b6 List are lines that start at the same indentation level and begin with a dash and a space as shown in the example below. They are commonly used to define service dependencies, exposed network ports, or folders shared between host and container in docker-compose.yml files: services : photoprism : depends_on : - mariadb - nextcloud ports : # \"host:container\" - \"2342:2342\" volumes : # \"/host/folder:/container/folder\" - \"/photos:/photoprism/originals\" Key-Value Collections \u00b6 Collections of key-value pairs are commonly used for photo metadata details as shown in the first example and to define environment variables in docker-compose.yml files: services : mariadb : environment : MYSQL_ROOT_PASSWORD : \"Y(&^UIk34\" MYSQL_DATABASE : photoprism MYSQL_USER : photoprism MYSQL_PASSWORD : insecure","title":"YAML"},{"location":"developer-guide/technologies/yaml/#introduction-to-yaml","text":"YAML is a human-friendly format that we use for metadata exports and configuration files because of its simplicity and widespread support. The name originally meant Yet Another Markup Language . Common file extensions are .yml and .yaml . Values are represented in the form key: value with one entry per line: Type : image Title : \"La Tour Eiffel \ud83c\udf08\" Year : 2014 # Key-Value Collection Example: Details : Notes : \"Bonjour\\nla France!\" Keywords : 'paris, france' # Comment","title":"Introduction to YAML"},{"location":"developer-guide/technologies/yaml/#basic-rules","text":"Keys are case-sensitive Related values start at the same indentation level Tabs are not allowed for indentation We recommend using 2 spaces, but any number will work as long as it is consistent You can generally use all Unicode characters and Emojis To avoid ambiguity, it is recommended to enclose text strings in single ' or double quotes \" , especially if they contain a colon : The difference between single and double quotes is that double quotes support escape sequences like \\t for a tab or \\n for a new line Comments begin with the # sign, can start anywhere on a line, and continue until the end of the line","title":"Basic Rules"},{"location":"developer-guide/technologies/yaml/#multiple-values","text":"List are lines that start at the same indentation level and begin with a dash and a space as shown in the example below. They are commonly used to define service dependencies, exposed network ports, or folders shared between host and container in docker-compose.yml files: services : photoprism : depends_on : - mariadb - nextcloud ports : # \"host:container\" - \"2342:2342\" volumes : # \"/host/folder:/container/folder\" - \"/photos:/photoprism/originals\"","title":"Multiple Values"},{"location":"developer-guide/technologies/yaml/#key-value-collections","text":"Collections of key-value pairs are commonly used for photo metadata details as shown in the first example and to define environment variables in docker-compose.yml files: services : mariadb : environment : MYSQL_ROOT_PASSWORD : \"Y(&^UIk34\" MYSQL_DATABASE : photoprism MYSQL_USER : photoprism MYSQL_PASSWORD : insecure","title":"Key-Value Collections"},{"location":"developer-guide/ui/browsers/","text":"We should at least support the latest Firefox and Chrome on Linux, OS X and Windows. Ideally also Safari (OS X) and Explorer/Edge (Windows). Testing \u00b6 BrowserStack is free for open-source projects","title":"Browsers"},{"location":"developer-guide/ui/browsers/#testing","text":"BrowserStack is free for open-source projects","title":"Testing"},{"location":"developer-guide/ui/components/","text":"Our frontend code is structured into reusable VueJS components. So far, it was clear enough for developers to add features and send pull requests, so it's probably not necessary to document individual components in our Developer Guide. Let us know via email or chat when you have any questions! Frontend contains general information about the front-end libraries we use and how to trigger a build.","title":"Components"},{"location":"developer-guide/ui/design/","text":"We strive to build an application that embraces simplicity and avoids unexpected behavior. It must be able to run on a wide range of devices. Its user interface must be easy to use for everyone. Design is a funny word. Some people think design means how it looks. But of course, if you dig deeper, it's really how it works. \u2014 Steve Jobs Choice is the enemy of productivity. Put another way, if your solution does everything, and has no opinions about anything, then it solves nothing. \u2014 Asim Aslam Any fool can make something complicated. It takes a genius to make it simple. \u2014 Woody Guthrie Icons \u00b6 Since Vuetify is based on Material Design, we stick with the following icons and only use other icons when absolutely necessary (e.g. for sharing): https://material.io/resources/icons/ Colors \u00b6 Our UI themes should all contain a color spectrum so that they look like a prism: https://www.nordtheme.com/#palettes-modularity https://www.schemecolor.com/?s=colorful https://www.schemecolor.com/?s=google https://www.schemecolor.com/memories-of-the-garden.php https://www.schemecolor.com/double-disclosure.php https://www.schemecolor.com/true-lovers-color-scheme.php https://www.schemecolor.com/sunset-painting.php https://www.schemecolor.com/happy-with-self.php It's easiest to use the context menu for this: Links \u00b6 Screenshots - development of our user interface in time lapse \u23f1 The 7 pillars of design - slides by Raffaella Isidori (Codemotion Berlin 2018) A fork + fixes for Google's Material Design icons","title":"Design"},{"location":"developer-guide/ui/design/#icons","text":"Since Vuetify is based on Material Design, we stick with the following icons and only use other icons when absolutely necessary (e.g. for sharing): https://material.io/resources/icons/","title":"Icons"},{"location":"developer-guide/ui/design/#colors","text":"Our UI themes should all contain a color spectrum so that they look like a prism: https://www.nordtheme.com/#palettes-modularity https://www.schemecolor.com/?s=colorful https://www.schemecolor.com/?s=google https://www.schemecolor.com/memories-of-the-garden.php https://www.schemecolor.com/double-disclosure.php https://www.schemecolor.com/true-lovers-color-scheme.php https://www.schemecolor.com/sunset-painting.php https://www.schemecolor.com/happy-with-self.php It's easiest to use the context menu for this:","title":"Colors"},{"location":"developer-guide/ui/design/#links","text":"Screenshots - development of our user interface in time lapse \u23f1 The 7 pillars of design - slides by Raffaella Isidori (Codemotion Berlin 2018) A fork + fixes for Google's Material Design icons","title":"Links"},{"location":"developer-guide/ui/introduction/","text":"Open a terminal and type photoprism start to start the built-in server. It will listen on localhost:2342 by default, see docker-compose.yml and Configuration . Frameworks \u00b6 Vuetify is a powerful open-source Material Design UI component framework for building modern single-page applications. It is based on VueJS , a JavaScript library that combines the best ideas from AngularJS (Google) and React (Facebook); development is community driven and the API fairly stable. Vuetify and VueJS are initialized in frontend/src/app.js . Webpack is used as a module loader / bundler. It creates single, optimized JS and CSS files in the server assets public build directory from the original source code. You can find the build configuration in frontend/webpack.config.js . For our docs and landing pages, we may use https://materializecss.com/ as a lightweight alternative to Vuetify. Components \u00b6 Components are reusable user-interface widgets. UI Components contains a list of custom components. Standard components like buttons or forms are well documented on vuetifyjs.com . Dependencies \u00b6 The full list of dependencies can be found in frontend/package.json . You need to run npm install in the frontend directory to install them (automatically happens during installation, see Makefile ). Run npm install -P [package name] to add a new package (library or framework). Building \u00b6 A build can be triggered by running npm run watch (watches for changes and re-builds when needed) or npm run build (single build) in the frontend directory . NPM is the default package manager that comes with NodeJS , a JavaScript run-time environment that executes JavaScript code outside of a browser. Links \u00b6 https://developers.google.com/web/progressive-web-apps/ https://github.com/vuejs-templates/pwa - a progressive web app template for VueJS https://hackernoon.com/a-progressive-web-app-in-vue-tutorial-part-1-the-vue-app-f9231b032a0b https://medium.com/the-web-tub/creating-your-first-vue-js-pwa-project-22f7c552fb34 https://developers.google.com/web/fundamentals/native-hardware/fullscreen/ https://webpack.js.org/configuration/optimization/ https://photoswipe.com/documentation/responsive-images.html https://seregpie.github.io/VueWordCloud/ - Word cloud for VueJS https://github.com/snorpey/jpg-glitch - JPEG Glitch lib for JS https://stylable.io/ - scopes styles to components so they don\u2019t \u201cleak\u201d and clash with other styles (not sure if this is of any use for us) Building the Google Photos Web UI - Antin Harasymiv on Medium Progressive Image Grid - arrange images in a responsive, progressive-loading grid managed in JavaScript, see #85","title":"Introduction"},{"location":"developer-guide/ui/introduction/#frameworks","text":"Vuetify is a powerful open-source Material Design UI component framework for building modern single-page applications. It is based on VueJS , a JavaScript library that combines the best ideas from AngularJS (Google) and React (Facebook); development is community driven and the API fairly stable. Vuetify and VueJS are initialized in frontend/src/app.js . Webpack is used as a module loader / bundler. It creates single, optimized JS and CSS files in the server assets public build directory from the original source code. You can find the build configuration in frontend/webpack.config.js . For our docs and landing pages, we may use https://materializecss.com/ as a lightweight alternative to Vuetify.","title":"Frameworks"},{"location":"developer-guide/ui/introduction/#components","text":"Components are reusable user-interface widgets. UI Components contains a list of custom components. Standard components like buttons or forms are well documented on vuetifyjs.com .","title":"Components"},{"location":"developer-guide/ui/introduction/#dependencies","text":"The full list of dependencies can be found in frontend/package.json . You need to run npm install in the frontend directory to install them (automatically happens during installation, see Makefile ). Run npm install -P [package name] to add a new package (library or framework).","title":"Dependencies"},{"location":"developer-guide/ui/introduction/#building","text":"A build can be triggered by running npm run watch (watches for changes and re-builds when needed) or npm run build (single build) in the frontend directory . NPM is the default package manager that comes with NodeJS , a JavaScript run-time environment that executes JavaScript code outside of a browser.","title":"Building"},{"location":"developer-guide/ui/introduction/#links","text":"https://developers.google.com/web/progressive-web-apps/ https://github.com/vuejs-templates/pwa - a progressive web app template for VueJS https://hackernoon.com/a-progressive-web-app-in-vue-tutorial-part-1-the-vue-app-f9231b032a0b https://medium.com/the-web-tub/creating-your-first-vue-js-pwa-project-22f7c552fb34 https://developers.google.com/web/fundamentals/native-hardware/fullscreen/ https://webpack.js.org/configuration/optimization/ https://photoswipe.com/documentation/responsive-images.html https://seregpie.github.io/VueWordCloud/ - Word cloud for VueJS https://github.com/snorpey/jpg-glitch - JPEG Glitch lib for JS https://stylable.io/ - scopes styles to components so they don\u2019t \u201cleak\u201d and clash with other styles (not sure if this is of any use for us) Building the Google Photos Web UI - Antin Harasymiv on Medium Progressive Image Grid - arrange images in a responsive, progressive-loading grid managed in JavaScript, see #85","title":"Links"},{"location":"developer-guide/ui/maps/","text":"Rendering Interactive Maps in the UI \u00b6 Visit try.photoprism.app/places to try our demo. Mapbox/MapLibre GL JS \u00b6 Because Mapbox GL JS is no longer open-source , we now sponsor and use MapLibre GL JS for rendering maps in the UI. MapLibre GL is a fork from the last Mapbox GL version available under a permissive BSD license . Statement by former Mapbox engineer Tom MacWright: OSS, we hoped, was about enabling people and unlocking people\u2019s ability to collaborate. It turns out that in 2020, it\u2019s mostly helping companies and getting nothing in return. That\u2019s not a dynamic you can build a sustainable business on.","title":"Interactive Maps"},{"location":"developer-guide/ui/maps/#rendering-interactive-maps-in-the-ui","text":"Visit try.photoprism.app/places to try our demo.","title":"Rendering Interactive Maps in the UI"},{"location":"developer-guide/ui/maps/#mapboxmaplibre-gl-js","text":"Because Mapbox GL JS is no longer open-source , we now sponsor and use MapLibre GL JS for rendering maps in the UI. MapLibre GL is a fork from the last Mapbox GL version available under a permissive BSD license . Statement by former Mapbox engineer Tom MacWright: OSS, we hoped, was about enabling people and unlocking people\u2019s ability to collaborate. It turns out that in 2020, it\u2019s mostly helping companies and getting nothing in return. That\u2019s not a dynamic you can build a sustainable business on.","title":"Mapbox/MapLibre GL JS"},{"location":"developer-guide/ui/rest-api/","text":"Routes and parameters can be found in our API docs: https://godoc.org/github.com/photoprism/photoprism/internal/api Examples \u00b6 Basic \u00b6 GET /api/v1/photos?count=10 Note: Routes are going to change while we are developing the frontend. The API is not covered by a deprecation policy. With authentication \u00b6 PhotoPrism uses X-Session-ID HTTP header as authentication method: curl -H \"X-Session-ID: xyz\" http://localhost:2342/api/v1/photos?count=10 Replace xyz by session_id value of your active browser session, which can be found inside local storage. Links \u00b6 Mat Ryer: How I write Go HTTP services after seven years","title":"REST API"},{"location":"developer-guide/ui/rest-api/#examples","text":"","title":"Examples"},{"location":"developer-guide/ui/rest-api/#basic","text":"GET /api/v1/photos?count=10 Note: Routes are going to change while we are developing the frontend. The API is not covered by a deprecation policy.","title":"Basic"},{"location":"developer-guide/ui/rest-api/#with-authentication","text":"PhotoPrism uses X-Session-ID HTTP header as authentication method: curl -H \"X-Session-ID: xyz\" http://localhost:2342/api/v1/photos?count=10 Replace xyz by session_id value of your active browser session, which can be found inside local storage.","title":"With authentication"},{"location":"developer-guide/ui/rest-api/#links","text":"Mat Ryer: How I write Go HTTP services after seven years","title":"Links"},{"location":"developer-guide/ui/screenshots/","text":"UI Development in Fast Motion \u23f1 \u00b6 August 15 , 2018 \u00b6 The first prototype was based on Bootstrap 4. September 6, 2018 \u00b6 We switched to the Vuetify component framework, which comes complete with everything modern Web applications need. September 7, 2018 \u00b6 Navigation was extended. September 7, 2018 \u00b6 We started to experiment with the search form. September 8, 2018 \u00b6 Search dropdowns got populated with options. September 10, 2018 \u00b6 New logo and speed-dial action button. September 11, 2018 \u00b6 September 19, 2018 \u00b6 Pastel colored buttons and photo selection. September 26, 2018 \u00b6 The detail view. July 3, 2019 \u00b6 Improved UI with flat look, photo upload and powerful filters as well as new pages for searching places and labels. January 24, 2020 \u00b6 January 26, 2020 \u00b6 June 24, 2020 \u00b6 January 21, 2021 \u00b6 October 18, 2021 \u00b6 March 2, 2022 \u00b6","title":"Screenshots"},{"location":"developer-guide/ui/screenshots/#ui-development-in-fast-motion","text":"","title":"UI Development in Fast Motion \u23f1"},{"location":"developer-guide/ui/screenshots/#august-15-2018","text":"The first prototype was based on Bootstrap 4.","title":"August 15 , 2018"},{"location":"developer-guide/ui/screenshots/#september-6-2018","text":"We switched to the Vuetify component framework, which comes complete with everything modern Web applications need.","title":"September 6, 2018"},{"location":"developer-guide/ui/screenshots/#september-7-2018","text":"Navigation was extended.","title":"September 7, 2018"},{"location":"developer-guide/ui/screenshots/#september-7-2018_1","text":"We started to experiment with the search form.","title":"September 7, 2018"},{"location":"developer-guide/ui/screenshots/#september-8-2018","text":"Search dropdowns got populated with options.","title":"September 8, 2018"},{"location":"developer-guide/ui/screenshots/#september-10-2018","text":"New logo and speed-dial action button.","title":"September 10, 2018"},{"location":"developer-guide/ui/screenshots/#september-11-2018","text":"","title":"September 11, 2018"},{"location":"developer-guide/ui/screenshots/#september-19-2018","text":"Pastel colored buttons and photo selection.","title":"September 19, 2018"},{"location":"developer-guide/ui/screenshots/#september-26-2018","text":"The detail view.","title":"September 26, 2018"},{"location":"developer-guide/ui/screenshots/#july-3-2019","text":"Improved UI with flat look, photo upload and powerful filters as well as new pages for searching places and labels.","title":"July 3, 2019"},{"location":"developer-guide/ui/screenshots/#january-24-2020","text":"","title":"January 24, 2020"},{"location":"developer-guide/ui/screenshots/#january-26-2020","text":"","title":"January 26, 2020"},{"location":"developer-guide/ui/screenshots/#june-24-2020","text":"","title":"June 24, 2020"},{"location":"developer-guide/ui/screenshots/#january-21-2021","text":"","title":"January 21, 2021"},{"location":"developer-guide/ui/screenshots/#october-18-2021","text":"","title":"October 18, 2021"},{"location":"developer-guide/ui/screenshots/#march-2-2022","text":"","title":"March 2, 2022"},{"location":"getting-started/","text":"Setup \u00b6 We recommend running PhotoPrism with Docker Compose . All you need to have installed is a Web browser and Docker . It is available for Mac, Linux, and Windows. When setup is complete, you can start indexing your pictures . Be patient, this may take a while depending on your server hardware and how many files you have. Your photos and videos will successively become visible in search results and other parts of the user interface. The counts in the navigation are constantly updated, so you can follow the progress. In case some of your pictures are still missing after indexing has been completed, they might be in Review due to low quality or incomplete metadata. You can turn this and other features off in Settings , depending on your specific use case. Our stable version and development preview have been built into a single multi-arch Docker image for 64-bit AMD, Intel, and ARM processors. That means, Raspberry Pi 3 / 4, Apple Silicon, and other ARM64-based devices can pull from the same repository, enjoy the exact same functionality, and can follow the regular installation instructions after going through a short list of requirements . See FAQs for instructions and notes on alternative installation methods . Roadmap \u00b6 Our vision is to provide the most user- and privacy-friendly solution to keep your pictures organized and accessible. The roadmap shows what tasks are in progress, what needs testing, and which features are going to be implemented next. We have a zero bug policy and do our best to help users when they need support or have other questions. This comes at a price, as we can't give exact deadlines for new features. Having said that, funding really has the highest impact. So users can do their part and become a sponsor to get their favorite features as soon as possible. System Requirements \u00b6 We recommend hosting PhotoPrism on a server with at least 2 cores , 3 GB of physical memory , 1 and a 64-bit operating system. Beyond these minimum requirements, the amount of RAM should match the number of CPU cores . If your server has less than 4 GB of swap space or a manual memory/swap limit is set, this can cause unexpected restarts, for example, when the indexer temporarily needs more memory to process large files. High-resolution panoramic images may require additional swap space and/or physical memory above the recommended minimum. Indexing large photo and video collections significantly benefits from local SSD storage and plenty of memory for caching. Especially the conversion of RAW images and the transcoding of videos are very demanding. We take no responsibility for instability or performance problems if your device does not meet the requirements. Browsers \u00b6 Our Progressive Web App (PWA) works with most modern browsers, and runs best on Chrome , Chromium , Safari , Firefox , and Edge . You can conveniently install it on the home screen of all major operating systems and mobile devices. Please note that not all video and audio formats can be played with every browser . For example, AAC - the default audio codec for MPEG-4 AVC / H.264 - is supported natively in Chrome, Safari, and Edge, while it is only optionally supported by the OS in Firefox and Opera. Databases \u00b6 The backend is compatible with SQLite 3 and MariaDB 10.5.12+ . Official support for MySQL 8 is discontinued as Oracle seems to have stopped shipping new features and improvements . As a result, the testing effort required before each release is no longer feasible. HTTPS \u00b6 If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy such as Traefik or Caddy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps like FolderSync may refuse to connect as well. Getting Support \u00b6 If you need help installing our software at home, you can join us on Reddit , ask in our Community Chat , or post your question in GitHub Discussions . Common problems can be quickly diagnosed and solved using our Troubleshooting Checklists . We'll do our best to answer all your questions. In return, we ask you to back us on Patreon or GitHub Sponsors . Think of \"free software\" as in \"free speech,\" not as in \"free beer\". Thank you! In exchange for their continued support, sponsors are also welcome to request direct technical support via email . Please bear with us if we are unable to get back to you immediately due to the high volume of emails and contact requests we receive. We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Contact us or a community member if you need help, it could be a local configuration problem, or a misunderstanding in how the software works. RAW image conversion and TensorFlow are disabled on systems with 1 GB or less memory \u21a9","title":"Setup"},{"location":"getting-started/#setup","text":"We recommend running PhotoPrism with Docker Compose . All you need to have installed is a Web browser and Docker . It is available for Mac, Linux, and Windows. When setup is complete, you can start indexing your pictures . Be patient, this may take a while depending on your server hardware and how many files you have. Your photos and videos will successively become visible in search results and other parts of the user interface. The counts in the navigation are constantly updated, so you can follow the progress. In case some of your pictures are still missing after indexing has been completed, they might be in Review due to low quality or incomplete metadata. You can turn this and other features off in Settings , depending on your specific use case. Our stable version and development preview have been built into a single multi-arch Docker image for 64-bit AMD, Intel, and ARM processors. That means, Raspberry Pi 3 / 4, Apple Silicon, and other ARM64-based devices can pull from the same repository, enjoy the exact same functionality, and can follow the regular installation instructions after going through a short list of requirements . See FAQs for instructions and notes on alternative installation methods .","title":"Setup"},{"location":"getting-started/#roadmap","text":"Our vision is to provide the most user- and privacy-friendly solution to keep your pictures organized and accessible. The roadmap shows what tasks are in progress, what needs testing, and which features are going to be implemented next. We have a zero bug policy and do our best to help users when they need support or have other questions. This comes at a price, as we can't give exact deadlines for new features. Having said that, funding really has the highest impact. So users can do their part and become a sponsor to get their favorite features as soon as possible.","title":"Roadmap"},{"location":"getting-started/#system-requirements","text":"We recommend hosting PhotoPrism on a server with at least 2 cores , 3 GB of physical memory , 1 and a 64-bit operating system. Beyond these minimum requirements, the amount of RAM should match the number of CPU cores . If your server has less than 4 GB of swap space or a manual memory/swap limit is set, this can cause unexpected restarts, for example, when the indexer temporarily needs more memory to process large files. High-resolution panoramic images may require additional swap space and/or physical memory above the recommended minimum. Indexing large photo and video collections significantly benefits from local SSD storage and plenty of memory for caching. Especially the conversion of RAW images and the transcoding of videos are very demanding. We take no responsibility for instability or performance problems if your device does not meet the requirements.","title":"System Requirements"},{"location":"getting-started/#browsers","text":"Our Progressive Web App (PWA) works with most modern browsers, and runs best on Chrome , Chromium , Safari , Firefox , and Edge . You can conveniently install it on the home screen of all major operating systems and mobile devices. Please note that not all video and audio formats can be played with every browser . For example, AAC - the default audio codec for MPEG-4 AVC / H.264 - is supported natively in Chrome, Safari, and Edge, while it is only optionally supported by the OS in Firefox and Opera.","title":"Browsers"},{"location":"getting-started/#databases","text":"The backend is compatible with SQLite 3 and MariaDB 10.5.12+ . Official support for MySQL 8 is discontinued as Oracle seems to have stopped shipping new features and improvements . As a result, the testing effort required before each release is no longer feasible.","title":"Databases"},{"location":"getting-started/#https","text":"If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy such as Traefik or Caddy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps like FolderSync may refuse to connect as well.","title":"HTTPS"},{"location":"getting-started/#getting-support","text":"If you need help installing our software at home, you can join us on Reddit , ask in our Community Chat , or post your question in GitHub Discussions . Common problems can be quickly diagnosed and solved using our Troubleshooting Checklists . We'll do our best to answer all your questions. In return, we ask you to back us on Patreon or GitHub Sponsors . Think of \"free software\" as in \"free speech,\" not as in \"free beer\". Thank you! In exchange for their continued support, sponsors are also welcome to request direct technical support via email . Please bear with us if we are unable to get back to you immediately due to the high volume of emails and contact requests we receive. We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Contact us or a community member if you need help, it could be a local configuration problem, or a misunderstanding in how the software works. RAW image conversion and TensorFlow are disabled on systems with 1 GB or less memory \u21a9","title":"Getting Support"},{"location":"getting-started/config-options/","text":"Config Options \u00b6 Changing values in docker-compose.yml or in Advanced Settings always requires a restart to take effect. Open a terminal, run docker-compose stop and then docker-compose up -d to restart all services. Authentication \u00b6 Variable Flag Usage PHOTOPRISM_ADMIN_PASSWORD admin-password, pw initial admin PASSWORD , must have at least 8 characters PHOTOPRISM_PUBLIC public, p disable password authentication, WebDAV, and the advanced settings page PHOTOPRISM_AUTH auth, a always require password authentication, overrides the public flag if it is set Logging \u00b6 Variable Flag Usage PHOTOPRISM_LOG_LEVEL log-level, l log message verbosity LEVEL (trace, debug, info, warning, error, fatal, panic) PHOTOPRISM_DEBUG debug enable debug mode, show non-essential log messages PHOTOPRISM_TRACE trace enable trace mode, show all log messages Storage \u00b6 Variable Flag Usage PHOTOPRISM_CONFIG_PATH config-path, c config storage PATH , values in options.yml override CLI flags and environment variables if present PHOTOPRISM_DEFAULTS_YAML defaults-yaml, y load config defaults from FILE if exists, does not override CLI flags and environment variables PHOTOPRISM_ORIGINALS_PATH originals-path, o storage PATH of your original media files (photos and videos) PHOTOPRISM_ORIGINALS_LIMIT originals-limit, mb maximum size of media files in MB (1-100000; -1 to disable) PHOTOPRISM_RESOLUTION_LIMIT resolution-limit, mp maximum resolution of media files in MEGAPIXELS (1-900; -1 to disable)\u2002 sponsors only PHOTOPRISM_STORAGE_PATH storage-path, s writable storage PATH for sidecar, cache, and database files PHOTOPRISM_SIDECAR_PATH sidecar-path, sc custom relative or absolute sidecar PATH \u2002 optional PHOTOPRISM_BACKUP_PATH backup-path, ba custom backup PATH for index backup files\u2002 optional PHOTOPRISM_CACHE_PATH cache-path, ca custom cache PATH for sessions and thumbnail files\u2002 optional PHOTOPRISM_IMPORT_PATH import-path, im base PATH from which files can be imported to originals\u2002 optional PHOTOPRISM_ASSETS_PATH assets-path, as assets PATH containing static resources like icons, models, and translations PHOTOPRISM_TEMP_PATH temp-path, tmp temporary file PATH \u2002 optional Index Workers \u00b6 Variable Flag Usage PHOTOPRISM_WORKERS workers, w maximum NUMBER of indexing workers, default depends on the number of physical cores PHOTOPRISM_WAKEUP_INTERVAL wakeup-interval, i DURATION between worker runs required for face recognition and index maintenance (1-86400s) PHOTOPRISM_AUTO_INDEX auto-index WebDAV auto index safety delay in SECONDS (-1 to disable) PHOTOPRISM_AUTO_IMPORT auto-import WebDAV auto import safety delay in SECONDS (-1 to disable) Feature Flags \u00b6 Variable Flag Usage PHOTOPRISM_READONLY read-only, r disable import, upload, delete, and all other operations that require write permissions PHOTOPRISM_EXPERIMENTAL experimental, e enable experimental features PHOTOPRISM_DISABLE_WEBDAV disable-webdav disable built-in WebDAV server PHOTOPRISM_DISABLE_SETTINGS disable-settings disable settings UI and API PHOTOPRISM_DISABLE_PLACES disable-places disable reverse geocoding and maps PHOTOPRISM_DISABLE_BACKUPS disable-backups disable backing up albums and photo metadata to YAML files PHOTOPRISM_DISABLE_TENSORFLOW disable-tensorflow disable all features depending on TensorFlow PHOTOPRISM_DISABLE_FACES disable-faces disable facial recognition PHOTOPRISM_DISABLE_CLASSIFICATION disable-classification disable image classification PHOTOPRISM_DISABLE_FFMPEG disable-ffmpeg disable video transcoding and thumbnail extraction with FFmpeg PHOTOPRISM_DISABLE_EXIFTOOL disable-exiftool disable creating JSON metadata sidecar files with ExifTool PHOTOPRISM_DISABLE_HEIFCONVERT disable-heifconvert disable conversion of HEIC/HEIF files PHOTOPRISM_DISABLE_DARKTABLE disable-darktable disable conversion of RAW files with Darktable PHOTOPRISM_DISABLE_RAWTHERAPEE disable-rawtherapee disable conversion of RAW files with RawTherapee PHOTOPRISM_DISABLE_SIPS disable-sips disable conversion of RAW files with Sips\u2002 macOS only PHOTOPRISM_DISABLE_RAW disable-raw disable indexing and conversion of RAW files PHOTOPRISM_RAW_PRESETS raw-presets enables applying user presets when converting RAW files (reduces performance) PHOTOPRISM_EXIF_BRUTEFORCE exif-bruteforce always perform a brute-force search if no Exif headers were found PHOTOPRISM_DETECT_NSFW detect-nsfw flag photos as private that may be offensive (requires TensorFlow) PHOTOPRISM_UPLOAD_NSFW upload-nsfw, n allow uploads that may be offensive Customization \u00b6 Variable Flag Usage PHOTOPRISM_DEFAULT_LOCALE default-locale, lang standard user interface language CODE PHOTOPRISM_DEFAULT_THEME default-theme standard user interface theme NAME \u2002 sponsors only PHOTOPRISM_APP_MODE app-mode progressive web app MODE (fullscreen, standalone, minimal-ui, browser) PHOTOPRISM_APP_ICON app-icon progressive web app ICON (logo, app, crisp, mint, bold)\u2002 sponsors only PHOTOPRISM_APP_NAME app-name progressive web app NAME when installed on a device\u2002 sponsors only PHOTOPRISM_IMPRINT imprint legal INFORMATION , displayed in the page footer\u2002 sponsors only PHOTOPRISM_IMPRINT_URL imprint-url legal information URL \u2002 sponsors only PHOTOPRISM_WALLPAPER_URI wallpaper-uri login screen background image URI \u2002 sponsors only Site Information \u00b6 Variable Flag Usage PHOTOPRISM_CDN_URL cdn-url content delivery network URL \u2002 sponsors only PHOTOPRISM_SITE_URL site-url, url public site URL PHOTOPRISM_SITE_AUTHOR site-author site OWNER , copyright, or artist PHOTOPRISM_SITE_TITLE site-title site TITLE \u2002 sponsors only PHOTOPRISM_SITE_CAPTION site-caption site CAPTION PHOTOPRISM_SITE_DESCRIPTION site-description site DESCRIPTION \u2002 optional PHOTOPRISM_SITE_PREVIEW site-preview sharing preview image URL \u2002 sponsors only Web Server \u00b6 Variable Flag Usage PHOTOPRISM_HTTP_PORT http-port, port http server port NUMBER PHOTOPRISM_HTTP_HOST http-host, ip http server IP address PHOTOPRISM_HTTP_MODE http-mode, mode http server MODE (debug, release, or test) PHOTOPRISM_HTTP_COMPRESSION http-compression, z http server compression METHOD (none or gzip) Database Connection \u00b6 Variable Flag Usage PHOTOPRISM_DATABASE_DRIVER database-driver, db database DRIVER (sqlite, mysql) PHOTOPRISM_DATABASE_DSN database-dsn, dsn database connection DSN (sqlite file, optional for mysql) PHOTOPRISM_DATABASE_SERVER database-server, db-server database HOST incl. port e.g. \"mariadb:3306\" (or socket path) PHOTOPRISM_DATABASE_NAME database-name, db-name database schema NAME PHOTOPRISM_DATABASE_USER database-user, db-user database user NAME PHOTOPRISM_DATABASE_PASSWORD database-password, db-pass database user PASSWORD PHOTOPRISM_DATABASE_CONNS database-conns maximum NUMBER of open database connections PHOTOPRISM_DATABASE_CONNS_IDLE database-conns-idle maximum NUMBER of idle database connections File Converters \u00b6 Variable Flag Usage PHOTOPRISM_DARKTABLE_BIN darktable-bin Darktable CLI COMMAND for RAW to JPEG conversion PHOTOPRISM_DARKTABLE_BLACKLIST darktable-blacklist do not use Darktable to convert files with these EXTENSIONS PHOTOPRISM_DARKTABLE_CACHE_PATH darktable-cache-path custom Darktable cache PATH PHOTOPRISM_DARKTABLE_CONFIG_PATH darktable-config-path custom Darktable config PATH PHOTOPRISM_RAWTHERAPEE_BIN rawtherapee-bin RawTherapee CLI COMMAND for RAW to JPEG conversion PHOTOPRISM_RAWTHERAPEE_BLACKLIST rawtherapee-blacklist do not use RawTherapee to convert files with these EXTENSIONS PHOTOPRISM_SIPS_BIN sips-bin Sips COMMAND for RAW to JPEG conversion\u2002 macOS only PHOTOPRISM_HEIFCONVERT_BIN heifconvert-bin HEIC/HEIF image conversion COMMAND PHOTOPRISM_FFMPEG_BIN ffmpeg-bin FFmpeg COMMAND for video transcoding and thumbnail extraction PHOTOPRISM_FFMPEG_ENCODER ffmpeg-encoder, vc FFmpeg AVC encoder NAME \u2002 sponsors only PHOTOPRISM_FFMPEG_BITRATE ffmpeg-bitrate, vb maximum FFmpeg encoding BITRATE (Mbit/s) PHOTOPRISM_EXIFTOOL_BIN exiftool-bin ExifTool COMMAND for extracting metadata Security Tokens \u00b6 Variable Flag Usage PHOTOPRISM_DOWNLOAD_TOKEN download-token SECRET download URL token for originals (default: random) PHOTOPRISM_PREVIEW_TOKEN preview-token SECRET thumbnail and video streaming URL token (default: random) Image Quality \u00b6 Variable Flag Usage PHOTOPRISM_THUMB_COLOR thumb-color standard color PROFILE for thumbnails (leave blank to disable) PHOTOPRISM_THUMB_FILTER thumb-filter, filter image downscaling filter NAME (best to worst: blackman, lanczos, cubic, linear) PHOTOPRISM_THUMB_SIZE thumb-size maximum size of thumbnails created during indexing in PIXELS (720-7680) PHOTOPRISM_THUMB_SIZE_UNCACHED thumb-size-uncached maximum size of missing thumbnails created on demand in PIXELS (720-7680) PHOTOPRISM_THUMB_UNCACHED thumb-uncached, u enable on-demand creation of missing thumbnails (high memory and cpu usage) PHOTOPRISM_JPEG_QUALITY jpeg-quality, q QUALITY of created JPEG sidecars and thumbnails (25-100, best, high, default, low, worst) PHOTOPRISM_JPEG_SIZE jpeg-size maximum size of created JPEG sidecar files in PIXELS (720-30000) Face Recognition \u00b6 To recognize faces , PhotoPrism first extracts crops from your images using a library based on pixel intensity comparisons . These are then fed into TensorFlow to compute 512-dimensional vectors for characterization. In the final step, the DBSCAN algorithm attempts to cluster these so-called face embeddings, so they can be matched to persons with just a few clicks. A reasonable range for the similarity distance between face embeddings is between 0.60 and 0.70, with a higher value being more aggressive and leading to larger clusters with more false positives. To cluster a smaller number of faces, you can reduce the core to 3 or 2 similar faces. We recommend that only advanced users change these parameters: Variable Flag Usage PHOTOPRISM_FACE_SIZE face-size minimum size of faces in PIXELS (20-10000) PHOTOPRISM_FACE_SCORE face-score minimum face QUALITY score (1-100) PHOTOPRISM_FACE_OVERLAP face-overlap face area overlap threshold in PERCENT (1-100) PHOTOPRISM_FACE_CLUSTER_SIZE face-cluster-size minimum size of automatically clustered faces in PIXELS (20-10000)\u2002 sponsors only PHOTOPRISM_FACE_CLUSTER_SCORE face-cluster-score minimum QUALITY score of automatically clustered faces (1-100)\u2002 sponsors only PHOTOPRISM_FACE_CLUSTER_CORE face-cluster-core NUMBER of faces forming a cluster core (1-100)\u2002 sponsors only PHOTOPRISM_FACE_CLUSTER_DIST face-cluster-dist similarity DISTANCE of faces forming a cluster core (0.1-1.5)\u2002 sponsors only PHOTOPRISM_FACE_MATCH_DIST face-match-dist similarity OFFSET for matching faces with existing clusters (0.1-1.5)\u2002 sponsors only Daemon Mode \u00b6 If you start the server as a daemon in the background, you can additionally specify a filename for the log and the process ID: Variable Flag Usage PHOTOPRISM_PID_FILENAME pid-filename process id FILE \u2002 daemon-mode only PHOTOPRISM_LOG_FILENAME log-filename server log FILE \u2002 daemon-mode only","title":"Config Options"},{"location":"getting-started/config-options/#config-options","text":"Changing values in docker-compose.yml or in Advanced Settings always requires a restart to take effect. Open a terminal, run docker-compose stop and then docker-compose up -d to restart all services.","title":"Config Options"},{"location":"getting-started/config-options/#authentication","text":"Variable Flag Usage PHOTOPRISM_ADMIN_PASSWORD admin-password, pw initial admin PASSWORD , must have at least 8 characters PHOTOPRISM_PUBLIC public, p disable password authentication, WebDAV, and the advanced settings page PHOTOPRISM_AUTH auth, a always require password authentication, overrides the public flag if it is set","title":"Authentication"},{"location":"getting-started/config-options/#logging","text":"Variable Flag Usage PHOTOPRISM_LOG_LEVEL log-level, l log message verbosity LEVEL (trace, debug, info, warning, error, fatal, panic) PHOTOPRISM_DEBUG debug enable debug mode, show non-essential log messages PHOTOPRISM_TRACE trace enable trace mode, show all log messages","title":"Logging"},{"location":"getting-started/config-options/#storage","text":"Variable Flag Usage PHOTOPRISM_CONFIG_PATH config-path, c config storage PATH , values in options.yml override CLI flags and environment variables if present PHOTOPRISM_DEFAULTS_YAML defaults-yaml, y load config defaults from FILE if exists, does not override CLI flags and environment variables PHOTOPRISM_ORIGINALS_PATH originals-path, o storage PATH of your original media files (photos and videos) PHOTOPRISM_ORIGINALS_LIMIT originals-limit, mb maximum size of media files in MB (1-100000; -1 to disable) PHOTOPRISM_RESOLUTION_LIMIT resolution-limit, mp maximum resolution of media files in MEGAPIXELS (1-900; -1 to disable)\u2002 sponsors only PHOTOPRISM_STORAGE_PATH storage-path, s writable storage PATH for sidecar, cache, and database files PHOTOPRISM_SIDECAR_PATH sidecar-path, sc custom relative or absolute sidecar PATH \u2002 optional PHOTOPRISM_BACKUP_PATH backup-path, ba custom backup PATH for index backup files\u2002 optional PHOTOPRISM_CACHE_PATH cache-path, ca custom cache PATH for sessions and thumbnail files\u2002 optional PHOTOPRISM_IMPORT_PATH import-path, im base PATH from which files can be imported to originals\u2002 optional PHOTOPRISM_ASSETS_PATH assets-path, as assets PATH containing static resources like icons, models, and translations PHOTOPRISM_TEMP_PATH temp-path, tmp temporary file PATH \u2002 optional","title":"Storage"},{"location":"getting-started/config-options/#index-workers","text":"Variable Flag Usage PHOTOPRISM_WORKERS workers, w maximum NUMBER of indexing workers, default depends on the number of physical cores PHOTOPRISM_WAKEUP_INTERVAL wakeup-interval, i DURATION between worker runs required for face recognition and index maintenance (1-86400s) PHOTOPRISM_AUTO_INDEX auto-index WebDAV auto index safety delay in SECONDS (-1 to disable) PHOTOPRISM_AUTO_IMPORT auto-import WebDAV auto import safety delay in SECONDS (-1 to disable)","title":"Index Workers"},{"location":"getting-started/config-options/#feature-flags","text":"Variable Flag Usage PHOTOPRISM_READONLY read-only, r disable import, upload, delete, and all other operations that require write permissions PHOTOPRISM_EXPERIMENTAL experimental, e enable experimental features PHOTOPRISM_DISABLE_WEBDAV disable-webdav disable built-in WebDAV server PHOTOPRISM_DISABLE_SETTINGS disable-settings disable settings UI and API PHOTOPRISM_DISABLE_PLACES disable-places disable reverse geocoding and maps PHOTOPRISM_DISABLE_BACKUPS disable-backups disable backing up albums and photo metadata to YAML files PHOTOPRISM_DISABLE_TENSORFLOW disable-tensorflow disable all features depending on TensorFlow PHOTOPRISM_DISABLE_FACES disable-faces disable facial recognition PHOTOPRISM_DISABLE_CLASSIFICATION disable-classification disable image classification PHOTOPRISM_DISABLE_FFMPEG disable-ffmpeg disable video transcoding and thumbnail extraction with FFmpeg PHOTOPRISM_DISABLE_EXIFTOOL disable-exiftool disable creating JSON metadata sidecar files with ExifTool PHOTOPRISM_DISABLE_HEIFCONVERT disable-heifconvert disable conversion of HEIC/HEIF files PHOTOPRISM_DISABLE_DARKTABLE disable-darktable disable conversion of RAW files with Darktable PHOTOPRISM_DISABLE_RAWTHERAPEE disable-rawtherapee disable conversion of RAW files with RawTherapee PHOTOPRISM_DISABLE_SIPS disable-sips disable conversion of RAW files with Sips\u2002 macOS only PHOTOPRISM_DISABLE_RAW disable-raw disable indexing and conversion of RAW files PHOTOPRISM_RAW_PRESETS raw-presets enables applying user presets when converting RAW files (reduces performance) PHOTOPRISM_EXIF_BRUTEFORCE exif-bruteforce always perform a brute-force search if no Exif headers were found PHOTOPRISM_DETECT_NSFW detect-nsfw flag photos as private that may be offensive (requires TensorFlow) PHOTOPRISM_UPLOAD_NSFW upload-nsfw, n allow uploads that may be offensive","title":"Feature Flags"},{"location":"getting-started/config-options/#customization","text":"Variable Flag Usage PHOTOPRISM_DEFAULT_LOCALE default-locale, lang standard user interface language CODE PHOTOPRISM_DEFAULT_THEME default-theme standard user interface theme NAME \u2002 sponsors only PHOTOPRISM_APP_MODE app-mode progressive web app MODE (fullscreen, standalone, minimal-ui, browser) PHOTOPRISM_APP_ICON app-icon progressive web app ICON (logo, app, crisp, mint, bold)\u2002 sponsors only PHOTOPRISM_APP_NAME app-name progressive web app NAME when installed on a device\u2002 sponsors only PHOTOPRISM_IMPRINT imprint legal INFORMATION , displayed in the page footer\u2002 sponsors only PHOTOPRISM_IMPRINT_URL imprint-url legal information URL \u2002 sponsors only PHOTOPRISM_WALLPAPER_URI wallpaper-uri login screen background image URI \u2002 sponsors only","title":"Customization"},{"location":"getting-started/config-options/#site-information","text":"Variable Flag Usage PHOTOPRISM_CDN_URL cdn-url content delivery network URL \u2002 sponsors only PHOTOPRISM_SITE_URL site-url, url public site URL PHOTOPRISM_SITE_AUTHOR site-author site OWNER , copyright, or artist PHOTOPRISM_SITE_TITLE site-title site TITLE \u2002 sponsors only PHOTOPRISM_SITE_CAPTION site-caption site CAPTION PHOTOPRISM_SITE_DESCRIPTION site-description site DESCRIPTION \u2002 optional PHOTOPRISM_SITE_PREVIEW site-preview sharing preview image URL \u2002 sponsors only","title":"Site Information"},{"location":"getting-started/config-options/#web-server","text":"Variable Flag Usage PHOTOPRISM_HTTP_PORT http-port, port http server port NUMBER PHOTOPRISM_HTTP_HOST http-host, ip http server IP address PHOTOPRISM_HTTP_MODE http-mode, mode http server MODE (debug, release, or test) PHOTOPRISM_HTTP_COMPRESSION http-compression, z http server compression METHOD (none or gzip)","title":"Web Server"},{"location":"getting-started/config-options/#database-connection","text":"Variable Flag Usage PHOTOPRISM_DATABASE_DRIVER database-driver, db database DRIVER (sqlite, mysql) PHOTOPRISM_DATABASE_DSN database-dsn, dsn database connection DSN (sqlite file, optional for mysql) PHOTOPRISM_DATABASE_SERVER database-server, db-server database HOST incl. port e.g. \"mariadb:3306\" (or socket path) PHOTOPRISM_DATABASE_NAME database-name, db-name database schema NAME PHOTOPRISM_DATABASE_USER database-user, db-user database user NAME PHOTOPRISM_DATABASE_PASSWORD database-password, db-pass database user PASSWORD PHOTOPRISM_DATABASE_CONNS database-conns maximum NUMBER of open database connections PHOTOPRISM_DATABASE_CONNS_IDLE database-conns-idle maximum NUMBER of idle database connections","title":"Database Connection"},{"location":"getting-started/config-options/#file-converters","text":"Variable Flag Usage PHOTOPRISM_DARKTABLE_BIN darktable-bin Darktable CLI COMMAND for RAW to JPEG conversion PHOTOPRISM_DARKTABLE_BLACKLIST darktable-blacklist do not use Darktable to convert files with these EXTENSIONS PHOTOPRISM_DARKTABLE_CACHE_PATH darktable-cache-path custom Darktable cache PATH PHOTOPRISM_DARKTABLE_CONFIG_PATH darktable-config-path custom Darktable config PATH PHOTOPRISM_RAWTHERAPEE_BIN rawtherapee-bin RawTherapee CLI COMMAND for RAW to JPEG conversion PHOTOPRISM_RAWTHERAPEE_BLACKLIST rawtherapee-blacklist do not use RawTherapee to convert files with these EXTENSIONS PHOTOPRISM_SIPS_BIN sips-bin Sips COMMAND for RAW to JPEG conversion\u2002 macOS only PHOTOPRISM_HEIFCONVERT_BIN heifconvert-bin HEIC/HEIF image conversion COMMAND PHOTOPRISM_FFMPEG_BIN ffmpeg-bin FFmpeg COMMAND for video transcoding and thumbnail extraction PHOTOPRISM_FFMPEG_ENCODER ffmpeg-encoder, vc FFmpeg AVC encoder NAME \u2002 sponsors only PHOTOPRISM_FFMPEG_BITRATE ffmpeg-bitrate, vb maximum FFmpeg encoding BITRATE (Mbit/s) PHOTOPRISM_EXIFTOOL_BIN exiftool-bin ExifTool COMMAND for extracting metadata","title":"File Converters"},{"location":"getting-started/config-options/#security-tokens","text":"Variable Flag Usage PHOTOPRISM_DOWNLOAD_TOKEN download-token SECRET download URL token for originals (default: random) PHOTOPRISM_PREVIEW_TOKEN preview-token SECRET thumbnail and video streaming URL token (default: random)","title":"Security Tokens"},{"location":"getting-started/config-options/#image-quality","text":"Variable Flag Usage PHOTOPRISM_THUMB_COLOR thumb-color standard color PROFILE for thumbnails (leave blank to disable) PHOTOPRISM_THUMB_FILTER thumb-filter, filter image downscaling filter NAME (best to worst: blackman, lanczos, cubic, linear) PHOTOPRISM_THUMB_SIZE thumb-size maximum size of thumbnails created during indexing in PIXELS (720-7680) PHOTOPRISM_THUMB_SIZE_UNCACHED thumb-size-uncached maximum size of missing thumbnails created on demand in PIXELS (720-7680) PHOTOPRISM_THUMB_UNCACHED thumb-uncached, u enable on-demand creation of missing thumbnails (high memory and cpu usage) PHOTOPRISM_JPEG_QUALITY jpeg-quality, q QUALITY of created JPEG sidecars and thumbnails (25-100, best, high, default, low, worst) PHOTOPRISM_JPEG_SIZE jpeg-size maximum size of created JPEG sidecar files in PIXELS (720-30000)","title":"Image Quality"},{"location":"getting-started/config-options/#face-recognition","text":"To recognize faces , PhotoPrism first extracts crops from your images using a library based on pixel intensity comparisons . These are then fed into TensorFlow to compute 512-dimensional vectors for characterization. In the final step, the DBSCAN algorithm attempts to cluster these so-called face embeddings, so they can be matched to persons with just a few clicks. A reasonable range for the similarity distance between face embeddings is between 0.60 and 0.70, with a higher value being more aggressive and leading to larger clusters with more false positives. To cluster a smaller number of faces, you can reduce the core to 3 or 2 similar faces. We recommend that only advanced users change these parameters: Variable Flag Usage PHOTOPRISM_FACE_SIZE face-size minimum size of faces in PIXELS (20-10000) PHOTOPRISM_FACE_SCORE face-score minimum face QUALITY score (1-100) PHOTOPRISM_FACE_OVERLAP face-overlap face area overlap threshold in PERCENT (1-100) PHOTOPRISM_FACE_CLUSTER_SIZE face-cluster-size minimum size of automatically clustered faces in PIXELS (20-10000)\u2002 sponsors only PHOTOPRISM_FACE_CLUSTER_SCORE face-cluster-score minimum QUALITY score of automatically clustered faces (1-100)\u2002 sponsors only PHOTOPRISM_FACE_CLUSTER_CORE face-cluster-core NUMBER of faces forming a cluster core (1-100)\u2002 sponsors only PHOTOPRISM_FACE_CLUSTER_DIST face-cluster-dist similarity DISTANCE of faces forming a cluster core (0.1-1.5)\u2002 sponsors only PHOTOPRISM_FACE_MATCH_DIST face-match-dist similarity OFFSET for matching faces with existing clusters (0.1-1.5)\u2002 sponsors only","title":"Face Recognition"},{"location":"getting-started/config-options/#daemon-mode","text":"If you start the server as a daemon in the background, you can additionally specify a filename for the log and the process ID: Variable Flag Usage PHOTOPRISM_PID_FILENAME pid-filename process id FILE \u2002 daemon-mode only PHOTOPRISM_LOG_FILENAME log-filename server log FILE \u2002 daemon-mode only","title":"Daemon Mode"},{"location":"getting-started/docker-compose/","text":"Setup Using Docker Compose \u00b6 With Docker Compose , you use a YAML file to configure all application services so you can easily start them with a single command. Before you proceed, make sure you have Docker installed on your system. It is available for Mac, Linux, and Windows. Step 1: Configure \u00b6 Linux Raspberry Pi ARMv7 Windows macOS Download our docker-compose.yml example (right click and Save Link As... or use wget ) to a folder of your choice, and change the configuration as needed: wget https://dl.photoprism.app/docker/docker-compose.yml Commands on Linux may have to be prefixed with sudo when not running as root. Note that this will point the home directory shortcut ~ to /root in the volumes: section of your docker-compose.yml . Kernel security modules such as AppArmor and SELinux have been reported to cause issues . Ensure that your server has at least 4 GB of swap configured so that indexing doesn't cause restarts when there are memory usage spikes. Download our docker-compose.yml example for the Raspberry Pi 3 / 4 and other ARM64-based devices (right click and Save Link As... or use wget ) to a folder of your choice, and change the configuration as needed: wget https://dl.photoprism.app/docker/arm64/docker-compose.yml Mostly the same installation instructions as for regular Linux servers apply. Commands may have to be prefixed with sudo when not running as root. Ensure your device meets the requirements and has at least 4 GB of swap configured before you continue. Download our docker-compose.yml example for older ARMv7-based devices (right click and Save Link As... or use wget ) to a folder of your choice, and change the configuration as needed: wget https://dl.photoprism.app/docker/armv7/docker-compose.yml Mostly the same installation instructions as for regular Linux servers apply. Commands may have to be prefixed with sudo when not running as root. Ensure your device meets the requirements and has at least 4 GB of swap configured before you continue. Download our docker-compose.yml example for Windows (right click and Save Link As... ) to a folder of your choice, and change the configuration as needed: https://dl.photoprism.app/docker/windows/docker-compose.yml Windows Pro users should disable the WSL 2 based engine in Docker Settings > General so that they can mount drives other than C: . This will enable Hyper-V, which Microsoft doesn't offer to its Windows Home customers. Docker Desktop uses dynamic memory allocation with WSL 2. It is important to explicitly increase the Docker memory limit to 4 GB or more when using Hyper-V. The default of 2 GB can reduce indexing performance and cause unexpected restarts. Also, ensure that you configure at least 4 GB of swap space. Download our docker-compose.yml example for macOS (right click and Save Link As... ) to a folder of your choice, and change the configuration as needed: https://dl.photoprism.app/docker/macos/docker-compose.yml It is important to increase the Docker memory limit to 4 GB or more, as the default of 2 GB can reduce indexing performance and cause unexpected restarts. Also, ensure that you configure at least 4 GB of swap space. Always change PHOTOPRISM_ADMIN_PASSWORD so that the app starts with a secure initial password . Never use easy-to-guess passwords or default values like insecure on publicly accessible servers. There is no default in case no password was provided. A minimum length of 8 characters is required. Database \u00b6 Our example includes a pre-configured MariaDB database server. If you remove it and provide no other database server credentials, SQLite database files will be created in the storage folder. Local SSD storage is best for databases of any kind. Never store database files on an unreliable device such as a USB flash drive, an SD card, or a shared network folder. It is not possible to change the password via MYSQL_PASSWORD after the database has been started for the first time. Choosing a secure password is not essential if you don't expose the database to other apps and hosts . Volumes \u00b6 Since the app is running inside a container, you have to explicitly mount the host folders you want to use. PhotoPrism won't be able to see folders that have not been mounted. That's an important security feature. /photoprism/originals \u00b6 The originals folder contains your original photo and video files. ~/Pictures will be mounted by default, where ~ is a shortcut for your home directory : volumes : # \"/host/folder:/photoprism/folder\" # example - \"~/Pictures:/photoprism/originals\" You may mount any folder accessible from the host instead, including network drives . Additional directories can be mounted as subfolders of /photoprism/originals : volumes : - \"/home/username/Pictures:/photoprism/originals\" - \"/example/friends:/photoprism/originals/friends\" - \"/mnt/photos:/photoprism/originals/media\" On Windows, prefix the host path with the drive letter and use / instead of \\ as separator: volumes : - \"D:/Example/Pictures:/photoprism/originals\" If read-only mode is enabled, all features that require write permission to the originals folder are disabled, in particular import, upload, and delete. Set PHOTOPRISM_READONLY to \"true\" in docker-compose.yml for this. You can mount a folder with the :ro flag to make Docker block write operations as well. /photoprism/storage \u00b6 Cache, session, thumbnail, and sidecar files will be created in the storage folder: Never remove the volume from your docker-compose.yml file so that you don't lose these files after restarting or upgrading PhotoPrism We recommend placing the storage folder on a local SSD drive for best performance Don't mount symbolic links and do not use them inside the storage folder When moving your installation to another host , move the complete storage folder along with it. /photoprism/import \u00b6 You may optionally mount an import folder from which files can be transferred to the originals folder in a structured way that avoids duplicates. Imported files receive a canonical filename and will be organized by year and month. You can safely skip this. Adding files via Web Upload and WebDAV remains possible, unless read-only mode is enabled or the features have been disabled . Step 2: Start the server \u00b6 Open a terminal and change to the folder in which the docker-compose.yml file has been saved. 1 Run this command to start the application and database services in the background: docker-compose up -d Now open the Web UI by navigating to http://localhost:2342/ . You should see a login screen. Sign in with the user admin and the initial password configured via PHOTOPRISM_ADMIN_PASSWORD . You may change it on the account settings page . Enabling public mode will disable authentication. It can be helpful to keep Docker running in the foreground while debugging so that log messages are displayed directly. To do this, omit the -d parameter when restarting. Should the server already be running, or you see no errors, you may have started it on a different host and/or port. There could also be an issue with your browser, ad blocker, or firewall settings . It is not possible to change the password via PHOTOPRISM_ADMIN_PASSWORD after the app has been started for the first time. You may run docker-compose exec photoprism photoprism passwd in a terminal to change an existing password. You can also reset your database for a clean start. The server port and other config options can be changed in docker-compose.yml at any time. Remember to restart the services for changes to take effect: docker-compose stop docker-compose up -d Step 3: Index your library \u00b6 Ensure there is enough disk space available for creating thumbnails and verify filesystem permissions before starting to index: Files in the originals folder must be readable, while the storage folder including all subdirectories must be readable and writeable. Open the Web UI , go to Library and click Start to start indexing your pictures. While indexing, JPEG sidecar files may be created for originals in other formats such as RAW and HEIF . This is required for image classification, facial recognition, and for displaying them in a Web browser. Sidecar and thumbnail files will be added to the storage folder, so that your originals folder won't be modified. Your photos and videos will successively become visible in search results and other parts of the user interface. Open the Logs tab in Library to watch the indexer working. Of course, you can continue using your favorite tools for processing RAW files, editing metadata, or importing new shots. Go to Library and click Start to update the index after files have been changed, added, or removed. This can also be automated using CLI commands and a scheduler . Easy, isn't it? Back us on Patreon or GitHub Sponsors . Your continued support helps us provide regular updates and services like world maps . Thank you! Troubleshooting \u00b6 If your server runs out of memory, the index is frequently locked, or other system resources are running low: Try reducing the number of workers by setting PHOTOPRISM_WORKERS to a reasonably small value in docker-compose.yml , depending on the CPU performance and number of cores Make sure your server has at least 4 GB of swap space so that indexing doesn't cause restarts when memory usage spikes; RAW image conversion and video transcoding are especially demanding If you are using SQLite , switch to MariaDB, which is better optimized for high concurrency As a last measure, you can disable the use of TensorFlow for image classification and facial recognition Other issues? Our troubleshooting checklists help you quickly diagnose and solve them. You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request , try to determine the cause of your problem . Command-Line Interface \u00b6 photoprism help lists all commands and config options available in the current version: docker-compose exec photoprism photoprism help Use the --help flag to see a detailed command description, for example: docker-compose exec photoprism photoprism backup --help Prefixing commands with docker-compose exec [service name] runs them inside an app container. If this fails with no container found , make sure the app has been started, its service name is the same, and you are in the folder in which the docker-compose.yml file has been saved. PhotoPrism's command-line interface is well suited for job automation using a scheduler . Examples \u00b6 Action Command Start Services docker-compose up -d Stop Services docker-compose stop Download Updates docker-compose pull Uninstall docker-compose rm -s -v View Logs docker-compose logs --tail=100 -f Display Config Values docker-compose exec photoprism photoprism show config Repeat Failed Migrations docker-compose exec photoprism photoprism migrations run --failed Reset Database docker-compose exec photoprism photoprism reset Backup Database docker-compose exec photoprism photoprism backup -a -i Restore Database docker-compose exec photoprism photoprism restore -a -i Change Admin Password docker-compose exec photoprism photoprism passwd Show User Management Commands docker-compose exec photoprism photoprism users help Show Facial Recognition Commands docker-compose exec photoprism photoprism faces help Index Faces docker-compose exec photoprism photoprism faces index Reset People & Faces docker-compose exec photoprism photoprism faces reset -f Transcode Videos to AVC docker-compose exec photoprism photoprism convert Regenerate Thumbnails docker-compose exec photoprism photoprism thumbs -f Update Index docker-compose exec photoprism photoprism index --cleanup Import Files docker-compose exec photoprism photoprism import [path] Complete Rescan docker-compose exec photoprism photoprism index -f rescans all originals, including already indexed and unchanged files. This may be necessary after major upgrades. The default Docker Compose config filename is docker-compose.yml . For simplicity, it doesn't need to be specified when running the docker-compose command in the same directory. Config files for other apps or instances should be placed in separate folders. \u21a9","title":"Docker Compose"},{"location":"getting-started/docker-compose/#setup-using-docker-compose","text":"With Docker Compose , you use a YAML file to configure all application services so you can easily start them with a single command. Before you proceed, make sure you have Docker installed on your system. It is available for Mac, Linux, and Windows.","title":"Setup Using Docker Compose"},{"location":"getting-started/docker-compose/#step-1-configure","text":"Linux Raspberry Pi ARMv7 Windows macOS Download our docker-compose.yml example (right click and Save Link As... or use wget ) to a folder of your choice, and change the configuration as needed: wget https://dl.photoprism.app/docker/docker-compose.yml Commands on Linux may have to be prefixed with sudo when not running as root. Note that this will point the home directory shortcut ~ to /root in the volumes: section of your docker-compose.yml . Kernel security modules such as AppArmor and SELinux have been reported to cause issues . Ensure that your server has at least 4 GB of swap configured so that indexing doesn't cause restarts when there are memory usage spikes. Download our docker-compose.yml example for the Raspberry Pi 3 / 4 and other ARM64-based devices (right click and Save Link As... or use wget ) to a folder of your choice, and change the configuration as needed: wget https://dl.photoprism.app/docker/arm64/docker-compose.yml Mostly the same installation instructions as for regular Linux servers apply. Commands may have to be prefixed with sudo when not running as root. Ensure your device meets the requirements and has at least 4 GB of swap configured before you continue. Download our docker-compose.yml example for older ARMv7-based devices (right click and Save Link As... or use wget ) to a folder of your choice, and change the configuration as needed: wget https://dl.photoprism.app/docker/armv7/docker-compose.yml Mostly the same installation instructions as for regular Linux servers apply. Commands may have to be prefixed with sudo when not running as root. Ensure your device meets the requirements and has at least 4 GB of swap configured before you continue. Download our docker-compose.yml example for Windows (right click and Save Link As... ) to a folder of your choice, and change the configuration as needed: https://dl.photoprism.app/docker/windows/docker-compose.yml Windows Pro users should disable the WSL 2 based engine in Docker Settings > General so that they can mount drives other than C: . This will enable Hyper-V, which Microsoft doesn't offer to its Windows Home customers. Docker Desktop uses dynamic memory allocation with WSL 2. It is important to explicitly increase the Docker memory limit to 4 GB or more when using Hyper-V. The default of 2 GB can reduce indexing performance and cause unexpected restarts. Also, ensure that you configure at least 4 GB of swap space. Download our docker-compose.yml example for macOS (right click and Save Link As... ) to a folder of your choice, and change the configuration as needed: https://dl.photoprism.app/docker/macos/docker-compose.yml It is important to increase the Docker memory limit to 4 GB or more, as the default of 2 GB can reduce indexing performance and cause unexpected restarts. Also, ensure that you configure at least 4 GB of swap space. Always change PHOTOPRISM_ADMIN_PASSWORD so that the app starts with a secure initial password . Never use easy-to-guess passwords or default values like insecure on publicly accessible servers. There is no default in case no password was provided. A minimum length of 8 characters is required.","title":"Step 1: Configure"},{"location":"getting-started/docker-compose/#database","text":"Our example includes a pre-configured MariaDB database server. If you remove it and provide no other database server credentials, SQLite database files will be created in the storage folder. Local SSD storage is best for databases of any kind. Never store database files on an unreliable device such as a USB flash drive, an SD card, or a shared network folder. It is not possible to change the password via MYSQL_PASSWORD after the database has been started for the first time. Choosing a secure password is not essential if you don't expose the database to other apps and hosts .","title":"Database"},{"location":"getting-started/docker-compose/#volumes","text":"Since the app is running inside a container, you have to explicitly mount the host folders you want to use. PhotoPrism won't be able to see folders that have not been mounted. That's an important security feature.","title":"Volumes"},{"location":"getting-started/docker-compose/#photoprismoriginals","text":"The originals folder contains your original photo and video files. ~/Pictures will be mounted by default, where ~ is a shortcut for your home directory : volumes : # \"/host/folder:/photoprism/folder\" # example - \"~/Pictures:/photoprism/originals\" You may mount any folder accessible from the host instead, including network drives . Additional directories can be mounted as subfolders of /photoprism/originals : volumes : - \"/home/username/Pictures:/photoprism/originals\" - \"/example/friends:/photoprism/originals/friends\" - \"/mnt/photos:/photoprism/originals/media\" On Windows, prefix the host path with the drive letter and use / instead of \\ as separator: volumes : - \"D:/Example/Pictures:/photoprism/originals\" If read-only mode is enabled, all features that require write permission to the originals folder are disabled, in particular import, upload, and delete. Set PHOTOPRISM_READONLY to \"true\" in docker-compose.yml for this. You can mount a folder with the :ro flag to make Docker block write operations as well.","title":"/photoprism/originals"},{"location":"getting-started/docker-compose/#photoprismstorage","text":"Cache, session, thumbnail, and sidecar files will be created in the storage folder: Never remove the volume from your docker-compose.yml file so that you don't lose these files after restarting or upgrading PhotoPrism We recommend placing the storage folder on a local SSD drive for best performance Don't mount symbolic links and do not use them inside the storage folder When moving your installation to another host , move the complete storage folder along with it.","title":"/photoprism/storage"},{"location":"getting-started/docker-compose/#photoprismimport","text":"You may optionally mount an import folder from which files can be transferred to the originals folder in a structured way that avoids duplicates. Imported files receive a canonical filename and will be organized by year and month. You can safely skip this. Adding files via Web Upload and WebDAV remains possible, unless read-only mode is enabled or the features have been disabled .","title":"/photoprism/import"},{"location":"getting-started/docker-compose/#step-2-start-the-server","text":"Open a terminal and change to the folder in which the docker-compose.yml file has been saved. 1 Run this command to start the application and database services in the background: docker-compose up -d Now open the Web UI by navigating to http://localhost:2342/ . You should see a login screen. Sign in with the user admin and the initial password configured via PHOTOPRISM_ADMIN_PASSWORD . You may change it on the account settings page . Enabling public mode will disable authentication. It can be helpful to keep Docker running in the foreground while debugging so that log messages are displayed directly. To do this, omit the -d parameter when restarting. Should the server already be running, or you see no errors, you may have started it on a different host and/or port. There could also be an issue with your browser, ad blocker, or firewall settings . It is not possible to change the password via PHOTOPRISM_ADMIN_PASSWORD after the app has been started for the first time. You may run docker-compose exec photoprism photoprism passwd in a terminal to change an existing password. You can also reset your database for a clean start. The server port and other config options can be changed in docker-compose.yml at any time. Remember to restart the services for changes to take effect: docker-compose stop docker-compose up -d","title":"Step 2: Start the server"},{"location":"getting-started/docker-compose/#step-3-index-your-library","text":"Ensure there is enough disk space available for creating thumbnails and verify filesystem permissions before starting to index: Files in the originals folder must be readable, while the storage folder including all subdirectories must be readable and writeable. Open the Web UI , go to Library and click Start to start indexing your pictures. While indexing, JPEG sidecar files may be created for originals in other formats such as RAW and HEIF . This is required for image classification, facial recognition, and for displaying them in a Web browser. Sidecar and thumbnail files will be added to the storage folder, so that your originals folder won't be modified. Your photos and videos will successively become visible in search results and other parts of the user interface. Open the Logs tab in Library to watch the indexer working. Of course, you can continue using your favorite tools for processing RAW files, editing metadata, or importing new shots. Go to Library and click Start to update the index after files have been changed, added, or removed. This can also be automated using CLI commands and a scheduler . Easy, isn't it? Back us on Patreon or GitHub Sponsors . Your continued support helps us provide regular updates and services like world maps . Thank you!","title":"Step 3: Index your library"},{"location":"getting-started/docker-compose/#troubleshooting","text":"If your server runs out of memory, the index is frequently locked, or other system resources are running low: Try reducing the number of workers by setting PHOTOPRISM_WORKERS to a reasonably small value in docker-compose.yml , depending on the CPU performance and number of cores Make sure your server has at least 4 GB of swap space so that indexing doesn't cause restarts when memory usage spikes; RAW image conversion and video transcoding are especially demanding If you are using SQLite , switch to MariaDB, which is better optimized for high concurrency As a last measure, you can disable the use of TensorFlow for image classification and facial recognition Other issues? Our troubleshooting checklists help you quickly diagnose and solve them. You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request , try to determine the cause of your problem .","title":"Troubleshooting"},{"location":"getting-started/docker-compose/#command-line-interface","text":"photoprism help lists all commands and config options available in the current version: docker-compose exec photoprism photoprism help Use the --help flag to see a detailed command description, for example: docker-compose exec photoprism photoprism backup --help Prefixing commands with docker-compose exec [service name] runs them inside an app container. If this fails with no container found , make sure the app has been started, its service name is the same, and you are in the folder in which the docker-compose.yml file has been saved. PhotoPrism's command-line interface is well suited for job automation using a scheduler .","title":"Command-Line Interface"},{"location":"getting-started/docker-compose/#examples","text":"Action Command Start Services docker-compose up -d Stop Services docker-compose stop Download Updates docker-compose pull Uninstall docker-compose rm -s -v View Logs docker-compose logs --tail=100 -f Display Config Values docker-compose exec photoprism photoprism show config Repeat Failed Migrations docker-compose exec photoprism photoprism migrations run --failed Reset Database docker-compose exec photoprism photoprism reset Backup Database docker-compose exec photoprism photoprism backup -a -i Restore Database docker-compose exec photoprism photoprism restore -a -i Change Admin Password docker-compose exec photoprism photoprism passwd Show User Management Commands docker-compose exec photoprism photoprism users help Show Facial Recognition Commands docker-compose exec photoprism photoprism faces help Index Faces docker-compose exec photoprism photoprism faces index Reset People & Faces docker-compose exec photoprism photoprism faces reset -f Transcode Videos to AVC docker-compose exec photoprism photoprism convert Regenerate Thumbnails docker-compose exec photoprism photoprism thumbs -f Update Index docker-compose exec photoprism photoprism index --cleanup Import Files docker-compose exec photoprism photoprism import [path] Complete Rescan docker-compose exec photoprism photoprism index -f rescans all originals, including already indexed and unchanged files. This may be necessary after major upgrades. The default Docker Compose config filename is docker-compose.yml . For simplicity, it doesn't need to be specified when running the docker-compose command in the same directory. Config files for other apps or instances should be placed in separate folders. \u21a9","title":"Examples"},{"location":"getting-started/docker/","text":"Running PhotoPrism with Docker \u00b6 We recommend using Docker Compose because it is easier and provides more convenience for running multiple services than the pure Docker command-line interface . Before you proceed, make sure you have Docker installed on your system. It is available for Mac, Linux, and Windows. Step 1: Start the server \u00b6 Linux Open a terminal and run this command to start the app after replacing ~/Pictures with the folder containing your pictures: docker run -d \\ --name photoprism \\ --security-opt seccomp = unconfined \\ --security-opt apparmor = unconfined \\ -p 2342 :2342 \\ -e PHOTOPRISM_UPLOAD_NSFW = \"true\" \\ -e PHOTOPRISM_ADMIN_PASSWORD = \"insecure\" \\ -v /photoprism/storage \\ -v ~/Pictures:/photoprism/originals \\ photoprism/photoprism The server port and other config options can be changed as needed. If you provide no database server credentials, SQLite database files will be created in the storage folder. Always change PHOTOPRISM_ADMIN_PASSWORD so that the app starts with a secure initial password . Never use easy-to-guess passwords or default values like insecure on publicly accessible servers. There is no default in case no password was provided. A minimum length of 8 characters is required. Commands on Linux may have to be prefixed with sudo when not running as root. Note that this will point the home directory shortcut ~ to /root in volume mounts. Kernel security modules such as AppArmor and SELinux have been reported to cause issues . When the app has been started, open the Web UI by navigating to http://localhost:2342/ . You should see a login screen. Sign in with the user admin and the password configured via PHOTOPRISM_ADMIN_PASSWORD . You may change it on the account settings page . Enabling public mode will disable authentication. It can be helpful to keep Docker running in the foreground while debugging so that log messages are displayed directly. To do this, omit the -d parameter when restarting. Should the server already be running, or you see no errors, you may have started it on a different host and/or port. There could also be an issue with your browser, ad blocker, or firewall settings . It is not possible to change the password via PHOTOPRISM_ADMIN_PASSWORD after the app has been started for the first time. You may run docker exec -ti photoprism photoprism passwd in a terminal to change an existing password. You can also reset your database for a clean start. Volumes \u00b6 Since the app is running inside a container, you have to explicitly mount the host folders you want to use. PhotoPrism won't be able to see folders that have not been mounted. That's an important security feature. /photoprism/originals \u00b6 The originals folder contains your original photo and video files. They are mounted from ~/Pictures in the example above, where ~ is a shortcut for your home directory . You may mount any folder accessible from the host instead, including network drives . Additional directories can be mounted as subfolders of /photoprism/originals : -v ~/Example:/photoprism/originals/Example If read-only mode is enabled, all features that require write permission to the originals folder are disabled, in particular import, upload, and delete. Run the app with -e PHOTOPRISM_READONLY=\"true\" for this. You can mount a folder with the :ro flag to make Docker block write operations as well. /photoprism/storage \u00b6 SQLite , cache, session, thumbnail, and sidecar files will be created in the storage folder, which is mounted as an anonymous volume in our example. You may instead mount a specific host folder as for originals , which is better for production environments. Never remove the storage volume mount so that you don't lose these files after restarting or upgrading PhotoPrism We recommend placing the storage folder on a local SSD drive for best performance Don't mount symbolic links and do not use them inside the storage folder When moving your installation to another host , move the complete storage folder along with it. /photoprism/import \u00b6 You may optionally mount an import folder from which files can be transferred to the originals folder in a structured way that avoids duplicates. Imported files receive a canonical filename and will be organized by year and month. You can safely skip this. Adding files via Web Upload and WebDAV remains possible, unless read-only mode is enabled or the features have been disabled . Step 2: Index your library \u00b6 Ensure there is enough disk space available for creating thumbnails and verify filesystem permissions before starting to index: Files in the originals folder must be readable, while the storage folder including all subdirectories must be readable and writeable. Open the Web UI , go to Library and click Start to start indexing your pictures. While indexing, JPEG sidecar files may be created for originals in other formats such as RAW and HEIF . This is required for image classification, facial recognition, and for displaying them in a Web browser. Sidecar and thumbnail files will be added to the storage folder, so that your originals folder won't be modified. Your photos and videos will successively become visible in search results and other parts of the user interface. Open the Logs tab in Library to watch the indexer working. Of course, you can continue using your favorite tools for processing RAW files, editing metadata, or importing new shots. Go to Library and click Start to update the index after files have been changed, added, or removed. This can also be automated using CLI commands and a scheduler . Easy, isn't it? Step 3: When you're done... \u00b6 You can stop PhotoPrism and start it again using the following commands: docker stop photoprism docker start photoprism To remove the container completely: docker rm -f photoprism Back us on Patreon or GitHub Sponsors . Your continued support helps us provide regular updates and services like world maps . Thank you! Troubleshooting \u00b6 If your server runs out of memory, the index is frequently locked, or other system resources are running low: Try reducing the number of workers by setting PHOTOPRISM_WORKERS to a reasonably small value, depending on the CPU performance and number of cores Make sure your server has at least 4 GB of swap space so that indexing doesn't cause restarts when memory usage spikes; RAW image conversion and video transcoding are especially demanding If you are using SQLite , switch to MariaDB, which is better optimized for high concurrency As a last measure, you can disable the use of TensorFlow for image classification and facial recognition Other issues? Our troubleshooting checklists help you quickly diagnose and solve them. You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request , try to determine the cause of your problem . Command-Line Interface \u00b6 photoprism help lists all commands and config options available in the current version: docker exec -ti photoprism photoprism help Use the --help flag to see a detailed command description, for example: docker exec -ti photoprism photoprism backup --help Prefixing commands with docker exec -ti [container name] runs them inside an app container. If this fails with no container found , make sure the app has been started and its container has the same name. PhotoPrism's command-line interface is well suited for job automation using a scheduler . Examples \u00b6 Action Command Start PhotoPrism docker start photoprism Stop PhotoPrism docker stop photoprism Download Update docker pull photoprism/photoprism:latest Uninstall docker rm -f photoprism View Logs docker logs --tail=100 -f photoprism Display Config Values docker exec -ti photoprism photoprism show config Repeat Failed Migrations docker exec -ti photoprism photoprism migrations run --failed Reset Database docker exec -ti photoprism photoprism reset Backup Database docker exec -ti photoprism photoprism backup -a -i Restore Database docker exec -ti photoprism photoprism restore -a -i Change Admin Password docker exec -ti photoprism photoprism passwd Show User Management Commands docker exec -ti photoprism photoprism users help Show Facial Recognition Commands docker exec -ti photoprism photoprism faces help Index Faces docker exec -ti photoprism photoprism faces index Reset People & Faces docker exec -ti photoprism photoprism faces reset -f Transcode Videos to AVC docker exec -ti photoprism photoprism convert Regenerate Thumbnails docker exec -ti photoprism photoprism thumbs -f Update Index docker exec -ti photoprism photoprism index --cleanup Import Files docker exec -ti photoprism photoprism import [path] Complete Rescan docker exec -ti photoprism photoprism index -f rescans all originals, including already indexed and unchanged files. This may be necessary after major upgrades.","title":"Pure Docker"},{"location":"getting-started/docker/#running-photoprism-with-docker","text":"We recommend using Docker Compose because it is easier and provides more convenience for running multiple services than the pure Docker command-line interface . Before you proceed, make sure you have Docker installed on your system. It is available for Mac, Linux, and Windows.","title":"Running PhotoPrism with Docker"},{"location":"getting-started/docker/#step-1-start-the-server","text":"Linux Open a terminal and run this command to start the app after replacing ~/Pictures with the folder containing your pictures: docker run -d \\ --name photoprism \\ --security-opt seccomp = unconfined \\ --security-opt apparmor = unconfined \\ -p 2342 :2342 \\ -e PHOTOPRISM_UPLOAD_NSFW = \"true\" \\ -e PHOTOPRISM_ADMIN_PASSWORD = \"insecure\" \\ -v /photoprism/storage \\ -v ~/Pictures:/photoprism/originals \\ photoprism/photoprism The server port and other config options can be changed as needed. If you provide no database server credentials, SQLite database files will be created in the storage folder. Always change PHOTOPRISM_ADMIN_PASSWORD so that the app starts with a secure initial password . Never use easy-to-guess passwords or default values like insecure on publicly accessible servers. There is no default in case no password was provided. A minimum length of 8 characters is required. Commands on Linux may have to be prefixed with sudo when not running as root. Note that this will point the home directory shortcut ~ to /root in volume mounts. Kernel security modules such as AppArmor and SELinux have been reported to cause issues . When the app has been started, open the Web UI by navigating to http://localhost:2342/ . You should see a login screen. Sign in with the user admin and the password configured via PHOTOPRISM_ADMIN_PASSWORD . You may change it on the account settings page . Enabling public mode will disable authentication. It can be helpful to keep Docker running in the foreground while debugging so that log messages are displayed directly. To do this, omit the -d parameter when restarting. Should the server already be running, or you see no errors, you may have started it on a different host and/or port. There could also be an issue with your browser, ad blocker, or firewall settings . It is not possible to change the password via PHOTOPRISM_ADMIN_PASSWORD after the app has been started for the first time. You may run docker exec -ti photoprism photoprism passwd in a terminal to change an existing password. You can also reset your database for a clean start.","title":"Step 1: Start the server"},{"location":"getting-started/docker/#volumes","text":"Since the app is running inside a container, you have to explicitly mount the host folders you want to use. PhotoPrism won't be able to see folders that have not been mounted. That's an important security feature.","title":"Volumes"},{"location":"getting-started/docker/#photoprismoriginals","text":"The originals folder contains your original photo and video files. They are mounted from ~/Pictures in the example above, where ~ is a shortcut for your home directory . You may mount any folder accessible from the host instead, including network drives . Additional directories can be mounted as subfolders of /photoprism/originals : -v ~/Example:/photoprism/originals/Example If read-only mode is enabled, all features that require write permission to the originals folder are disabled, in particular import, upload, and delete. Run the app with -e PHOTOPRISM_READONLY=\"true\" for this. You can mount a folder with the :ro flag to make Docker block write operations as well.","title":"/photoprism/originals"},{"location":"getting-started/docker/#photoprismstorage","text":"SQLite , cache, session, thumbnail, and sidecar files will be created in the storage folder, which is mounted as an anonymous volume in our example. You may instead mount a specific host folder as for originals , which is better for production environments. Never remove the storage volume mount so that you don't lose these files after restarting or upgrading PhotoPrism We recommend placing the storage folder on a local SSD drive for best performance Don't mount symbolic links and do not use them inside the storage folder When moving your installation to another host , move the complete storage folder along with it.","title":"/photoprism/storage"},{"location":"getting-started/docker/#photoprismimport","text":"You may optionally mount an import folder from which files can be transferred to the originals folder in a structured way that avoids duplicates. Imported files receive a canonical filename and will be organized by year and month. You can safely skip this. Adding files via Web Upload and WebDAV remains possible, unless read-only mode is enabled or the features have been disabled .","title":"/photoprism/import"},{"location":"getting-started/docker/#step-2-index-your-library","text":"Ensure there is enough disk space available for creating thumbnails and verify filesystem permissions before starting to index: Files in the originals folder must be readable, while the storage folder including all subdirectories must be readable and writeable. Open the Web UI , go to Library and click Start to start indexing your pictures. While indexing, JPEG sidecar files may be created for originals in other formats such as RAW and HEIF . This is required for image classification, facial recognition, and for displaying them in a Web browser. Sidecar and thumbnail files will be added to the storage folder, so that your originals folder won't be modified. Your photos and videos will successively become visible in search results and other parts of the user interface. Open the Logs tab in Library to watch the indexer working. Of course, you can continue using your favorite tools for processing RAW files, editing metadata, or importing new shots. Go to Library and click Start to update the index after files have been changed, added, or removed. This can also be automated using CLI commands and a scheduler . Easy, isn't it?","title":"Step 2: Index your library"},{"location":"getting-started/docker/#step-3-when-youre-done","text":"You can stop PhotoPrism and start it again using the following commands: docker stop photoprism docker start photoprism To remove the container completely: docker rm -f photoprism Back us on Patreon or GitHub Sponsors . Your continued support helps us provide regular updates and services like world maps . Thank you!","title":"Step 3: When you're done..."},{"location":"getting-started/docker/#troubleshooting","text":"If your server runs out of memory, the index is frequently locked, or other system resources are running low: Try reducing the number of workers by setting PHOTOPRISM_WORKERS to a reasonably small value, depending on the CPU performance and number of cores Make sure your server has at least 4 GB of swap space so that indexing doesn't cause restarts when memory usage spikes; RAW image conversion and video transcoding are especially demanding If you are using SQLite , switch to MariaDB, which is better optimized for high concurrency As a last measure, you can disable the use of TensorFlow for image classification and facial recognition Other issues? Our troubleshooting checklists help you quickly diagnose and solve them. You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request , try to determine the cause of your problem .","title":"Troubleshooting"},{"location":"getting-started/docker/#command-line-interface","text":"photoprism help lists all commands and config options available in the current version: docker exec -ti photoprism photoprism help Use the --help flag to see a detailed command description, for example: docker exec -ti photoprism photoprism backup --help Prefixing commands with docker exec -ti [container name] runs them inside an app container. If this fails with no container found , make sure the app has been started and its container has the same name. PhotoPrism's command-line interface is well suited for job automation using a scheduler .","title":"Command-Line Interface"},{"location":"getting-started/docker/#examples","text":"Action Command Start PhotoPrism docker start photoprism Stop PhotoPrism docker stop photoprism Download Update docker pull photoprism/photoprism:latest Uninstall docker rm -f photoprism View Logs docker logs --tail=100 -f photoprism Display Config Values docker exec -ti photoprism photoprism show config Repeat Failed Migrations docker exec -ti photoprism photoprism migrations run --failed Reset Database docker exec -ti photoprism photoprism reset Backup Database docker exec -ti photoprism photoprism backup -a -i Restore Database docker exec -ti photoprism photoprism restore -a -i Change Admin Password docker exec -ti photoprism photoprism passwd Show User Management Commands docker exec -ti photoprism photoprism users help Show Facial Recognition Commands docker exec -ti photoprism photoprism faces help Index Faces docker exec -ti photoprism photoprism faces index Reset People & Faces docker exec -ti photoprism photoprism faces reset -f Transcode Videos to AVC docker exec -ti photoprism photoprism convert Regenerate Thumbnails docker exec -ti photoprism photoprism thumbs -f Update Index docker exec -ti photoprism photoprism index --cleanup Import Files docker exec -ti photoprism photoprism import [path] Complete Rescan docker exec -ti photoprism photoprism index -f rescans all originals, including already indexed and unchanged files. This may be necessary after major upgrades.","title":"Examples"},{"location":"getting-started/faq/","text":"Frequently Asked Questions \u00b6 What media file types are supported? \u00b6 PhotoPrism supports indexing, viewing, and converting most popular image, video and RAW formats, including JPEG, PNG, GIF, BMP, HEIF, HEIC, MP4, MOV, WebP, and WebM. TIFF is partially supported without extensions such as GeoTIFF. The internally used image format is JPEG. When indexing, a JPEG sidecar file can be created automatically for videos and images in other formats. It is needed for thumbnail generation, image classification, and face detection. JPEG XL support is planned as soon as it is generally available and enough compatible tools exist. If installed, converting RAW files is possible with the following converters (our Docker image includes both): Darktable ( supported cameras ) RawTherapee ( supported cameras ) On a Mac, RAW files can also be converted with Sips ( supported cameras ). Our goal is to provide top-notch support for all RAW formats, regardless of camera make and model. Please let us know about any issues with a particular camera or file format. For maximum browser compatibility, video codecs and containers supported by FFmpeg can be transcoded to MPEG-4 AVC on demand, just as still images can be extracted for thumbnail creation. Make sure you have JSON sidecar files enabled if you have videos, live photos, and/or animated GIFs so that video-specific metadata such as codec, frames, and duration can be extracted, indexed, and searched. For a complete list of file formats and extensions, see our downloadable Feature Overview . What are sidecar files and where do I find them? \u00b6 A sidecar is a file that sits next to your main photo or video files and usually has the same name but a different extension: IMG_0123.mov IMG_0123.mov.jpg IMG_0123.json New sidecar files are created in the storage folder by default, so the originals folder can be mounted read-only. Even if PHOTOPRISM_DISABLE_EXIFTOOL and PHOTOPRISM_DISABLE_BACKUPS are set to true , the indexer looks for existing sidecar files and uses them. What metadata sidecar file types are supported? \u00b6 Currently, three types of file formats are supported: JSON \u00b6 If not disabled via PHOTOPRISM_DISABLE_EXIFTOOL or --disable-exiftool , Exiftool is used to automatically create a JSON sidecar for each media file. In this way, embedded XMP and video metadata can also be indexed. Native metadata extraction is limited to common Exif headers. Note that this causes small amount of overhead when indexing for the first time. JSON files can also be useful for debugging, as they contain the full metadata and can be processed with common development tools and text editors. JSON files exported from Google Photos can be read as well. Support for more schemas may be added over time. YAML \u00b6 Unless disabled via PHOTOPRISM_DISABLE_BACKUPS or --disable-backups , PhotoPrism automatically creates/updates human-friendly YAML sidecar files during indexing and after manual editing of fields such as title, date, or location. They serve as a backup in case the database (index) is lost, or when folders are synchronized with a remote instance. Like JSON, YAML files can be opened with common development tools and text editors. However, changes are not synchronized with the original index, as this could overwrite existing data. XMP \u00b6 XMP (Extensible Metadata Platform) is an XML-based metadata container format developed by Adobe . It provides many more fields (as part of embedded models like Dublin Core) than Exif. This also makes it difficult - if not impossible - to provide full support. Reading title, copyright, artist, and description from XMP sidecar files is implemented as a proof-of-concept, contributions are welcome . Indexing of embedded XMP is only possible via Exiftool, see above. Are JPEGs updated when RAW or XMP files change? \u00b6 JPEGs are currently not regenerated when related RAW or XMP files change. RAW files are digital negatives by design. PhotoPrism therefore assumes that their image information is immutable. XMP files can affect the appearance, but most of the metadata they contain, such as title and description, does not. Creating JPEGs from RAW files is a time-consuming task, and in most cases would cause a huge, unjustified amount of overhead. In addition, the rendering information in XMP files is not well standardized. For example, changes you make in Photoshop may not be compatible with Darktable. We recommend manually updating existing JPEG sidecar files as needed or creating additional JPEGs, so you can choose between different versions. New files and other metadata changes are detected and reflected in the index as usual when your library is scanned. Which folder will be indexed? \u00b6 This depends on your environment and configuration . While subfolders can be selected for indexing in the UI, changing the originals base folder requires a restart for security reasons. If you skip configuration and don't use one of our Docker images, PhotoPrism will attempt to find a photo library by searching a list of common folder names such as /photoprism/originals and ~/Pictures . It also searches for other resources such as external applications, classification models, and frontend assets. If you use our Docker Compose example without modifications, pictures will be mounted from ~/Pictures where ~ is a shortcut for your home directory: \\user\\username on Windows /Users/username on macOS and /root or /home/username on Linux Since the app is running inside a container, you have to explicitly mount the host folders you want to use. PhotoPrism won't be able to see folders that have not been mounted. Multiple folders can be made accessible by mounting them as subfolders of /photoprism/originals , for example: volumes : - \"/home/username/Pictures:/photoprism/originals\" - \"/example/friends:/photoprism/originals/friends\" - \"/mnt/photos:/photoprism/originals/media\" How can I install PhotoPrism without Docker? \u00b6 Building From Source \u00b6 You can build and install PhotoPrism from the publicly available source code : git clone https://github.com/photoprism/photoprism.git cd photoprism make all install DESTDIR = /opt/photoprism Missing build dependencies must be installed manually as shown in our human-readable and versioned Dockerfile . You often don't need to use the exact same versions, so it's possible to replace packages with what is available in your environment. Please note that we do not have the resources to provide private users with dependencies and TensorFlow libraries for their personal environments. We recommend giving Docker a try if you use Linux as it saves developers a lot of time when building, testing, and deploying complex applications like PhotoPrism. It also effectively helps avoid \"works for me\" moments and missing dependencies, see next question . Installation Packages \u00b6 An unofficial port is available for FreeBSD / FreeNAS users. Developers are invited to contribute by building and testing standalone packages for Linux distributions and other operating systems. Updates are released several times a month , so maintaining the long list of dependencies for additional environments would currently consume too many of our resources . LXC Images \u00b6 There is no official LXC image available yet, see related GitHub issue for details. Why are you using Docker? \u00b6 Containers are nothing new; Solaris Zones have been around for about 15 years, first released publicly in 2004. The chroot system call was introduced during development of Version 7 Unix in 1979 . It is used ever since for hosting applications exposed to the public Internet. Modern Linux containers are an incremental improvement. A main advantage of Docker is that application images can be easily made available to users via Internet. It provides a common standard across most operating systems and devices, which saves our team a lot of time that we can then spend more effectively , for example, providing support and developing one of the many features that users are waiting for. Human-readable and versioned Dockerfiles as part of our public source code also help avoid \"works for me\" moments and other unwelcome surprises by enabling teams to have the exact same environment everywhere in development , staging, and production . Last but not least, virtually all file format parsers have vulnerabilities that just haven't been discovered yet. This is a known risk that can affect you even if your computer is not directly connected to the Internet. Running apps in a container with limited host access is an easy way to improve security without compromising performance and usability. A virtual machine running its own operating system provides more security, but typically has side effects such as lower performance and more difficult handling. You can also run Docker in a VM to get the best of both worlds. It's essentially what happens when you run dockerized applications on virtual cloud servers and operating systems other than Linux. Will the self-hosted version continue to be supported once a hosted version is available? \u00b6 Absolutely! Self-hosting is the easiest way to stay in control and protect your privacy (a key part of our mission). It also provides the best experience for advanced users who often rely on a local toolchain to select, edit, and publish their pictures. We understand that there is a great demand and many practical uses for a hosted version, which we plan to offer in addition so that users have more choice. Selected hosting partners will ensure that the privacy of our users is protected as much as technically possible, even in the cloud. Likewise, businesses demand a commercial offering with features and support options geared towards professional users. They are willing to pay for the value they receive, which helps fund development and allows us to expand our team. Should I use SQLite, MariaDB, or MySQL? \u00b6 PhotoPrism is compatible with SQLite 3 and MariaDB 10.5.12+ . Official support for MySQL 8 is discontinued as Oracle seems to have stopped shipping new features and improvements . As a result, the testing effort required before each release is no longer feasible. If you have few pictures, concurrent users, and CPU cores, SQLite may seem faster compared to full-featured database servers like MariaDB . This changes as the index grows and the number of concurrent accesses increases. The way MariaDB and MySQL handle multiple queries is completely different and optimized for high concurrency. SQLite, for example, locks the index on updates so that other operations have to wait. In the worst case, this can lead to timeout errors. Its main advantage is that you don't need to run a separate database server. This can be very useful for testing and also works great if you only have a few thousand files to index. MariaDB lacks some features that MySQL Enterprise Edition offers. On the other hand, MariaDB has many optimizations. It is also completely open-source. Can you improve performance when using older or otherwise slow hardware? \u00b6 It is a known issue that the user interface and backend operations, especially face recognition, can be slow or even crash on older hardware due to a lack of resources. Like most applications, PhotoPrism has certain requirements and our development process does not include testing on unsupported or unusual hardware. In many cases, performance can be improved through optimizations. Since these can prove to be very time-consuming and cost-intensive in practice, users and developers must decide on a case-by-case basis whether this provides sufficient benefit in relation to the costs or whether the use of more powerful hardware is faster and cheaper overall. We kindly ask you not to open a problem report on GitHub Issues for poor performance on older hardware until a full cause and feasibility analysis has been performed. GitHub Discussions or any of our other public forums and communities are great places to start a discussion. That being said, one of the advantages of open source software is that users can submit pull requests with performance and other improvements they would like to see implemented. This will result in a much faster solution than waiting for a core team member to remotely analyze your problem and then provide a fix. Is a Raspberry Pi fast enough? \u00b6 This largely depends on your expectations and the number of files you have. Most users report that PhotoPrism runs smoothly on their Raspberry Pi 4. However, initial indexing typically takes much longer than on standard desktop computers. Also keep in mind that the hardware has limited video transcoding capabilities, so the conversion of video file formats is not well-supported and software transcoding is generally slow. Should I use an SD card or a USB stick? \u00b6 Conventional USB sticks and SD cards are not suitable for long-term storage. Not only because of the performance, but also because they can lose data over time. Local Solid-State Drives (SSDs) are best, even when connected externally via USB 3. USB 1 and 2 devices will be slow either way. Why don't you display animated GIFs natively? \u00b6 Support for animated GIFs was added in April 2022 . Why is my storage folder so large? What is in it? \u00b6 The storage folder contains sidecar, thumbnail, and configuration files. It may also contain index database files if you're using SQLite. Most space is consumed by thumbnails: These are high-quality resampled, smaller versions of your originals. Thumbnails are required because Web browsers do a pretty bad job at resampling large images so that they fit your screen. Using originals for slideshows and search result previews would consume much more browser memory, and reduce overall performance, as well. If you're happy with lower quality thumbnails, you can reduce their JPEG quality and/or set a size limit. Note that existing thumbnail files won't be replaced automatically after changing config values . You may also choose to render thumbnails on-demand if you have a fast CPU and enough memory. However, storage is typically affordable enough for most users to go for better quality and performance instead. Can I skip creating thumbnails completely? \u00b6 The smallest configurable size is 720px for consumption by the indexer to perform color detection, face detection, and image classification. Recreating them every time they are needed is too demanding for even the most powerful servers. Unless you only have a few small images, it would render the app unusable. Reducing the Static Size Limit of thumbnails has a significant impact on facial recognition and image classification results. Simply put, it means that the indexer can no longer see properly. I'm having issues understanding the difference between the import and originals folders? \u00b6 You may optionally mount an import folder from which files can be transferred to the originals folder in a structured way that avoids duplicates. Imported files receive a canonical filename and will be organized by year and month. Most users with existing photo libraries will want to index their originals folder directly without importing files, leaving the existing file and folder names unchanged. On the other hand importing is an efficient way to add files, since PhotoPrism doesn't have to search your originals folder to find new files. Can I use PhotoPrism to sort files into a configurable folder structure? \u00b6 You have complete freedom in how you organize your originals. If you don't like the unique names and folders used by the import function, you can resort to external batch renaming tools, for example ExifTool , PhockUp , or Photo Organizer . Configurable import folders may be available in a later version. This is because - depending on the specific pattern - appropriate conflict resolution is required and the patterns must be well understood and validated to avoid typos or other misconfigurations that lead to undesired results for which we do not want to be responsible. Why is only the logo displayed when I open the app? \u00b6 This may happen when the server cannot be reached, for example, because a proxy is misconfigured, JavaScript is disabled in your browser, an ad blocker is blocking requests, or you are using an incompatible browser. We recommend going through the checklist provided and to verify that your browser meets the system requirements . Why is PhotoPrism getting stuck in a restart loop? \u00b6 This happens when Docker was configured to automatically restart services after failures. We recommend going through the checklist for fatal server errors and to verify that your computer meets the system requirements . Can I install PhotoPrism in a sub-directory on a shared domain? \u00b6 This is possible with our latest release if you run it behind a proxy. Note that for a Progressive Web App (PWA) to work as designed, the service worker should be located in the root directory. Also keep in mind sharing a domain with other apps may negatively impact the performance and security of all apps installed. The length of share links increases as well. I could not find a documentation of config parameters? \u00b6 We maintain a complete list of config options in Getting Started . When you run photoprism help in a terminal , all commands and parameters available in your currently installed version are listed: docker-compose exec photoprism photoprism help Our Docker Compose examples are continuously updated and inline documentation has been added to simplify installation. What exactly does the read-only mode? \u00b6 When you enable read-only mode , all features that require write permission to the originals folder are disabled, in particular import, upload, and delete. Set PHOTOPRISM_READONLY to \"true\" in docker-compose.yml for this. You can mount a folder with the :ro flag to make Docker block write operations as well. How can I uninstall PhotoPrism? \u00b6 This depends on how you installed it. If you're running PhotoPrism with Docker Compose , this command will stop and remove the Docker container: docker-compose rm -s -v Please refer to the official Docker documentation for further details. How can I mount network shares with Docker? \u00b6 You can mount remote folders that you can access on your host if they have already been mounted there, using your operating system's standard tools and methods. This requires no changes compared to specifying any other path or drive on your host. Alternatively, you can mount network storage using Docker Compose . Follow this docker-compose.yml example for NFS (Linux, Unix) shares: services : photoprism : # ... volumes : # Map originals folder to NFS: - \"photoprism-originals:/photoprism/originals\" volumes : photoprism-originals : driver : local driver_opts : type : nfs # The IP of your NAS: o : \"username=user,password=secret,addr=1.2.3.4,soft,rw\" # Share path on your NAS: device : \":/mnt/photos\" For mounting CIFS (Windows, Samba, SMB) network shares: volumes : photoprism-originals : driver : local driver_opts : type : cifs o : \"username=user,password=secret,rw\" device : \"//host/folder\" Mounting the import folder from a network drive that can also be accessed via other ways (e.g. CIFS) is handy because you can dump all data from an SD card/camera directly to this folder and then start the import process under Library > Import . PhotoPrism also has WebDAV support for remote file management and uploading, for example, through PhotoSync . Why does changing permissions using chmod does not work for my network shares? \u00b6 This is a common phenomenon with NFS shares. For security reasons, permissions must be changed on the server to take effect; unless the server allows them to be changed remotely, which depends on the settings. Even then, the actual permissions on the server and those effective on the clients may be different in the worst case. Do you support Podman? \u00b6 Podman works just fine both in rootless and under root. Mind the SELinux which is enabled on Red Hat compatible systems, you may hit permission error problems. More details on how to run PhotoPrism with Podman on CentOS in this blog post , it includes all the details including root and rootless modes, user mapping and SELinux. Any plans to add support for Active Directory, LDAP or other centralized account management options? \u00b6 There is no single sign-on support yet as we didn't consider it essential for our initial release. Our team is currently working on OpenID Connect , which will be available in a future release. Your app is really terrible, can I tell you how bad it is? \u00b6 If you are having a bad day and want to offend someone, please go somewhere else. Professional Users Our Community Edition is designed primarily for small servers and home users. Professional users are welcome to contact us for a commercial solution .","title":"FAQ"},{"location":"getting-started/faq/#frequently-asked-questions","text":"","title":"Frequently Asked Questions"},{"location":"getting-started/faq/#what-media-file-types-are-supported","text":"PhotoPrism supports indexing, viewing, and converting most popular image, video and RAW formats, including JPEG, PNG, GIF, BMP, HEIF, HEIC, MP4, MOV, WebP, and WebM. TIFF is partially supported without extensions such as GeoTIFF. The internally used image format is JPEG. When indexing, a JPEG sidecar file can be created automatically for videos and images in other formats. It is needed for thumbnail generation, image classification, and face detection. JPEG XL support is planned as soon as it is generally available and enough compatible tools exist. If installed, converting RAW files is possible with the following converters (our Docker image includes both): Darktable ( supported cameras ) RawTherapee ( supported cameras ) On a Mac, RAW files can also be converted with Sips ( supported cameras ). Our goal is to provide top-notch support for all RAW formats, regardless of camera make and model. Please let us know about any issues with a particular camera or file format. For maximum browser compatibility, video codecs and containers supported by FFmpeg can be transcoded to MPEG-4 AVC on demand, just as still images can be extracted for thumbnail creation. Make sure you have JSON sidecar files enabled if you have videos, live photos, and/or animated GIFs so that video-specific metadata such as codec, frames, and duration can be extracted, indexed, and searched. For a complete list of file formats and extensions, see our downloadable Feature Overview .","title":"What media file types are supported?"},{"location":"getting-started/faq/#what-are-sidecar-files-and-where-do-i-find-them","text":"A sidecar is a file that sits next to your main photo or video files and usually has the same name but a different extension: IMG_0123.mov IMG_0123.mov.jpg IMG_0123.json New sidecar files are created in the storage folder by default, so the originals folder can be mounted read-only. Even if PHOTOPRISM_DISABLE_EXIFTOOL and PHOTOPRISM_DISABLE_BACKUPS are set to true , the indexer looks for existing sidecar files and uses them.","title":"What are sidecar files and where do I find them?"},{"location":"getting-started/faq/#what-metadata-sidecar-file-types-are-supported","text":"Currently, three types of file formats are supported:","title":"What metadata sidecar file types are supported?"},{"location":"getting-started/faq/#json","text":"If not disabled via PHOTOPRISM_DISABLE_EXIFTOOL or --disable-exiftool , Exiftool is used to automatically create a JSON sidecar for each media file. In this way, embedded XMP and video metadata can also be indexed. Native metadata extraction is limited to common Exif headers. Note that this causes small amount of overhead when indexing for the first time. JSON files can also be useful for debugging, as they contain the full metadata and can be processed with common development tools and text editors. JSON files exported from Google Photos can be read as well. Support for more schemas may be added over time.","title":"JSON"},{"location":"getting-started/faq/#yaml","text":"Unless disabled via PHOTOPRISM_DISABLE_BACKUPS or --disable-backups , PhotoPrism automatically creates/updates human-friendly YAML sidecar files during indexing and after manual editing of fields such as title, date, or location. They serve as a backup in case the database (index) is lost, or when folders are synchronized with a remote instance. Like JSON, YAML files can be opened with common development tools and text editors. However, changes are not synchronized with the original index, as this could overwrite existing data.","title":"YAML"},{"location":"getting-started/faq/#xmp","text":"XMP (Extensible Metadata Platform) is an XML-based metadata container format developed by Adobe . It provides many more fields (as part of embedded models like Dublin Core) than Exif. This also makes it difficult - if not impossible - to provide full support. Reading title, copyright, artist, and description from XMP sidecar files is implemented as a proof-of-concept, contributions are welcome . Indexing of embedded XMP is only possible via Exiftool, see above.","title":"XMP"},{"location":"getting-started/faq/#are-jpegs-updated-when-raw-or-xmp-files-change","text":"JPEGs are currently not regenerated when related RAW or XMP files change. RAW files are digital negatives by design. PhotoPrism therefore assumes that their image information is immutable. XMP files can affect the appearance, but most of the metadata they contain, such as title and description, does not. Creating JPEGs from RAW files is a time-consuming task, and in most cases would cause a huge, unjustified amount of overhead. In addition, the rendering information in XMP files is not well standardized. For example, changes you make in Photoshop may not be compatible with Darktable. We recommend manually updating existing JPEG sidecar files as needed or creating additional JPEGs, so you can choose between different versions. New files and other metadata changes are detected and reflected in the index as usual when your library is scanned.","title":"Are JPEGs updated when RAW or XMP files change?"},{"location":"getting-started/faq/#which-folder-will-be-indexed","text":"This depends on your environment and configuration . While subfolders can be selected for indexing in the UI, changing the originals base folder requires a restart for security reasons. If you skip configuration and don't use one of our Docker images, PhotoPrism will attempt to find a photo library by searching a list of common folder names such as /photoprism/originals and ~/Pictures . It also searches for other resources such as external applications, classification models, and frontend assets. If you use our Docker Compose example without modifications, pictures will be mounted from ~/Pictures where ~ is a shortcut for your home directory: \\user\\username on Windows /Users/username on macOS and /root or /home/username on Linux Since the app is running inside a container, you have to explicitly mount the host folders you want to use. PhotoPrism won't be able to see folders that have not been mounted. Multiple folders can be made accessible by mounting them as subfolders of /photoprism/originals , for example: volumes : - \"/home/username/Pictures:/photoprism/originals\" - \"/example/friends:/photoprism/originals/friends\" - \"/mnt/photos:/photoprism/originals/media\"","title":"Which folder will be indexed?"},{"location":"getting-started/faq/#how-can-i-install-photoprism-without-docker","text":"","title":"How can I install PhotoPrism without Docker?"},{"location":"getting-started/faq/#building-from-source","text":"You can build and install PhotoPrism from the publicly available source code : git clone https://github.com/photoprism/photoprism.git cd photoprism make all install DESTDIR = /opt/photoprism Missing build dependencies must be installed manually as shown in our human-readable and versioned Dockerfile . You often don't need to use the exact same versions, so it's possible to replace packages with what is available in your environment. Please note that we do not have the resources to provide private users with dependencies and TensorFlow libraries for their personal environments. We recommend giving Docker a try if you use Linux as it saves developers a lot of time when building, testing, and deploying complex applications like PhotoPrism. It also effectively helps avoid \"works for me\" moments and missing dependencies, see next question .","title":"Building From Source"},{"location":"getting-started/faq/#installation-packages","text":"An unofficial port is available for FreeBSD / FreeNAS users. Developers are invited to contribute by building and testing standalone packages for Linux distributions and other operating systems. Updates are released several times a month , so maintaining the long list of dependencies for additional environments would currently consume too many of our resources .","title":"Installation Packages"},{"location":"getting-started/faq/#lxc-images","text":"There is no official LXC image available yet, see related GitHub issue for details.","title":"LXC Images"},{"location":"getting-started/faq/#why-are-you-using-docker","text":"Containers are nothing new; Solaris Zones have been around for about 15 years, first released publicly in 2004. The chroot system call was introduced during development of Version 7 Unix in 1979 . It is used ever since for hosting applications exposed to the public Internet. Modern Linux containers are an incremental improvement. A main advantage of Docker is that application images can be easily made available to users via Internet. It provides a common standard across most operating systems and devices, which saves our team a lot of time that we can then spend more effectively , for example, providing support and developing one of the many features that users are waiting for. Human-readable and versioned Dockerfiles as part of our public source code also help avoid \"works for me\" moments and other unwelcome surprises by enabling teams to have the exact same environment everywhere in development , staging, and production . Last but not least, virtually all file format parsers have vulnerabilities that just haven't been discovered yet. This is a known risk that can affect you even if your computer is not directly connected to the Internet. Running apps in a container with limited host access is an easy way to improve security without compromising performance and usability. A virtual machine running its own operating system provides more security, but typically has side effects such as lower performance and more difficult handling. You can also run Docker in a VM to get the best of both worlds. It's essentially what happens when you run dockerized applications on virtual cloud servers and operating systems other than Linux.","title":"Why are you using Docker?"},{"location":"getting-started/faq/#will-the-self-hosted-version-continue-to-be-supported-once-a-hosted-version-is-available","text":"Absolutely! Self-hosting is the easiest way to stay in control and protect your privacy (a key part of our mission). It also provides the best experience for advanced users who often rely on a local toolchain to select, edit, and publish their pictures. We understand that there is a great demand and many practical uses for a hosted version, which we plan to offer in addition so that users have more choice. Selected hosting partners will ensure that the privacy of our users is protected as much as technically possible, even in the cloud. Likewise, businesses demand a commercial offering with features and support options geared towards professional users. They are willing to pay for the value they receive, which helps fund development and allows us to expand our team.","title":"Will the self-hosted version continue to be supported once a hosted version is available?"},{"location":"getting-started/faq/#should-i-use-sqlite-mariadb-or-mysql","text":"PhotoPrism is compatible with SQLite 3 and MariaDB 10.5.12+ . Official support for MySQL 8 is discontinued as Oracle seems to have stopped shipping new features and improvements . As a result, the testing effort required before each release is no longer feasible. If you have few pictures, concurrent users, and CPU cores, SQLite may seem faster compared to full-featured database servers like MariaDB . This changes as the index grows and the number of concurrent accesses increases. The way MariaDB and MySQL handle multiple queries is completely different and optimized for high concurrency. SQLite, for example, locks the index on updates so that other operations have to wait. In the worst case, this can lead to timeout errors. Its main advantage is that you don't need to run a separate database server. This can be very useful for testing and also works great if you only have a few thousand files to index. MariaDB lacks some features that MySQL Enterprise Edition offers. On the other hand, MariaDB has many optimizations. It is also completely open-source.","title":"Should I use SQLite, MariaDB, or MySQL?"},{"location":"getting-started/faq/#can-you-improve-performance-when-using-older-or-otherwise-slow-hardware","text":"It is a known issue that the user interface and backend operations, especially face recognition, can be slow or even crash on older hardware due to a lack of resources. Like most applications, PhotoPrism has certain requirements and our development process does not include testing on unsupported or unusual hardware. In many cases, performance can be improved through optimizations. Since these can prove to be very time-consuming and cost-intensive in practice, users and developers must decide on a case-by-case basis whether this provides sufficient benefit in relation to the costs or whether the use of more powerful hardware is faster and cheaper overall. We kindly ask you not to open a problem report on GitHub Issues for poor performance on older hardware until a full cause and feasibility analysis has been performed. GitHub Discussions or any of our other public forums and communities are great places to start a discussion. That being said, one of the advantages of open source software is that users can submit pull requests with performance and other improvements they would like to see implemented. This will result in a much faster solution than waiting for a core team member to remotely analyze your problem and then provide a fix.","title":"Can you improve performance when using older or otherwise slow hardware?"},{"location":"getting-started/faq/#is-a-raspberry-pi-fast-enough","text":"This largely depends on your expectations and the number of files you have. Most users report that PhotoPrism runs smoothly on their Raspberry Pi 4. However, initial indexing typically takes much longer than on standard desktop computers. Also keep in mind that the hardware has limited video transcoding capabilities, so the conversion of video file formats is not well-supported and software transcoding is generally slow.","title":"Is a Raspberry Pi fast enough?"},{"location":"getting-started/faq/#should-i-use-an-sd-card-or-a-usb-stick","text":"Conventional USB sticks and SD cards are not suitable for long-term storage. Not only because of the performance, but also because they can lose data over time. Local Solid-State Drives (SSDs) are best, even when connected externally via USB 3. USB 1 and 2 devices will be slow either way.","title":"Should I use an SD card or a USB stick?"},{"location":"getting-started/faq/#why-dont-you-display-animated-gifs-natively","text":"Support for animated GIFs was added in April 2022 .","title":"Why don't you display animated GIFs natively?"},{"location":"getting-started/faq/#why-is-my-storage-folder-so-large-what-is-in-it","text":"The storage folder contains sidecar, thumbnail, and configuration files. It may also contain index database files if you're using SQLite. Most space is consumed by thumbnails: These are high-quality resampled, smaller versions of your originals. Thumbnails are required because Web browsers do a pretty bad job at resampling large images so that they fit your screen. Using originals for slideshows and search result previews would consume much more browser memory, and reduce overall performance, as well. If you're happy with lower quality thumbnails, you can reduce their JPEG quality and/or set a size limit. Note that existing thumbnail files won't be replaced automatically after changing config values . You may also choose to render thumbnails on-demand if you have a fast CPU and enough memory. However, storage is typically affordable enough for most users to go for better quality and performance instead.","title":"Why is my storage folder so large? What is in it?"},{"location":"getting-started/faq/#can-i-skip-creating-thumbnails-completely","text":"The smallest configurable size is 720px for consumption by the indexer to perform color detection, face detection, and image classification. Recreating them every time they are needed is too demanding for even the most powerful servers. Unless you only have a few small images, it would render the app unusable. Reducing the Static Size Limit of thumbnails has a significant impact on facial recognition and image classification results. Simply put, it means that the indexer can no longer see properly.","title":"Can I skip creating thumbnails completely?"},{"location":"getting-started/faq/#im-having-issues-understanding-the-difference-between-the-import-and-originals-folders","text":"You may optionally mount an import folder from which files can be transferred to the originals folder in a structured way that avoids duplicates. Imported files receive a canonical filename and will be organized by year and month. Most users with existing photo libraries will want to index their originals folder directly without importing files, leaving the existing file and folder names unchanged. On the other hand importing is an efficient way to add files, since PhotoPrism doesn't have to search your originals folder to find new files.","title":"I'm having issues understanding the difference between the import and originals folders?"},{"location":"getting-started/faq/#can-i-use-photoprism-to-sort-files-into-a-configurable-folder-structure","text":"You have complete freedom in how you organize your originals. If you don't like the unique names and folders used by the import function, you can resort to external batch renaming tools, for example ExifTool , PhockUp , or Photo Organizer . Configurable import folders may be available in a later version. This is because - depending on the specific pattern - appropriate conflict resolution is required and the patterns must be well understood and validated to avoid typos or other misconfigurations that lead to undesired results for which we do not want to be responsible.","title":"Can I use PhotoPrism to sort files into a configurable folder structure?"},{"location":"getting-started/faq/#why-is-only-the-logo-displayed-when-i-open-the-app","text":"This may happen when the server cannot be reached, for example, because a proxy is misconfigured, JavaScript is disabled in your browser, an ad blocker is blocking requests, or you are using an incompatible browser. We recommend going through the checklist provided and to verify that your browser meets the system requirements .","title":"Why is only the logo displayed when I open the app?"},{"location":"getting-started/faq/#why-is-photoprism-getting-stuck-in-a-restart-loop","text":"This happens when Docker was configured to automatically restart services after failures. We recommend going through the checklist for fatal server errors and to verify that your computer meets the system requirements .","title":"Why is PhotoPrism getting stuck in a restart loop?"},{"location":"getting-started/faq/#can-i-install-photoprism-in-a-sub-directory-on-a-shared-domain","text":"This is possible with our latest release if you run it behind a proxy. Note that for a Progressive Web App (PWA) to work as designed, the service worker should be located in the root directory. Also keep in mind sharing a domain with other apps may negatively impact the performance and security of all apps installed. The length of share links increases as well.","title":"Can I install PhotoPrism in a sub-directory on a shared domain?"},{"location":"getting-started/faq/#i-could-not-find-a-documentation-of-config-parameters","text":"We maintain a complete list of config options in Getting Started . When you run photoprism help in a terminal , all commands and parameters available in your currently installed version are listed: docker-compose exec photoprism photoprism help Our Docker Compose examples are continuously updated and inline documentation has been added to simplify installation.","title":"I could not find a documentation of config parameters?"},{"location":"getting-started/faq/#what-exactly-does-the-read-only-mode","text":"When you enable read-only mode , all features that require write permission to the originals folder are disabled, in particular import, upload, and delete. Set PHOTOPRISM_READONLY to \"true\" in docker-compose.yml for this. You can mount a folder with the :ro flag to make Docker block write operations as well.","title":"What exactly does the read-only mode?"},{"location":"getting-started/faq/#how-can-i-uninstall-photoprism","text":"This depends on how you installed it. If you're running PhotoPrism with Docker Compose , this command will stop and remove the Docker container: docker-compose rm -s -v Please refer to the official Docker documentation for further details.","title":"How can I uninstall PhotoPrism?"},{"location":"getting-started/faq/#how-can-i-mount-network-shares-with-docker","text":"You can mount remote folders that you can access on your host if they have already been mounted there, using your operating system's standard tools and methods. This requires no changes compared to specifying any other path or drive on your host. Alternatively, you can mount network storage using Docker Compose . Follow this docker-compose.yml example for NFS (Linux, Unix) shares: services : photoprism : # ... volumes : # Map originals folder to NFS: - \"photoprism-originals:/photoprism/originals\" volumes : photoprism-originals : driver : local driver_opts : type : nfs # The IP of your NAS: o : \"username=user,password=secret,addr=1.2.3.4,soft,rw\" # Share path on your NAS: device : \":/mnt/photos\" For mounting CIFS (Windows, Samba, SMB) network shares: volumes : photoprism-originals : driver : local driver_opts : type : cifs o : \"username=user,password=secret,rw\" device : \"//host/folder\" Mounting the import folder from a network drive that can also be accessed via other ways (e.g. CIFS) is handy because you can dump all data from an SD card/camera directly to this folder and then start the import process under Library > Import . PhotoPrism also has WebDAV support for remote file management and uploading, for example, through PhotoSync .","title":"How can I mount network shares with Docker?"},{"location":"getting-started/faq/#why-does-changing-permissions-using-chmod-does-not-work-for-my-network-shares","text":"This is a common phenomenon with NFS shares. For security reasons, permissions must be changed on the server to take effect; unless the server allows them to be changed remotely, which depends on the settings. Even then, the actual permissions on the server and those effective on the clients may be different in the worst case.","title":"Why does changing permissions using chmod does not work for my  network shares?"},{"location":"getting-started/faq/#do-you-support-podman","text":"Podman works just fine both in rootless and under root. Mind the SELinux which is enabled on Red Hat compatible systems, you may hit permission error problems. More details on how to run PhotoPrism with Podman on CentOS in this blog post , it includes all the details including root and rootless modes, user mapping and SELinux.","title":"Do you support Podman?"},{"location":"getting-started/faq/#any-plans-to-add-support-for-active-directory-ldap-or-other-centralized-account-management-options","text":"There is no single sign-on support yet as we didn't consider it essential for our initial release. Our team is currently working on OpenID Connect , which will be available in a future release.","title":"Any plans to add support for Active Directory, LDAP or other centralized account management options?"},{"location":"getting-started/faq/#your-app-is-really-terrible-can-i-tell-you-how-bad-it-is","text":"If you are having a bad day and want to offend someone, please go somewhere else. Professional Users Our Community Edition is designed primarily for small servers and home users. Professional users are welcome to contact us for a commercial solution .","title":"Your app is really terrible, can I tell you how bad it is?"},{"location":"getting-started/freebsd/","text":"Running PhotoPrism On FreeBSD \u00b6 Note: This is contributed content. Click the edit link to perform changes and send a pull request. For FreeBSD / FreeNAS users, an unofficial PhotoPrism port is available. The port will compile and install libtensorflow 1.15.2 and build photoprism from source on FreeBSD. You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request, try to determine the cause of your problem . 1. Clone or download the port: git clone https://github.com/huo-ju/photoprism-freebsd-port 2. Build TensorFlow and PhotoPrism from source, then install: cd photoprism-freebsd-port make config make && make install When running the make config command, a CPU feature options dialog will be presented, and the default option is NONE. 3. Add entries to rc.conf: photoprism_enable = \"YES\" photoprism_assetspath = \"/var/photoprism/assets\" photoprism_storagepath = \"/var/photoprism/storage\" You can add more command line parameters into photoprism_flags=\"\" in the rc.conf photoprism config shows all config parameters. 4. Start the service: service photoprism start Done!","title":"FreeBSD"},{"location":"getting-started/freebsd/#running-photoprism-on-freebsd","text":"Note: This is contributed content. Click the edit link to perform changes and send a pull request. For FreeBSD / FreeNAS users, an unofficial PhotoPrism port is available. The port will compile and install libtensorflow 1.15.2 and build photoprism from source on FreeBSD. You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request, try to determine the cause of your problem . 1. Clone or download the port: git clone https://github.com/huo-ju/photoprism-freebsd-port 2. Build TensorFlow and PhotoPrism from source, then install: cd photoprism-freebsd-port make config make && make install When running the make config command, a CPU feature options dialog will be presented, and the default option is NONE. 3. Add entries to rc.conf: photoprism_enable = \"YES\" photoprism_assetspath = \"/var/photoprism/assets\" photoprism_storagepath = \"/var/photoprism/storage\" You can add more command line parameters into photoprism_flags=\"\" in the rc.conf photoprism config shows all config parameters. 4. Start the service: service photoprism start Done!","title":"Running PhotoPrism On FreeBSD"},{"location":"getting-started/raspberry-pi/","text":"Running PhotoPrism on a Raspberry Pi \u00b6 Our stable version and development preview have been built into a single multi-arch Docker image for 64-bit AMD, Intel, and ARM processors. That means, Raspberry Pi 3 / 4, Apple Silicon, and other ARM64-based devices can pull from the same repository, enjoy the exact same functionality, and can follow the regular Installation Instructions after going through a short list of System Requirements . Note that Raspberry Pi OS (Raspbian) is a 32-bit user-space Linux with a 64-bit kernel to remain compatible with older Raspberry software. This requires special configuration to run modern 64-bit applications and Docker images, see Architecture Specific Notes . System Requirements \u00b6 Your device should have at least 3 GB of physical memory and a 64-bit operating system While PhotoPrism has been reported to work on devices with less memory, we take no responsibility for instability or performance problems RAW image conversion and TensorFlow are disabled on systems with 1 GB or less memory Indexing large photo and video collections significantly benefits from local SSD storage and plenty of memory for caching, especially the conversion of RAW images and the transcoding of videos are very demanding If less than 4 GB of swap space is configured or a manual memory/swap limit is set, this can cause unexpected restarts, for example, when the indexer temporarily needs more memory to process large files High-resolution panoramic images may require additional swap space and/or physical memory above the recommended minimum We recommend disabling kernel security in your docker-compose.yml , especially if you do not have experience with the configuration: photoprism : security_opt : - seccomp:unconfined - apparmor:unconfined If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy such as Traefik or Caddy Architecture Specific Notes \u00b6 Modern ARM64-based Devices \u00b6 Image Name Stable Release photoprism/photoprism:latest Development Preview photoprism/photoprism:preview MariaDB arm64v8/mariadb:10.6 Raspberry Pi OS (Raspbian) requires special configuration to run modern 64-bit applications and Docker images. If you do not have legacy software, we recommend choosing a standard 64-bit Linux distribution as this requires less experience: Raspberry Pi Debian Ubuntu for Raspberry Pi UbuntuDockerPi is a 64-bit Ubuntu Server with Docker pre-configured Other distributions that target the same use case as Raspbian, such as CoreELEC, may have the same problems and should also not be used to run modern server applications. Raspberry Pi OS \u00b6 To ensure compatibility with 64-bit Docker images, your Raspberry Pi 3 / 4 must boot with the arm_64bit=1 flag in its config.txt file . An \"exec format\" error will occur otherwise. Try explicitly pulling the ARM64 version if you've booted your device with the arm_64bit=1 flag and you see the \"no matching manifest\" error on Raspberry Pi OS (Raspbian): docker pull --platform = arm64 photoprism/photoprism:latest It may also help to set the DOCKER_DEFAULT_PLATFORM environment variable to linux/arm64 . In case you see Docker errors related to \"cgroups\", try adding the following parameters to /boot/firmware/cmdline.txt or /boot/cmdline.txt (file location depends on the OS in use): cgroup_enable=cpuset cgroup_enable=memory cgroup_memory=1 Older ARMv7-based Devices \u00b6 You may use the following 32-bit Docker images to run PhotoPrism and MariaDB on ARMv7-based devices (always use our ARM64 image if possible): Image Name Stable Release photoprism/photoprism:armv7 Development Preview photoprism/photoprism:preview-armv7 MariaDB linuxserver/mariadb:latest If your device meets the requirements , mostly the same installation instructions as for regular Linux servers apply. Please pay close attention to changed directory and environment variable names. Darktable is not included in the ARMv7 image because it is not 32-bit compatible. Always choose the regular 64-bit version if your device supports it. Is a Raspberry Pi fast enough? \u00b6 This largely depends on your expectations and the number of files you have. Most users report that PhotoPrism runs smoothly on their Raspberry Pi 4. However, initial indexing typically takes much longer than on standard desktop computers. Also keep in mind that the hardware has limited video transcoding capabilities, so the conversion of video file formats is not well-supported and software transcoding is generally slow. Getting Updates \u00b6 Open a terminal and change to the folder where the docker-compose.yml file is located. 1 Now run the following commands to download the most recent image from Docker Hub and restart your instance in the background: docker-compose pull docker-compose stop docker-compose up -d Pulling a new version can take several minutes, depending on your internet connection speed. Advanced users can add this to a Makefile so that they only have to type a single command like make update . See Command-Line Interface to learn more about terminal commands. Running an image with :latest tag does not cause Docker to automatically download new images. We recommend that you compare your docker-compose.yml with our examples at dl.photoprism.app/docker from time to time in case there are new configuration options or other improvements. Troubleshooting \u00b6 If your device runs out of memory, the index is frequently locked, or other system resources are running low: Try reducing the number of workers by setting PHOTOPRISM_WORKERS to a reasonably small value in docker-compose.yml , depending on the performance of your device Make sure your device has at least 4 GB of swap space so that indexing doesn't cause restarts when memory usage spikes; RAW image conversion and video transcoding are especially demanding If you are using SQLite, switch to MariaDB, which is better optimized for high concurrency As a last measure, you can disable the use of TensorFlow for image classification and facial recognition Other issues? Our troubleshooting checklists help you quickly diagnose and solve them. You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request, try to determine the cause of your problem . Credits \u00b6 A big thank you to Guy Sheffer for helping us build a Raspberry Pi version! The default Docker Compose config filename is docker-compose.yml . For simplicity, it doesn't need to be specified when running the docker-compose command in the same directory. Config files for other apps or instances should be placed in separate folders. \u21a9","title":"Raspberry Pi"},{"location":"getting-started/raspberry-pi/#running-photoprism-on-a-raspberry-pi","text":"Our stable version and development preview have been built into a single multi-arch Docker image for 64-bit AMD, Intel, and ARM processors. That means, Raspberry Pi 3 / 4, Apple Silicon, and other ARM64-based devices can pull from the same repository, enjoy the exact same functionality, and can follow the regular Installation Instructions after going through a short list of System Requirements . Note that Raspberry Pi OS (Raspbian) is a 32-bit user-space Linux with a 64-bit kernel to remain compatible with older Raspberry software. This requires special configuration to run modern 64-bit applications and Docker images, see Architecture Specific Notes .","title":"Running PhotoPrism on a Raspberry Pi"},{"location":"getting-started/raspberry-pi/#system-requirements","text":"Your device should have at least 3 GB of physical memory and a 64-bit operating system While PhotoPrism has been reported to work on devices with less memory, we take no responsibility for instability or performance problems RAW image conversion and TensorFlow are disabled on systems with 1 GB or less memory Indexing large photo and video collections significantly benefits from local SSD storage and plenty of memory for caching, especially the conversion of RAW images and the transcoding of videos are very demanding If less than 4 GB of swap space is configured or a manual memory/swap limit is set, this can cause unexpected restarts, for example, when the indexer temporarily needs more memory to process large files High-resolution panoramic images may require additional swap space and/or physical memory above the recommended minimum We recommend disabling kernel security in your docker-compose.yml , especially if you do not have experience with the configuration: photoprism : security_opt : - seccomp:unconfined - apparmor:unconfined If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy such as Traefik or Caddy","title":"System Requirements"},{"location":"getting-started/raspberry-pi/#architecture-specific-notes","text":"","title":"Architecture Specific Notes"},{"location":"getting-started/raspberry-pi/#modern-arm64-based-devices","text":"Image Name Stable Release photoprism/photoprism:latest Development Preview photoprism/photoprism:preview MariaDB arm64v8/mariadb:10.6 Raspberry Pi OS (Raspbian) requires special configuration to run modern 64-bit applications and Docker images. If you do not have legacy software, we recommend choosing a standard 64-bit Linux distribution as this requires less experience: Raspberry Pi Debian Ubuntu for Raspberry Pi UbuntuDockerPi is a 64-bit Ubuntu Server with Docker pre-configured Other distributions that target the same use case as Raspbian, such as CoreELEC, may have the same problems and should also not be used to run modern server applications.","title":"Modern ARM64-based Devices"},{"location":"getting-started/raspberry-pi/#raspberry-pi-os","text":"To ensure compatibility with 64-bit Docker images, your Raspberry Pi 3 / 4 must boot with the arm_64bit=1 flag in its config.txt file . An \"exec format\" error will occur otherwise. Try explicitly pulling the ARM64 version if you've booted your device with the arm_64bit=1 flag and you see the \"no matching manifest\" error on Raspberry Pi OS (Raspbian): docker pull --platform = arm64 photoprism/photoprism:latest It may also help to set the DOCKER_DEFAULT_PLATFORM environment variable to linux/arm64 . In case you see Docker errors related to \"cgroups\", try adding the following parameters to /boot/firmware/cmdline.txt or /boot/cmdline.txt (file location depends on the OS in use): cgroup_enable=cpuset cgroup_enable=memory cgroup_memory=1","title":"Raspberry Pi OS"},{"location":"getting-started/raspberry-pi/#older-armv7-based-devices","text":"You may use the following 32-bit Docker images to run PhotoPrism and MariaDB on ARMv7-based devices (always use our ARM64 image if possible): Image Name Stable Release photoprism/photoprism:armv7 Development Preview photoprism/photoprism:preview-armv7 MariaDB linuxserver/mariadb:latest If your device meets the requirements , mostly the same installation instructions as for regular Linux servers apply. Please pay close attention to changed directory and environment variable names. Darktable is not included in the ARMv7 image because it is not 32-bit compatible. Always choose the regular 64-bit version if your device supports it.","title":"Older ARMv7-based Devices"},{"location":"getting-started/raspberry-pi/#is-a-raspberry-pi-fast-enough","text":"This largely depends on your expectations and the number of files you have. Most users report that PhotoPrism runs smoothly on their Raspberry Pi 4. However, initial indexing typically takes much longer than on standard desktop computers. Also keep in mind that the hardware has limited video transcoding capabilities, so the conversion of video file formats is not well-supported and software transcoding is generally slow.","title":"Is a Raspberry Pi fast enough?"},{"location":"getting-started/raspberry-pi/#getting-updates","text":"Open a terminal and change to the folder where the docker-compose.yml file is located. 1 Now run the following commands to download the most recent image from Docker Hub and restart your instance in the background: docker-compose pull docker-compose stop docker-compose up -d Pulling a new version can take several minutes, depending on your internet connection speed. Advanced users can add this to a Makefile so that they only have to type a single command like make update . See Command-Line Interface to learn more about terminal commands. Running an image with :latest tag does not cause Docker to automatically download new images. We recommend that you compare your docker-compose.yml with our examples at dl.photoprism.app/docker from time to time in case there are new configuration options or other improvements.","title":"Getting Updates"},{"location":"getting-started/raspberry-pi/#troubleshooting","text":"If your device runs out of memory, the index is frequently locked, or other system resources are running low: Try reducing the number of workers by setting PHOTOPRISM_WORKERS to a reasonably small value in docker-compose.yml , depending on the performance of your device Make sure your device has at least 4 GB of swap space so that indexing doesn't cause restarts when memory usage spikes; RAW image conversion and video transcoding are especially demanding If you are using SQLite, switch to MariaDB, which is better optimized for high concurrency As a last measure, you can disable the use of TensorFlow for image classification and facial recognition Other issues? Our troubleshooting checklists help you quickly diagnose and solve them. You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request, try to determine the cause of your problem .","title":"Troubleshooting"},{"location":"getting-started/raspberry-pi/#credits","text":"A big thank you to Guy Sheffer for helping us build a Raspberry Pi version! The default Docker Compose config filename is docker-compose.yml . For simplicity, it doesn't need to be specified when running the docker-compose command in the same directory. Config files for other apps or instances should be placed in separate folders. \u21a9","title":"Credits"},{"location":"getting-started/updates/","text":"Getting Updates \u00b6 Back us on Patreon or GitHub Sponsors . Your continued support helps us provide regular updates and services like world maps . Thank you! Docker Compose \u00b6 Open a terminal and change to the folder where the docker-compose.yml file is located. 1 Now run the following commands to download the most recent image from Docker Hub and restart your instance in the background: docker-compose pull docker-compose stop docker-compose up -d Pulling a new version can take several minutes, depending on your internet connection speed. Advanced users can add this to a Makefile so that they only have to type a single command like make update . See Command-Line Interface to learn more about terminal commands. Running an image with :latest tag does not cause Docker to automatically download new images. We recommend that you compare your docker-compose.yml with our examples at dl.photoprism.app/docker from time to time in case there are new configuration options or other improvements. Development Preview \u00b6 You can test upcoming features and improvements by changing the image from photoprism/photoprism:latest to photoprism/photoprism:preview in your docker-compose.yml . Then pull the most recent image and restart your instance as shown above. Raspberry Pi \u00b6 Our stable version and development preview have been built into a single multi-arch Docker image for 64-bit AMD, Intel, and ARM processors. That means, Raspberry Pi 3 / 4, Apple Silicon, and other ARM64-based devices can pull from the same repository, enjoy the exact same functionality, and can follow the regular Installation Instructions after going through a short list of System Requirements and Architecture Specific Notes . Try explicitly pulling the ARM64 version if you've booted your device with the arm_64bit=1 flag and you see the \"no matching manifest\" error on Raspberry Pi OS (Raspbian): docker pull --platform = arm64 photoprism/photoprism:latest If you do not have legacy software, we recommend choosing a standard 64-bit Linux distribution as this requires less experience. Alternative 32-bit Docker images are provided for ARMv7-based devices . Darktable is not included in the ARMv7 version because it is not 32-bit compatible. Facial Recognition \u00b6 Existing users may index faces without performing a complete rescan: docker-compose exec photoprism photoprism faces index Remove existing people and faces for a clean start e.g. after upgrading from our development preview : docker-compose exec photoprism photoprism faces reset -f Watchtower \u00b6 Adding Watchtower as a service to your docker-compose.yml will automatically keep images up-to-date: services: watchtower: image: containrrr/watchtower restart: unless-stopped volumes: - \"/var/run/docker.sock:/var/run/docker.sock\" Users of our DigitalOcean 1-Click App have Watchtower pre-installed. Caution Automatic updates may interrupt indexing and import operations. Only enable Watchtower if you are comfortable with this. Pure Docker \u00b6 Open a terminal on your server, and run the following command to pull the most recent container image: docker pull photoprism/photoprism:latest See Running PhotoPrism with Docker for a command reference. The default Docker Compose config filename is docker-compose.yml . For simplicity, it doesn't need to be specified when running the docker-compose command in the same directory. Config files for other apps or instances should be placed in separate folders. \u21a9","title":"Getting Updates"},{"location":"getting-started/updates/#getting-updates","text":"Back us on Patreon or GitHub Sponsors . Your continued support helps us provide regular updates and services like world maps . Thank you!","title":"Getting Updates"},{"location":"getting-started/updates/#docker-compose","text":"Open a terminal and change to the folder where the docker-compose.yml file is located. 1 Now run the following commands to download the most recent image from Docker Hub and restart your instance in the background: docker-compose pull docker-compose stop docker-compose up -d Pulling a new version can take several minutes, depending on your internet connection speed. Advanced users can add this to a Makefile so that they only have to type a single command like make update . See Command-Line Interface to learn more about terminal commands. Running an image with :latest tag does not cause Docker to automatically download new images. We recommend that you compare your docker-compose.yml with our examples at dl.photoprism.app/docker from time to time in case there are new configuration options or other improvements.","title":"Docker Compose"},{"location":"getting-started/updates/#development-preview","text":"You can test upcoming features and improvements by changing the image from photoprism/photoprism:latest to photoprism/photoprism:preview in your docker-compose.yml . Then pull the most recent image and restart your instance as shown above.","title":"Development Preview"},{"location":"getting-started/updates/#raspberry-pi","text":"Our stable version and development preview have been built into a single multi-arch Docker image for 64-bit AMD, Intel, and ARM processors. That means, Raspberry Pi 3 / 4, Apple Silicon, and other ARM64-based devices can pull from the same repository, enjoy the exact same functionality, and can follow the regular Installation Instructions after going through a short list of System Requirements and Architecture Specific Notes . Try explicitly pulling the ARM64 version if you've booted your device with the arm_64bit=1 flag and you see the \"no matching manifest\" error on Raspberry Pi OS (Raspbian): docker pull --platform = arm64 photoprism/photoprism:latest If you do not have legacy software, we recommend choosing a standard 64-bit Linux distribution as this requires less experience. Alternative 32-bit Docker images are provided for ARMv7-based devices . Darktable is not included in the ARMv7 version because it is not 32-bit compatible.","title":"Raspberry Pi"},{"location":"getting-started/updates/#facial-recognition","text":"Existing users may index faces without performing a complete rescan: docker-compose exec photoprism photoprism faces index Remove existing people and faces for a clean start e.g. after upgrading from our development preview : docker-compose exec photoprism photoprism faces reset -f","title":"Facial Recognition"},{"location":"getting-started/updates/#watchtower","text":"Adding Watchtower as a service to your docker-compose.yml will automatically keep images up-to-date: services: watchtower: image: containrrr/watchtower restart: unless-stopped volumes: - \"/var/run/docker.sock:/var/run/docker.sock\" Users of our DigitalOcean 1-Click App have Watchtower pre-installed. Caution Automatic updates may interrupt indexing and import operations. Only enable Watchtower if you are comfortable with this.","title":"Watchtower"},{"location":"getting-started/updates/#pure-docker","text":"Open a terminal on your server, and run the following command to pull the most recent container image: docker pull photoprism/photoprism:latest See Running PhotoPrism with Docker for a command reference. The default Docker Compose config filename is docker-compose.yml . For simplicity, it doesn't need to be specified when running the docker-compose command in the same directory. Config files for other apps or instances should be placed in separate folders. \u21a9","title":"Pure Docker"},{"location":"getting-started/advanced/backups/","text":"Creating Backups \u00b6 A full backup of your PhotoPrism instance includes: All content from your originals folder An index database SQL dump The best way to create an index backup is to run this command in a terminal: photoprism backup -i [filename] Or the following for docker-compose : docker-compose exec -T photoprism photoprism backup -i - > photoprism-db.sql As seen above, you can use - as filename to write the backup to stdout. This is done to ensure the backup resides outside of the container environment. If you leave the filename empty, the backup will be written to the default backup folder configured via PHOTOPRISM_BACKUP_PATH . If you want, you can also export your cache and thumbnails, but it can also be re-generated after restore. It will save you from re-generating thumbnails from scratch however. Helpful information can be found on GitHub as well.","title":"Backups"},{"location":"getting-started/advanced/backups/#creating-backups","text":"A full backup of your PhotoPrism instance includes: All content from your originals folder An index database SQL dump The best way to create an index backup is to run this command in a terminal: photoprism backup -i [filename] Or the following for docker-compose : docker-compose exec -T photoprism photoprism backup -i - > photoprism-db.sql As seen above, you can use - as filename to write the backup to stdout. This is done to ensure the backup resides outside of the container environment. If you leave the filename empty, the backup will be written to the default backup folder configured via PHOTOPRISM_BACKUP_PATH . If you want, you can also export your cache and thumbnails, but it can also be re-generated after restore. It will save you from re-generating thumbnails from scratch however. Helpful information can be found on GitHub as well.","title":"Creating Backups"},{"location":"getting-started/advanced/caching/","text":"Optimizing Cache Performance \u00b6 Note: This is contributed content and may be outdated. Click the edit link to perform changes and send a pull request. Some users might want to place the thumbnail cache on a separate, faster file system while keeping the actual photo files on large, slow bulk storage. This should result in faster access to the thumbnails. To do this, we add a further volume ( -v ) parameter to the docker script so we use an external path (outside the container) for the cache files. You can get the internal path with photoprism config , or as a docker command in a running system (for Linux/BSD systems): sudo docker exec photoprism photoprism config | grep cache-path This should return a line such as: cache-path /home/photoprism/.cache/photoprism for the internal path. We now know to add a line like -v <MYCACHE_FOLDER>:/home/photoprism/.cache/photoprism \\ to the docker invocation, with your actual path to the cache folder replacing <MYCACHE_FOLDER> . As an example, let's assume a ZFS filesystem with two pools (\"volumes\" in classical terminology): A pool tank in a raidz2 (RAID6) configuration based on hard drives that holds the original pictures, and a pool dozer in a mirrored (RAID1) configuration based on SSD or NVMe drives to store the thumbnails. Our docker script could be: docker run -d \\ --name photoprism \\ -p 2342:2342 \\ -v /tank/photos/:/home/photoprism/Pictures/Originals \\ -v /dozer/cache/:/home/photoprism/.cache/photoprism \\ photoprism/photoprism:latest In a case like this, you will probably also want to optimize the datasets (\"file systems\") tank/photos and dozer/cache further. For instance, the original photo files will call for a larger recordsize than the smaller cache files.","title":"Caching"},{"location":"getting-started/advanced/caching/#optimizing-cache-performance","text":"Note: This is contributed content and may be outdated. Click the edit link to perform changes and send a pull request. Some users might want to place the thumbnail cache on a separate, faster file system while keeping the actual photo files on large, slow bulk storage. This should result in faster access to the thumbnails. To do this, we add a further volume ( -v ) parameter to the docker script so we use an external path (outside the container) for the cache files. You can get the internal path with photoprism config , or as a docker command in a running system (for Linux/BSD systems): sudo docker exec photoprism photoprism config | grep cache-path This should return a line such as: cache-path /home/photoprism/.cache/photoprism for the internal path. We now know to add a line like -v <MYCACHE_FOLDER>:/home/photoprism/.cache/photoprism \\ to the docker invocation, with your actual path to the cache folder replacing <MYCACHE_FOLDER> . As an example, let's assume a ZFS filesystem with two pools (\"volumes\" in classical terminology): A pool tank in a raidz2 (RAID6) configuration based on hard drives that holds the original pictures, and a pool dozer in a mirrored (RAID1) configuration based on SSD or NVMe drives to store the thumbnails. Our docker script could be: docker run -d \\ --name photoprism \\ -p 2342:2342 \\ -v /tank/photos/:/home/photoprism/Pictures/Originals \\ -v /dozer/cache/:/home/photoprism/.cache/photoprism \\ photoprism/photoprism:latest In a case like this, you will probably also want to optimize the datasets (\"file systems\") tank/photos and dozer/cache further. For instance, the original photo files will call for a larger recordsize than the smaller cache files.","title":"Optimizing Cache Performance"},{"location":"getting-started/advanced/databases/","text":"Advanced Database Setup \u00b6 PhotoPrism is compatible with SQLite 3 and MariaDB 10.5.12+ . Older databases using the same dialect, such as MySQL 8, may work but are not officially supported. Never store database files on a shared network drive or open them with two server instances at the same time. Info Our docker-compose.yml examples include tested and working database configurations. These docs are for advanced users only. MySQL Official support for MySQL 8 is discontinued as Oracle seems to have stopped shipping new features and improvements . As a result, the testing effort required before each release is no longer feasible. MariaDB \u00b6 When creating a new database, make sure to set the charset and collation as follows: CREATE DATABASE photoprism CHARACTER SET = 'utf8mb4' COLLATE = 'utf8mb4_unicode_ci' ; Now create a user and grant privileges for this new database: CREATE USER 'photoprism' @ '%' IDENTIFIED BY 'insecure' ; GRANT ALL PRIVILEGES ON photoprism . * to 'photoprism' @ '%' ; FLUSH PRIVILEGES ; Set the database environment variables for PhotoPrism as follows: services : photoprism : environment : PHOTOPRISM_DATABASE_DRIVER : \"mysql\" PHOTOPRISM_DATABASE_SERVER : \"mariadb:3306\" PHOTOPRISM_DATABASE_NAME : \"photoprism\" PHOTOPRISM_DATABASE_USER : \"photoprism\" PHOTOPRISM_DATABASE_PASSWORD : \"insecure\" Note mariadb:3306 needs to be replaced with the actual database server host and port, unless you're using our docker-compose.yml example without modifications. Database Migrations \u00b6 MariaDB to Sqlite \u00b6 Install https://github.com/techouse/mysql-to-sqlite3 on your host. Stop Photoprism: docker-compose stop photoprism Add the port to the MariaDB service On the host now run sudo mysql2sqlite -f <PATH_TO_STORAGE_MOUNT>/storage/index.db -d photoprism -u root --mysql-password 'insecure' Shutdown your current stack fully: docker-compose down Edit your docker-compose.yml : Remove the MariaDB service. Change in the Photoprism settings to use the sqlite driver and remove the other database settings Start your stack again with docker-compose up -d If this worked you may want to delete the old mountpoint for the MariaDB database. Sqlite to MariaDB \u00b6 Install https://github.com/techouse/sqlite3-to-mysql on your host. (openSUSE: zypper in python-sqlite3-to-mysql ) Shutdown your current stack: docker-compose down Add the current snippet of the MariaDB to your Sqlite Photoprism Docker-Compose with the addition of the extra ports section where you expose port 3306 to the Host. In my case this looked like attachment 1. Start the stack again: docker-compose up -d Stop Photoprism: docker-compose stop photoprism On the host now run sudo sqlite3mysql -f <PATH_TO_STORAGE_MOUNT>/storage/index.db -d photoprism -u root --mysql-password 'insecure' Shutdown your current stack again: docker-compose down Edit your docker-compose.yml so it uses the MariaDB database you added before. Don't forget to remove the ports section of the MariaDB Container. Start your stack again with docker-compose up -d If this worked you may want to delete the file index.db in the storage mount since it contains out of date information. Attachment 1: mariadb: image: mariadb:10.6 container_name: mariadb restart: unless-stopped ports: - 3306:3306 security_opt: - seccomp:unconfined - apparmor:unconfined command: mysqld --transaction-isolation=READ-COMMITTED --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci --max-connections=512 --innodb-rollback-on-timeout=OFF --innodb-lock-wait-timeout=120 volumes: - \"./database:/var/lib/mysql\" # never remove environment: MYSQL_ROOT_PASSWORD: insecure MYSQL_DATABASE: photoprism MYSQL_USER: photoprism MYSQL_PASSWORD: insecure","title":"Databases"},{"location":"getting-started/advanced/databases/#advanced-database-setup","text":"PhotoPrism is compatible with SQLite 3 and MariaDB 10.5.12+ . Older databases using the same dialect, such as MySQL 8, may work but are not officially supported. Never store database files on a shared network drive or open them with two server instances at the same time. Info Our docker-compose.yml examples include tested and working database configurations. These docs are for advanced users only. MySQL Official support for MySQL 8 is discontinued as Oracle seems to have stopped shipping new features and improvements . As a result, the testing effort required before each release is no longer feasible.","title":"Advanced Database Setup"},{"location":"getting-started/advanced/databases/#mariadb","text":"When creating a new database, make sure to set the charset and collation as follows: CREATE DATABASE photoprism CHARACTER SET = 'utf8mb4' COLLATE = 'utf8mb4_unicode_ci' ; Now create a user and grant privileges for this new database: CREATE USER 'photoprism' @ '%' IDENTIFIED BY 'insecure' ; GRANT ALL PRIVILEGES ON photoprism . * to 'photoprism' @ '%' ; FLUSH PRIVILEGES ; Set the database environment variables for PhotoPrism as follows: services : photoprism : environment : PHOTOPRISM_DATABASE_DRIVER : \"mysql\" PHOTOPRISM_DATABASE_SERVER : \"mariadb:3306\" PHOTOPRISM_DATABASE_NAME : \"photoprism\" PHOTOPRISM_DATABASE_USER : \"photoprism\" PHOTOPRISM_DATABASE_PASSWORD : \"insecure\" Note mariadb:3306 needs to be replaced with the actual database server host and port, unless you're using our docker-compose.yml example without modifications.","title":"MariaDB"},{"location":"getting-started/advanced/databases/#database-migrations","text":"","title":"Database Migrations"},{"location":"getting-started/advanced/databases/#mariadb-to-sqlite","text":"Install https://github.com/techouse/mysql-to-sqlite3 on your host. Stop Photoprism: docker-compose stop photoprism Add the port to the MariaDB service On the host now run sudo mysql2sqlite -f <PATH_TO_STORAGE_MOUNT>/storage/index.db -d photoprism -u root --mysql-password 'insecure' Shutdown your current stack fully: docker-compose down Edit your docker-compose.yml : Remove the MariaDB service. Change in the Photoprism settings to use the sqlite driver and remove the other database settings Start your stack again with docker-compose up -d If this worked you may want to delete the old mountpoint for the MariaDB database.","title":"MariaDB to Sqlite"},{"location":"getting-started/advanced/databases/#sqlite-to-mariadb","text":"Install https://github.com/techouse/sqlite3-to-mysql on your host. (openSUSE: zypper in python-sqlite3-to-mysql ) Shutdown your current stack: docker-compose down Add the current snippet of the MariaDB to your Sqlite Photoprism Docker-Compose with the addition of the extra ports section where you expose port 3306 to the Host. In my case this looked like attachment 1. Start the stack again: docker-compose up -d Stop Photoprism: docker-compose stop photoprism On the host now run sudo sqlite3mysql -f <PATH_TO_STORAGE_MOUNT>/storage/index.db -d photoprism -u root --mysql-password 'insecure' Shutdown your current stack again: docker-compose down Edit your docker-compose.yml so it uses the MariaDB database you added before. Don't forget to remove the ports section of the MariaDB Container. Start your stack again with docker-compose up -d If this worked you may want to delete the file index.db in the storage mount since it contains out of date information. Attachment 1: mariadb: image: mariadb:10.6 container_name: mariadb restart: unless-stopped ports: - 3306:3306 security_opt: - seccomp:unconfined - apparmor:unconfined command: mysqld --transaction-isolation=READ-COMMITTED --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci --max-connections=512 --innodb-rollback-on-timeout=OFF --innodb-lock-wait-timeout=120 volumes: - \"./database:/var/lib/mysql\" # never remove environment: MYSQL_ROOT_PASSWORD: insecure MYSQL_DATABASE: photoprism MYSQL_USER: photoprism MYSQL_PASSWORD: insecure","title":"Sqlite to MariaDB"},{"location":"getting-started/advanced/kubernetes/","text":"Running PhotoPrism with Kubernetes \u00b6 Note: This is contributed content and may be outdated. Click the edit link to perform changes and send a pull request. Running PhotoPrism on a Kubernetes cluster is straightforward. At a minimum, you can just define a Kubernetes Service and a StatefulSet and be up and running. For more real-world usage, you'll probably want to at least include persistent storage, and possibly some Ingress rules for exposing PhotoPrism outside your cluster. For those familiar with Helm , a PhotoPrism Helm chart is available . Once you've got PhotoPrism deployed, you can exec into the running container and photoprism import your photos. Here's an example of a YAML file that creates the following Kubernetes objects: Namespace Service exposing PhotoPrism on port 80 StatefulSet with persistent NFS volumes Secret which stores the database DSN and admin password Ingress rule for a Kubernetes ingress controller Annotations for a Kubernetes Certificate Manager apiVersion : v1 kind : Namespace metadata : name : photoprism --- apiVersion : v1 kind : Secret metadata : name : photoprism-secrets namespace : photoprism stringData : PHOTOPRISM_ADMIN_PASSWORD : <your admin password here> PHOTOPRISM_DATABASE_DSN : username:password@tcp(db-server-address:3306)/dbname?charset=utf8mb4,utf8&parseTime=true --- apiVersion : apps/v1 kind : StatefulSet metadata : name : photoprism namespace : photoprism spec : selector : matchLabels : app : photoprism serviceName : photoprism replicas : 1 template : metadata : labels : app : photoprism spec : containers : - name : photoprism image : photoprism/photoprism:latest env : - name : PHOTOPRISM_DEBUG value : \"true\" - name : PHOTOPRISM_CACHE_PATH value : /assets/cache - name : PHOTOPRISM_IMPORT_PATH value : /assets/photos/import - name : PHOTOPRISM_EXPORT_PATH value : /assets/photos/export - name : PHOTOPRISM_ORIGINALS_PATH value : /assets/photos/originals - name : PHOTOPRISM_DATABASE_DRIVER value : mysql - name : PHOTOPRISM_HTTP_HOST value : 0.0.0.0 - name : PHOTOPRISM_HTTP_PORT value : \"2342\" # Load database DSN & admin password from secret envFrom : - secretRef : name : photoprism-secrets optional : false ports : - containerPort : 2342 name : http volumeMounts : - mountPath : /assets/photos/originals name : originals subPath : media/photos - mountPath : /assets/cache name : photoprism subPath : cache - mountPath : /assets/photos/import name : photoprism subPath : import - mountPath : /assets/photos/export name : photoprism subPath : export readinessProbe : httpGet : path : /api/v1/status port : http volumes : - name : originals nfs : path : /share readOnly : true server : my.nas.host - name : photoprism nfs : path : /photoprism server : my.nas.host --- apiVersion : v1 kind : Service metadata : name : photoprism namespace : photoprism spec : ports : - name : http port : 80 protocol : TCP targetPort : http selector : app : photoprism type : ClusterIP --- apiVersion : networking.k8s.io/v1 kind : Ingress metadata : annotations : # For nginx ingress controller: kubernetes.io/ingress.class : nginx # Default is very low so most photo uploads will fail nginx.ingress.kubernetes.io/proxy-body-size : \"512M\" # If using cert-manager: certmanager.k8s.io/cluster-issuer : letsencrypt-prod kubernetes.io/tls-acme : \"true\" name : photoprism namespace : photoprism spec : rules : - host : photoprism.my.domain http : paths : - backend : service : name : photoprism port : name : http path : / pathType : Prefix tls : - hosts : - photoprism.my.domain secretName : photoprism-cert To run this locally, you can use minikube or a similar local cluster deployer. Once your cluster is up and running with your kubectl commands. Simply copy the above YAML markup to a file, make the necessary changes, and use the kubectl CLI command to deploy: kubectl create -f photoprism.yaml If you prefer to use helm, see https://github.com/p80n/photoprism-helm .","title":"Kubernetes"},{"location":"getting-started/advanced/kubernetes/#running-photoprism-with-kubernetes","text":"Note: This is contributed content and may be outdated. Click the edit link to perform changes and send a pull request. Running PhotoPrism on a Kubernetes cluster is straightforward. At a minimum, you can just define a Kubernetes Service and a StatefulSet and be up and running. For more real-world usage, you'll probably want to at least include persistent storage, and possibly some Ingress rules for exposing PhotoPrism outside your cluster. For those familiar with Helm , a PhotoPrism Helm chart is available . Once you've got PhotoPrism deployed, you can exec into the running container and photoprism import your photos. Here's an example of a YAML file that creates the following Kubernetes objects: Namespace Service exposing PhotoPrism on port 80 StatefulSet with persistent NFS volumes Secret which stores the database DSN and admin password Ingress rule for a Kubernetes ingress controller Annotations for a Kubernetes Certificate Manager apiVersion : v1 kind : Namespace metadata : name : photoprism --- apiVersion : v1 kind : Secret metadata : name : photoprism-secrets namespace : photoprism stringData : PHOTOPRISM_ADMIN_PASSWORD : <your admin password here> PHOTOPRISM_DATABASE_DSN : username:password@tcp(db-server-address:3306)/dbname?charset=utf8mb4,utf8&parseTime=true --- apiVersion : apps/v1 kind : StatefulSet metadata : name : photoprism namespace : photoprism spec : selector : matchLabels : app : photoprism serviceName : photoprism replicas : 1 template : metadata : labels : app : photoprism spec : containers : - name : photoprism image : photoprism/photoprism:latest env : - name : PHOTOPRISM_DEBUG value : \"true\" - name : PHOTOPRISM_CACHE_PATH value : /assets/cache - name : PHOTOPRISM_IMPORT_PATH value : /assets/photos/import - name : PHOTOPRISM_EXPORT_PATH value : /assets/photos/export - name : PHOTOPRISM_ORIGINALS_PATH value : /assets/photos/originals - name : PHOTOPRISM_DATABASE_DRIVER value : mysql - name : PHOTOPRISM_HTTP_HOST value : 0.0.0.0 - name : PHOTOPRISM_HTTP_PORT value : \"2342\" # Load database DSN & admin password from secret envFrom : - secretRef : name : photoprism-secrets optional : false ports : - containerPort : 2342 name : http volumeMounts : - mountPath : /assets/photos/originals name : originals subPath : media/photos - mountPath : /assets/cache name : photoprism subPath : cache - mountPath : /assets/photos/import name : photoprism subPath : import - mountPath : /assets/photos/export name : photoprism subPath : export readinessProbe : httpGet : path : /api/v1/status port : http volumes : - name : originals nfs : path : /share readOnly : true server : my.nas.host - name : photoprism nfs : path : /photoprism server : my.nas.host --- apiVersion : v1 kind : Service metadata : name : photoprism namespace : photoprism spec : ports : - name : http port : 80 protocol : TCP targetPort : http selector : app : photoprism type : ClusterIP --- apiVersion : networking.k8s.io/v1 kind : Ingress metadata : annotations : # For nginx ingress controller: kubernetes.io/ingress.class : nginx # Default is very low so most photo uploads will fail nginx.ingress.kubernetes.io/proxy-body-size : \"512M\" # If using cert-manager: certmanager.k8s.io/cluster-issuer : letsencrypt-prod kubernetes.io/tls-acme : \"true\" name : photoprism namespace : photoprism spec : rules : - host : photoprism.my.domain http : paths : - backend : service : name : photoprism port : name : http path : / pathType : Prefix tls : - hosts : - photoprism.my.domain secretName : photoprism-cert To run this locally, you can use minikube or a similar local cluster deployer. Once your cluster is up and running with your kubectl commands. Simply copy the above YAML markup to a file, make the necessary changes, and use the kubectl CLI command to deploy: kubectl create -f photoprism.yaml If you prefer to use helm, see https://github.com/p80n/photoprism-helm .","title":"Running PhotoPrism with Kubernetes"},{"location":"getting-started/advanced/nginx-proxy-setup/","text":"Advanced NGINX Proxy Setup \u00b6 Note: This is contributed content and may be outdated. Click the edit link to perform changes and send a pull request. Getting Support In case you experience issues when using NGINX , such as failed uploads, connection errors , broken thumbnails , and video playback problems : Consider asking the NGINX community for advice as we do not specialize in supporting their product, which is known to be difficult to configure properly We recommend using Traefik as reverse proxy instead because it is easier and provides more convenience Using a reverse proxy in front of PhotoPrism has various benefits: Make use of HTTP/2 Add encryption Perform traffic optimization Enhance security (NGINX may block dangerous request patterns the embedded Go-based HTTP server does not know about) If you consider exposing your PhotoPrism instance to the evil internet, you should at least secure it with a proper HTTPS encryption. This guide aims for a little more advanced setup, with good security in mind. Trough the entire guide we use photoprism.example.com as domain. You have to change all these occurrences with your own domain / DynDNS. Also, this was all tested on ubuntu/20.04 - But the commands should work on a lot of other versions as well. If you use CentOS, SuSE, or any other distro, look up the commands for your package manager. Setup \u00b6 Domain setup \u00b6 First, we need to decide what we want to use as domain / address. We will use a proper domain in this guide, but it will technically also work with just a static IP address. If you're lucky enough to have your own domain, just create a subdomain and use this for PhotoPrism. If you want to expose your instance hosted at home, just use a DynDNS provider (just duckduckgo it, there a multiple ones that are free). Tip if you're new to DynDNS it might be good to know that most routers do support DynDNS. Therefore only minimal setup is required. Just search for your router name + DynDNS ;) Install NGINX on your machine \u00b6 If not already done, install the webserver on your machine which you wish to use as proxy. This also can be the same host that is running the docker container. apt-get update && apt-get install -y nginx apache2-utils Info We use apache2-utils later for the password generation of the optional extra security with http basic auth. Acquire a certificate \u00b6 Install cerbot \u00b6 Luckily nowadays there is a free certificate authority called Let's Encrypt . You can just use their certbot tool and acquire a new certificate in seconds. For Ubuntu / Debian the package is directly in the repository. Therefore, you can easily install it using this command: apt-get update && apt-get install -y certbot python3-certbot-nginx Generate the certificate \u00b6 Now, just request a new certificate by using this command: certbot -d photoprism.example.com After that you should have a new certificate in: /etc/letsencrypt/live/photoprism.example.com/ Note In order for Let's Encrypt to work, the server has to be accessible from the internet on port 443 Tip Please refer to Let's Encrypts documentation for automated certificate renewal. The certificates are valid for around 90 days. Setup NGINX \u00b6 Now that we have our certificate its time to setup the NGINX itself. Since it is best practice to create a configuration file per application / domain, this is exactly what we gonna do. Create a new file /etc/nginx/sites-enabled/photoprism.example.com and put the following content in it. Keep in mind to change the domain (there a multiple entries!) # PhotoPrism Nginx config with SSL HTTP/2 and reverse proxy # This file gives you an example on how to secure you PP instance with SSL server { # listen 80; # If you really need HTTP (unsecure) remove the \"#\" on the beginning. Not recommended! # listen [::]:80; # HTTP IPv6 listen 443 ssl http2 ; # Listen on port 443 and enable ssl and HTTP/2 listen [::]:443 ssl http2 ; # Same for IPv6 # Put your domain name in here. server_name photoprism.example.com ; # - - - - - - - - - - # SSL security # - - - - - - - - - - ssl_certificate /etc/letsencrypt/live/photoprism.example.com/fullchain.pem ; ssl_certificate_key /etc/letsencrypt/live/photoprism.example.com/privkey.pem ; # Since the PP API is also used on Android, we have to keep TLS1.2 in here for a while. # A lot of the older Android devices do not support TLS1.3 yet :/ ssl_protocols TLSv1.2 TLSv1.3 ; # Use good and strong ciphers, disable weak and old ciphers ssl_ciphers HIGH:!RC4:!aNULL:!eNULL:!LOW:!3DES:!MD5:!EXP:!PSK:!SRP:!DSS ; # Enable HSTS (https://developer.mozilla.org/en-US/docs/Security/HTTP_Strict_Transport_Security) add_header Strict-Transport-Security \"max-age=172800 ; includeSubdomains\" ; # This checks if the certificate has been invalidated by the certificate authority # You can remove this section if you use self-singed certificates... # Enable OCSP stapling (http://blog.mozilla.org/security/2013/07/29/ocsp-stapling-in-firefox) ssl_stapling on ; ssl_stapling_verify on ; ssl_trusted_certificate /etc/letsencrypt/live/photoprism.example.com/fullchain.pem ; # DNS Servers to use for OCSP lookups resolver 8 .8.8.8 1 .1.1.1 9 .9.9.9 valid=300s ; resolver_timeout 5s ; # - - - - - - - - - # Reverse Proxy # - - - - - - - - - proxy_redirect off ; proxy_set_header X-Real-IP $remote_addr ; # Let PP know the clients real IP proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for ; # Let PP know that a proxy did forward this request proxy_set_header Host $http_host ; # Set Proxy host info proxy_http_version 1 .1 ; # Required for WebSocket connection proxy_set_header Upgrade $http_upgrade ; # Allow protocol switch to websocket proxy_set_header Connection \"upgrade\" ; # Do protocol switch proxy_set_header X-Forwarded-Proto $scheme ; # Let PP know that this connection used HTTP or HTTPS client_max_body_size 500M ; # Bump the max body size, you may want to upload huge stuff via the upload GUI proxy_buffering off ; # Do not hold back the request while the client sends data, give the stream directly to PP location / { # Optional; additional protection with Basic Auth. # Note: This breaks WebDAV without additional configuration # You also have to create a .htpasswd file using the command: # \"htpasswd -c /etc/nginx/.pp_htpasswd my_secret_user\" # - - - # auth_basic \"PhotoPrism Pre Auth\"; # auth_basic_user_file /etc/nginx/.pp_htpasswd; # pipes the traffic to PhotoPrism # Change this to your PhotoPrisms IP / DNS proxy_pass http://docker.homenet:2342 ; } } Have a look at the individual comments in the configuration for a further description. Tip Don't forget to change the PhotoPrism IP / DNS on the bottom of the config... ;) Once you've changed everything you need, let's restart nginx : service nginx restart Now, you should have access to PhotoPrism. Warning Make sure to setup proper firewalling on the machine that is running PhotoPrism. Have a look at ufw for simple firewall rules.","title":"NGINX"},{"location":"getting-started/advanced/nginx-proxy-setup/#advanced-nginx-proxy-setup","text":"Note: This is contributed content and may be outdated. Click the edit link to perform changes and send a pull request. Getting Support In case you experience issues when using NGINX , such as failed uploads, connection errors , broken thumbnails , and video playback problems : Consider asking the NGINX community for advice as we do not specialize in supporting their product, which is known to be difficult to configure properly We recommend using Traefik as reverse proxy instead because it is easier and provides more convenience Using a reverse proxy in front of PhotoPrism has various benefits: Make use of HTTP/2 Add encryption Perform traffic optimization Enhance security (NGINX may block dangerous request patterns the embedded Go-based HTTP server does not know about) If you consider exposing your PhotoPrism instance to the evil internet, you should at least secure it with a proper HTTPS encryption. This guide aims for a little more advanced setup, with good security in mind. Trough the entire guide we use photoprism.example.com as domain. You have to change all these occurrences with your own domain / DynDNS. Also, this was all tested on ubuntu/20.04 - But the commands should work on a lot of other versions as well. If you use CentOS, SuSE, or any other distro, look up the commands for your package manager.","title":"Advanced NGINX Proxy Setup"},{"location":"getting-started/advanced/nginx-proxy-setup/#setup","text":"","title":"Setup"},{"location":"getting-started/advanced/nginx-proxy-setup/#domain-setup","text":"First, we need to decide what we want to use as domain / address. We will use a proper domain in this guide, but it will technically also work with just a static IP address. If you're lucky enough to have your own domain, just create a subdomain and use this for PhotoPrism. If you want to expose your instance hosted at home, just use a DynDNS provider (just duckduckgo it, there a multiple ones that are free). Tip if you're new to DynDNS it might be good to know that most routers do support DynDNS. Therefore only minimal setup is required. Just search for your router name + DynDNS ;)","title":"Domain setup"},{"location":"getting-started/advanced/nginx-proxy-setup/#install-nginx-on-your-machine","text":"If not already done, install the webserver on your machine which you wish to use as proxy. This also can be the same host that is running the docker container. apt-get update && apt-get install -y nginx apache2-utils Info We use apache2-utils later for the password generation of the optional extra security with http basic auth.","title":"Install NGINX on your machine"},{"location":"getting-started/advanced/nginx-proxy-setup/#acquire-a-certificate","text":"","title":"Acquire a certificate"},{"location":"getting-started/advanced/nginx-proxy-setup/#install-cerbot","text":"Luckily nowadays there is a free certificate authority called Let's Encrypt . You can just use their certbot tool and acquire a new certificate in seconds. For Ubuntu / Debian the package is directly in the repository. Therefore, you can easily install it using this command: apt-get update && apt-get install -y certbot python3-certbot-nginx","title":"Install cerbot"},{"location":"getting-started/advanced/nginx-proxy-setup/#generate-the-certificate","text":"Now, just request a new certificate by using this command: certbot -d photoprism.example.com After that you should have a new certificate in: /etc/letsencrypt/live/photoprism.example.com/ Note In order for Let's Encrypt to work, the server has to be accessible from the internet on port 443 Tip Please refer to Let's Encrypts documentation for automated certificate renewal. The certificates are valid for around 90 days.","title":"Generate the certificate"},{"location":"getting-started/advanced/nginx-proxy-setup/#setup-nginx","text":"Now that we have our certificate its time to setup the NGINX itself. Since it is best practice to create a configuration file per application / domain, this is exactly what we gonna do. Create a new file /etc/nginx/sites-enabled/photoprism.example.com and put the following content in it. Keep in mind to change the domain (there a multiple entries!) # PhotoPrism Nginx config with SSL HTTP/2 and reverse proxy # This file gives you an example on how to secure you PP instance with SSL server { # listen 80; # If you really need HTTP (unsecure) remove the \"#\" on the beginning. Not recommended! # listen [::]:80; # HTTP IPv6 listen 443 ssl http2 ; # Listen on port 443 and enable ssl and HTTP/2 listen [::]:443 ssl http2 ; # Same for IPv6 # Put your domain name in here. server_name photoprism.example.com ; # - - - - - - - - - - # SSL security # - - - - - - - - - - ssl_certificate /etc/letsencrypt/live/photoprism.example.com/fullchain.pem ; ssl_certificate_key /etc/letsencrypt/live/photoprism.example.com/privkey.pem ; # Since the PP API is also used on Android, we have to keep TLS1.2 in here for a while. # A lot of the older Android devices do not support TLS1.3 yet :/ ssl_protocols TLSv1.2 TLSv1.3 ; # Use good and strong ciphers, disable weak and old ciphers ssl_ciphers HIGH:!RC4:!aNULL:!eNULL:!LOW:!3DES:!MD5:!EXP:!PSK:!SRP:!DSS ; # Enable HSTS (https://developer.mozilla.org/en-US/docs/Security/HTTP_Strict_Transport_Security) add_header Strict-Transport-Security \"max-age=172800 ; includeSubdomains\" ; # This checks if the certificate has been invalidated by the certificate authority # You can remove this section if you use self-singed certificates... # Enable OCSP stapling (http://blog.mozilla.org/security/2013/07/29/ocsp-stapling-in-firefox) ssl_stapling on ; ssl_stapling_verify on ; ssl_trusted_certificate /etc/letsencrypt/live/photoprism.example.com/fullchain.pem ; # DNS Servers to use for OCSP lookups resolver 8 .8.8.8 1 .1.1.1 9 .9.9.9 valid=300s ; resolver_timeout 5s ; # - - - - - - - - - # Reverse Proxy # - - - - - - - - - proxy_redirect off ; proxy_set_header X-Real-IP $remote_addr ; # Let PP know the clients real IP proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for ; # Let PP know that a proxy did forward this request proxy_set_header Host $http_host ; # Set Proxy host info proxy_http_version 1 .1 ; # Required for WebSocket connection proxy_set_header Upgrade $http_upgrade ; # Allow protocol switch to websocket proxy_set_header Connection \"upgrade\" ; # Do protocol switch proxy_set_header X-Forwarded-Proto $scheme ; # Let PP know that this connection used HTTP or HTTPS client_max_body_size 500M ; # Bump the max body size, you may want to upload huge stuff via the upload GUI proxy_buffering off ; # Do not hold back the request while the client sends data, give the stream directly to PP location / { # Optional; additional protection with Basic Auth. # Note: This breaks WebDAV without additional configuration # You also have to create a .htpasswd file using the command: # \"htpasswd -c /etc/nginx/.pp_htpasswd my_secret_user\" # - - - # auth_basic \"PhotoPrism Pre Auth\"; # auth_basic_user_file /etc/nginx/.pp_htpasswd; # pipes the traffic to PhotoPrism # Change this to your PhotoPrisms IP / DNS proxy_pass http://docker.homenet:2342 ; } } Have a look at the individual comments in the configuration for a further description. Tip Don't forget to change the PhotoPrism IP / DNS on the bottom of the config... ;) Once you've changed everything you need, let's restart nginx : service nginx restart Now, you should have access to PhotoPrism. Warning Make sure to setup proper firewalling on the machine that is running PhotoPrism. Have a look at ufw for simple firewall rules.","title":"Setup NGINX"},{"location":"getting-started/advanced/scalability/","text":"Scalability, Distributed Computing and Cloud Storage \u00b6 Our team aims to get the most of what is there. Development and testing have been focused on smaller servers and typical home users with less than 500,000 files. While PhotoPrism has been reported to run well on 24 cores or more, we can not invest a lot of time in optimizing it for enterprise-class servers. There are more important feature requests waiting - and most users don't actually own such hardware. If the primary focus was on larger servers or clusters, the current architecture might be different in some aspects, and had other tradeoffs. For example, relying on database locking and conflict resolution tends to be inefficient with an increasing number of cores and workers. On the other hand, this simplifies application logic, especially when running multiple instances on the same index. Traditional database servers like MariaDB might be slower and less powerful than specialized NoSQL or in-memory engines. They are often better documented and easier to maintain for the majority of users though. Also, there is no native support for sharding or cloud storage APIs like S3. Instead, PhotoPrism prefers a fast, local solid-state drive. Support for S3 may be added for backing up originals later. We are happy to assist if you need a custom solution that runs well in a corporate cloud environment.","title":"Scalability"},{"location":"getting-started/advanced/scalability/#scalability-distributed-computing-and-cloud-storage","text":"Our team aims to get the most of what is there. Development and testing have been focused on smaller servers and typical home users with less than 500,000 files. While PhotoPrism has been reported to run well on 24 cores or more, we can not invest a lot of time in optimizing it for enterprise-class servers. There are more important feature requests waiting - and most users don't actually own such hardware. If the primary focus was on larger servers or clusters, the current architecture might be different in some aspects, and had other tradeoffs. For example, relying on database locking and conflict resolution tends to be inefficient with an increasing number of cores and workers. On the other hand, this simplifies application logic, especially when running multiple instances on the same index. Traditional database servers like MariaDB might be slower and less powerful than specialized NoSQL or in-memory engines. They are often better documented and easier to maintain for the majority of users though. Also, there is no native support for sharding or cloud storage APIs like S3. Instead, PhotoPrism prefers a fast, local solid-state drive. Support for S3 may be added for backing up originals later. We are happy to assist if you need a custom solution that runs well in a corporate cloud environment.","title":"Scalability, Distributed Computing and Cloud Storage"},{"location":"getting-started/advanced/transcoding/","text":"Video Transcoding \u00b6 Note: This is contributed content. Click the edit link to perform changes and send a pull request. The encoder used by FFmpeg can be configured within your docker-compose.yml config file. Experimental hardware accelerated transcoding on a Raspberry Pi (and compatible devices) may be enabled using the h264_v4l2m2m encoder: PHOTOPRISM_FFMPEG_ENCODER : \"h264_v4l2m2m\" It defaults to libx264 if no value is set or transcoding with h264_v4l2m2m fails. Please refer to the official documentation for a full list of encoders and their implementation status. Info Some server configurations, specifically Raspberry Pi's, may run into memory allocation issues when using hardware acceleration. Monitor your server logs carefully and increase available GPU and/or CMA memory allocations if necessary. The Docker container will also need access to one or more video devices. For the h264_v4l2m2m encoder on a Raspberry Pi, also add: devices : - \"/dev/video11:/dev/video11\" Additional advanced configuration options: PHOTOPRISM_FFMPEG_BUFFERS : \"64\" # FFmpeg capture buffers (default: 32) Warning Hardware accelerated transcoding within Photoprism is currently experimental. It may not work on all server configurations. Some users report unexpected hangs in the FFmpeg process when attempting to transcode large video files.","title":"Transcoding"},{"location":"getting-started/advanced/transcoding/#video-transcoding","text":"Note: This is contributed content. Click the edit link to perform changes and send a pull request. The encoder used by FFmpeg can be configured within your docker-compose.yml config file. Experimental hardware accelerated transcoding on a Raspberry Pi (and compatible devices) may be enabled using the h264_v4l2m2m encoder: PHOTOPRISM_FFMPEG_ENCODER : \"h264_v4l2m2m\" It defaults to libx264 if no value is set or transcoding with h264_v4l2m2m fails. Please refer to the official documentation for a full list of encoders and their implementation status. Info Some server configurations, specifically Raspberry Pi's, may run into memory allocation issues when using hardware acceleration. Monitor your server logs carefully and increase available GPU and/or CMA memory allocations if necessary. The Docker container will also need access to one or more video devices. For the h264_v4l2m2m encoder on a Raspberry Pi, also add: devices : - \"/dev/video11:/dev/video11\" Additional advanced configuration options: PHOTOPRISM_FFMPEG_BUFFERS : \"64\" # FFmpeg capture buffers (default: 32) Warning Hardware accelerated transcoding within Photoprism is currently experimental. It may not work on all server configurations. Some users report unexpected hangs in the FFmpeg process when attempting to transcode large video files.","title":"Video Transcoding"},{"location":"getting-started/cloud/digitalocean/","text":"Using our DigitalOcean 1-Click App \u00b6 PhotoPrism can be deployed at DigitalOcean with just a few clicks. If you have no DigitalOcean account yet, you may use this sign-up link to receive a $100, 60-day account credit: Sign up at DigitalOcean Install PhotoPrism \u00b6 Sign Up or Log In at DigitalOcean Open the PhotoPrism listing in the marketplace Click Create PhotoPrism Droplet Configure Your Droplet \u00b6 Choose an Image \u00b6 The PhotoPrism image will be pre-selected Choose a Plan \u00b6 We recommend hosting PhotoPrism on a server with at least 2 cores and 3 GB of physical memory. Indexing and searching can be slow on smaller Droplets, depending on how many and what types of files you upload. While PhotoPrism has been reported to work on Droplets with less memory, we take no responsibility for instability or performance problems. RAW image conversion and TensorFlow are disabled on Droplets with 1 GB or less memory. Choose a Datacenter Region \u00b6 Choose an Authentication Mode \u00b6 Finalize Your Droplet \u00b6 Finalize your droplet and click Create Droplet Your droplet is now being created. Admin Password \u00b6 Click More Click Access console Launch the console as root Within the console type cat /root/.initial-password.txt and click enter Copy your initial password Open PhotoPrism \u00b6 Click Get started Click Quick access Info In case you have no domain and let's encrypt set up you will see the notice \"Your connection is not private\". Click Advanced and click Open page . Use username \"admin\" and your initial password to sign in You may change your password using the Web UI Next Steps \u00b6 Choose whether you want to index your originals so that the existing file and folder names are preserved, or import them so that they are automatically organized by year and month. To add pictures, you can either copy them to the import or originals folder using WebDAV , or upload them with a browser , which will import them automatically after upload. Finally, set up automatic syncing from your mobile phone and install the Progressive Web App (PWA) on your desktop, tablet, and phone home screens as needed.","title":"DigitalOcean"},{"location":"getting-started/cloud/digitalocean/#using-our-digitalocean-1-click-app","text":"PhotoPrism can be deployed at DigitalOcean with just a few clicks. If you have no DigitalOcean account yet, you may use this sign-up link to receive a $100, 60-day account credit: Sign up at DigitalOcean","title":"Using our DigitalOcean 1-Click App"},{"location":"getting-started/cloud/digitalocean/#install-photoprism","text":"Sign Up or Log In at DigitalOcean Open the PhotoPrism listing in the marketplace Click Create PhotoPrism Droplet","title":"Install PhotoPrism"},{"location":"getting-started/cloud/digitalocean/#configure-your-droplet","text":"","title":"Configure Your Droplet"},{"location":"getting-started/cloud/digitalocean/#choose-an-image","text":"The PhotoPrism image will be pre-selected","title":"Choose an Image"},{"location":"getting-started/cloud/digitalocean/#choose-a-plan","text":"We recommend hosting PhotoPrism on a server with at least 2 cores and 3 GB of physical memory. Indexing and searching can be slow on smaller Droplets, depending on how many and what types of files you upload. While PhotoPrism has been reported to work on Droplets with less memory, we take no responsibility for instability or performance problems. RAW image conversion and TensorFlow are disabled on Droplets with 1 GB or less memory.","title":"Choose a Plan"},{"location":"getting-started/cloud/digitalocean/#choose-a-datacenter-region","text":"","title":"Choose a Datacenter Region"},{"location":"getting-started/cloud/digitalocean/#choose-an-authentication-mode","text":"","title":"Choose an Authentication Mode"},{"location":"getting-started/cloud/digitalocean/#finalize-your-droplet","text":"Finalize your droplet and click Create Droplet Your droplet is now being created.","title":"Finalize Your Droplet"},{"location":"getting-started/cloud/digitalocean/#admin-password","text":"Click More Click Access console Launch the console as root Within the console type cat /root/.initial-password.txt and click enter Copy your initial password","title":"Admin Password"},{"location":"getting-started/cloud/digitalocean/#open-photoprism","text":"Click Get started Click Quick access Info In case you have no domain and let's encrypt set up you will see the notice \"Your connection is not private\". Click Advanced and click Open page . Use username \"admin\" and your initial password to sign in You may change your password using the Web UI","title":"Open PhotoPrism"},{"location":"getting-started/cloud/digitalocean/#next-steps","text":"Choose whether you want to index your originals so that the existing file and folder names are preserved, or import them so that they are automatically organized by year and month. To add pictures, you can either copy them to the import or originals folder using WebDAV , or upload them with a browser , which will import them automatically after upload. Finally, set up automatic syncing from your mobile phone and install the Progressive Web App (PWA) on your desktop, tablet, and phone home screens as needed.","title":"Next Steps"},{"location":"getting-started/cloud/pikapods/","text":"PikaPods Open Source App Hosting \u00b6 Trusted Partner PhotoPrism has partnered with PikaPods to offer you this officially supported, cloud-hosted solution . Your personal app instance is ready to use in just a few steps and includes sponsor features like interactive world maps and dark themes - at no additional cost! New customers also currently receive a $5 welcome credit . Setup \u00b6 This step-by-step guide explains how to set up a new PhotoPrism instance at PikaPods. 1. Create Account \u00b6 Sign up at www.pikapods.com/register with your contact details. You will then receive a confirmation email with an activation link that you must click to continue. Before proceeding, please also provide your credit card details to avoid usage restrictions. 2. Add Your Pod \u00b6 Go to Available Apps and select PhotoPrism Click Run Your Own Enter a Pod Name and select a Region Click ENV VARS to specify the initial password for the \"admin\" user account In RESOURCES , you can configure the storage space available for photos and videos, as well as the compute resources PhotoPrism can use, such as for indexing and face recognition PhotoPrism currently requires at least 2 CPUs and 8 GB of memory . We are working to lower these minimum requirements. The approximate price per month is shown at the bottom Click Add Pod to complete the setup 3. Sign In \u00b6 PhotoPrism is now fully set up and ready to use. To log in, click Open Pod , enter the username \"admin\" and the password you have specified: Next Steps \u00b6 Choose whether you want to index your originals so that the existing file and folder names are preserved, or import them so that they are automatically organized by year and month. To add pictures, you can either copy them to the import or originals folder using WebDAV , or upload them with a browser , which will import them automatically after upload. Finally, set up automatic syncing from your mobile phone and install the Progressive Web App (PWA) on your desktop, tablet, and phone home screens as needed.","title":"PikaPods App"},{"location":"getting-started/cloud/pikapods/#pikapods-open-source-app-hosting","text":"Trusted Partner PhotoPrism has partnered with PikaPods to offer you this officially supported, cloud-hosted solution . Your personal app instance is ready to use in just a few steps and includes sponsor features like interactive world maps and dark themes - at no additional cost! New customers also currently receive a $5 welcome credit .","title":"PikaPods Open Source App Hosting"},{"location":"getting-started/cloud/pikapods/#setup","text":"This step-by-step guide explains how to set up a new PhotoPrism instance at PikaPods.","title":"Setup"},{"location":"getting-started/cloud/pikapods/#1-create-account","text":"Sign up at www.pikapods.com/register with your contact details. You will then receive a confirmation email with an activation link that you must click to continue. Before proceeding, please also provide your credit card details to avoid usage restrictions.","title":"1. Create Account"},{"location":"getting-started/cloud/pikapods/#2-add-your-pod","text":"Go to Available Apps and select PhotoPrism Click Run Your Own Enter a Pod Name and select a Region Click ENV VARS to specify the initial password for the \"admin\" user account In RESOURCES , you can configure the storage space available for photos and videos, as well as the compute resources PhotoPrism can use, such as for indexing and face recognition PhotoPrism currently requires at least 2 CPUs and 8 GB of memory . We are working to lower these minimum requirements. The approximate price per month is shown at the bottom Click Add Pod to complete the setup","title":"2. Add Your Pod"},{"location":"getting-started/cloud/pikapods/#3-sign-in","text":"PhotoPrism is now fully set up and ready to use. To log in, click Open Pod , enter the username \"admin\" and the password you have specified:","title":"3. Sign In"},{"location":"getting-started/cloud/pikapods/#next-steps","text":"Choose whether you want to index your originals so that the existing file and folder names are preserved, or import them so that they are automatically organized by year and month. To add pictures, you can either copy them to the import or originals folder using WebDAV , or upload them with a browser , which will import them automatically after upload. Finally, set up automatic syncing from your mobile phone and install the Progressive Web App (PWA) on your desktop, tablet, and phone home screens as needed.","title":"Next Steps"},{"location":"getting-started/nas/openmediavault/","text":"Running PhotoPrism on openmediavault \u00b6 PhotoPrism can be conveniently installed using the openmediavault plugin .","title":"openmediavault"},{"location":"getting-started/nas/openmediavault/#running-photoprism-on-openmediavault","text":"PhotoPrism can be conveniently installed using the openmediavault plugin .","title":"Running PhotoPrism on openmediavault"},{"location":"getting-started/nas/synology/","text":"Running PhotoPrism on a Synology NAS \u00b6 Visit the Synology Knowledge Base to learn what kind of CPU and how much memory your device has. We recommend hosting PhotoPrism on a 64-bit system with at least 2 cores and 3 GB of physical memory . High-resolution panoramic images may require additional swap space and/or physical memory above the recommended minimum. RAW image conversion and TensorFlow are disabled on devices with 1 GB or less memory. You will have to resort to 32-bit Docker images to run PhotoPrism and MariaDB on ARMv7-based entry-level devices like the Synology DS218j. Indexing large photo and video collections significantly benefits from local SSD storage and plenty of memory for caching. Especially the conversion of RAW images and the transcoding of videos are very demanding. We take no responsibility for instability or performance problems if your device does not meet the requirements. Setup using Docker \u00b6 We recommend following these instructions to install PhotoPrism on your Synology NAS: https://www.wundertech.net/how-to-setup-photoprism-on-a-synology-nas Will my device be fast enough? \u00b6 This largely depends on your expectations and the number of files you have. Most users report that PhotoPrism runs well on their Synology NAS. However, you should keep in mind: initial indexing may take longer than on standard desktop computers the hardware has no video transcoding support and software transcoding is generally slow Troubleshooting \u00b6 If your device runs out of memory, the index is frequently locked, or other system resources are running low: Try reducing the number of workers by setting PHOTOPRISM_WORKERS to a reasonably small value in docker-compose.yml , depending on the performance of your device Make sure your device has at least 4 GB of swap space so that indexing doesn't cause restarts when memory usage spikes; RAW image conversion and video transcoding are especially demanding If you are using SQLite, switch to MariaDB, which is better optimized for high concurrency As a last measure, you can disable the use of TensorFlow for image classification and facial recognition Other issues? Our troubleshooting checklists help you quickly diagnose and solve them. You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request, try to determine the cause of your problem .","title":"Synology"},{"location":"getting-started/nas/synology/#running-photoprism-on-a-synology-nas","text":"Visit the Synology Knowledge Base to learn what kind of CPU and how much memory your device has. We recommend hosting PhotoPrism on a 64-bit system with at least 2 cores and 3 GB of physical memory . High-resolution panoramic images may require additional swap space and/or physical memory above the recommended minimum. RAW image conversion and TensorFlow are disabled on devices with 1 GB or less memory. You will have to resort to 32-bit Docker images to run PhotoPrism and MariaDB on ARMv7-based entry-level devices like the Synology DS218j. Indexing large photo and video collections significantly benefits from local SSD storage and plenty of memory for caching. Especially the conversion of RAW images and the transcoding of videos are very demanding. We take no responsibility for instability or performance problems if your device does not meet the requirements.","title":"Running PhotoPrism on a Synology NAS"},{"location":"getting-started/nas/synology/#setup-using-docker","text":"We recommend following these instructions to install PhotoPrism on your Synology NAS: https://www.wundertech.net/how-to-setup-photoprism-on-a-synology-nas","title":"Setup using Docker"},{"location":"getting-started/nas/synology/#will-my-device-be-fast-enough","text":"This largely depends on your expectations and the number of files you have. Most users report that PhotoPrism runs well on their Synology NAS. However, you should keep in mind: initial indexing may take longer than on standard desktop computers the hardware has no video transcoding support and software transcoding is generally slow","title":"Will my device be fast enough?"},{"location":"getting-started/nas/synology/#troubleshooting","text":"If your device runs out of memory, the index is frequently locked, or other system resources are running low: Try reducing the number of workers by setting PHOTOPRISM_WORKERS to a reasonably small value in docker-compose.yml , depending on the performance of your device Make sure your device has at least 4 GB of swap space so that indexing doesn't cause restarts when memory usage spikes; RAW image conversion and video transcoding are especially demanding If you are using SQLite, switch to MariaDB, which is better optimized for high concurrency As a last measure, you can disable the use of TensorFlow for image classification and facial recognition Other issues? Our troubleshooting checklists help you quickly diagnose and solve them. You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request, try to determine the cause of your problem .","title":"Troubleshooting"},{"location":"getting-started/nas/unraid/","text":"Setting Up PhotoPrism on Unraid \u00b6 We recommend following these instructions to install PhotoPrism on Unraid: https://www.youtube.com/watch?v=WMNsO-0BuG8&t=8s You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request, try to determine the cause of your problem .","title":"Unraid"},{"location":"getting-started/nas/unraid/#setting-up-photoprism-on-unraid","text":"We recommend following these instructions to install PhotoPrism on Unraid: https://www.youtube.com/watch?v=WMNsO-0BuG8&t=8s You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request, try to determine the cause of your problem .","title":"Setting Up PhotoPrism on Unraid"},{"location":"getting-started/proxies/apache-2/","text":"Using Apache 2.4 as Reverse Proxy \u00b6 Example ProxyPass /api/v1/ws ws://photoprism.lxd:2342/api/v1/ws ProxyPassReverse /api/v1/ws ws://photoprism.lxd:2342/api/v1/ws ProxyPass / http://photoprism:2342/ ProxyPassReverse / http://photoprism:2342/ ProxyRequests off The official documentation explains in detail, how to configure Apache Web Server 2.4 to reverse proxy WebSockets. Why Use a Proxy? \u00b6 If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps may refuse to connect as well.","title":"Apache 2.4"},{"location":"getting-started/proxies/apache-2/#using-apache-24-as-reverse-proxy","text":"Example ProxyPass /api/v1/ws ws://photoprism.lxd:2342/api/v1/ws ProxyPassReverse /api/v1/ws ws://photoprism.lxd:2342/api/v1/ws ProxyPass / http://photoprism:2342/ ProxyPassReverse / http://photoprism:2342/ ProxyRequests off The official documentation explains in detail, how to configure Apache Web Server 2.4 to reverse proxy WebSockets.","title":"Using Apache 2.4 as Reverse Proxy"},{"location":"getting-started/proxies/apache-2/#why-use-a-proxy","text":"If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps may refuse to connect as well.","title":"Why Use a Proxy?"},{"location":"getting-started/proxies/caddy-1/","text":"Using Caddy 1 as Reverse Proxy \u00b6 For PhotoPrism to work properly, you need to enable websockets and transparent proxying: Example example.com { proxy / photoprism:2342 { websocket transparent } } Please refer to the official documentation for further details. Why Use a Proxy? \u00b6 If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps may refuse to connect as well.","title":"Caddy 1"},{"location":"getting-started/proxies/caddy-1/#using-caddy-1-as-reverse-proxy","text":"For PhotoPrism to work properly, you need to enable websockets and transparent proxying: Example example.com { proxy / photoprism:2342 { websocket transparent } } Please refer to the official documentation for further details.","title":"Using Caddy 1 as Reverse Proxy"},{"location":"getting-started/proxies/caddy-1/#why-use-a-proxy","text":"If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps may refuse to connect as well.","title":"Why Use a Proxy?"},{"location":"getting-started/proxies/caddy-2/","text":"Using Caddy 2 as Reverse Proxy \u00b6 WebSocket proxying automatically works in Caddy 2. There is no need to enable this as necessary for Caddy 1, Apache, and NGINX. In addition, Caddy 2 may automatically create and update Let's Encrypt HTTPS certificates. Example example.com { reverse_proxy photoprism:2342 } Please refer to the official documentation for further details. Why Use a Proxy? \u00b6 If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps may refuse to connect as well.","title":"Caddy 2"},{"location":"getting-started/proxies/caddy-2/#using-caddy-2-as-reverse-proxy","text":"WebSocket proxying automatically works in Caddy 2. There is no need to enable this as necessary for Caddy 1, Apache, and NGINX. In addition, Caddy 2 may automatically create and update Let's Encrypt HTTPS certificates. Example example.com { reverse_proxy photoprism:2342 } Please refer to the official documentation for further details.","title":"Using Caddy 2 as Reverse Proxy"},{"location":"getting-started/proxies/caddy-2/#why-use-a-proxy","text":"If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps may refuse to connect as well.","title":"Why Use a Proxy?"},{"location":"getting-started/proxies/nginx/","text":"Using NGINX as Reverse Proxy \u00b6 Getting Support In case you experience issues when using NGINX , such as failed uploads, connection errors , broken thumbnails , and video playback problems : Consider asking the NGINX community for advice as we do not specialize in supporting their product, which is known to be difficult to configure properly We recommend using Traefik as reverse proxy instead because it is easier and provides more convenience This tutorial explains, how to configure NGINX WebSocket connections between your client and backend services. Example http { server { listen 80 ssl; listen [::]:80 ssl; server_name example.com client_max_body_size 500M; # With SSL via Let's Encrypt ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem; # managed by Certbot ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem; # managed by Certbot include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot location / { proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $host; proxy_pass http://photoprism:2342; proxy_buffering off; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \"upgrade\"; } } } At the very least you will need to adapt server_name and the ssl_certificate / ssl_certificate_key paths to match your setup. Please refer to their official documentation for further details. Why Use a Proxy? \u00b6 If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps may refuse to connect as well.","title":"NGINX"},{"location":"getting-started/proxies/nginx/#using-nginx-as-reverse-proxy","text":"Getting Support In case you experience issues when using NGINX , such as failed uploads, connection errors , broken thumbnails , and video playback problems : Consider asking the NGINX community for advice as we do not specialize in supporting their product, which is known to be difficult to configure properly We recommend using Traefik as reverse proxy instead because it is easier and provides more convenience This tutorial explains, how to configure NGINX WebSocket connections between your client and backend services. Example http { server { listen 80 ssl; listen [::]:80 ssl; server_name example.com client_max_body_size 500M; # With SSL via Let's Encrypt ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem; # managed by Certbot ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem; # managed by Certbot include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot location / { proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $host; proxy_pass http://photoprism:2342; proxy_buffering off; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \"upgrade\"; } } } At the very least you will need to adapt server_name and the ssl_certificate / ssl_certificate_key paths to match your setup. Please refer to their official documentation for further details.","title":"Using NGINX as Reverse Proxy"},{"location":"getting-started/proxies/nginx/#why-use-a-proxy","text":"If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps may refuse to connect as well.","title":"Why Use a Proxy?"},{"location":"getting-started/proxies/swag/","text":"Using SWAG as Reverse Proxy \u00b6 Note: This is contributed content and may be outdated. Click the edit link to perform changes and send a pull request. To simplify the setup of a reverse HTTPS proxy, Linuxserver.io developed SWAG . SWAG - Secure Web Application Gateway (formerly known as letsencrypt , no relation to Let's Encrypt\u2122) sets up a Nginx web server and reverse proxy with PHP support and a built-in certbot client that automates free SSL server certificate generation and renewal processes (Let's Encrypt and ZeroSSL). It also contains fail2ban for intrusion prevention. Setup \u00b6 Step 1: Get a domain \u00b6 The first step is to grab a dynamic DNS if you don't have your own subdomain already. You can get this from for example DuckDNS . Step 2: Set-up SWAG \u00b6 Then you will need to set up SWAG, the variables of the docker-compose are explained on the Github page of SWAG . This is an example of how to set it up using duckdns and docker-compose. docker-compose.yml version : \"2.1\" services : swag : image : ghcr.io/linuxserver/swag container_name : swag cap_add : - NET_ADMIN environment : - PUID=1000 - PGID=1000 - TZ=Europe/Brussels - URL=<mydomain.duckdns> - SUBDOMAINS=wildcard - VALIDATION=duckdns - CERTPROVIDER= #optional - DNSPLUGIN= #optional - DUCKDNSTOKEN=<duckdnstoken> - EMAIL=<e-mail> #optional - ONLY_SUBDOMAINS=false #optional - EXTRA_DOMAINS=<extradomains> #optional - STAGING=false #optional volumes : - /etc/config/swag:/config ports : - 443:443 restart : unless-stopped Don't forget to change the mydomain.duckdns into your personal domain and the duckdnstoken into your token and remove the brackets. Step 3: Change the config files \u00b6 Navigate to the config folder of SWAG and head to proxy-confs . If you used the example above, you should navigate to: /etc/config/swag/nginx/proxy-confs/ . There are a lot of preconfigured files to use for different apps such as radarr,sonarr,overseerr,... To use the bundled configuration file, simply rename photoprism.subdomain.conf.sample in the proxy-confs folder to photoprism.subdomain.conf . Alternatively, you can create a new file photoprism.subdomain.conf in proxy-confs with the following configuration: photoprism.subdomain.conf server { listen 443 ssl http2; listen [::]:443 ssl http2; server_name photoprism.*; include /config/nginx/ssl.conf; client_max_body_size 0; location / { include /config/nginx/proxy.conf; resolver 127.0.0.11 valid=30s; set $upstream_app photoprism; set $upstream_port 2342; set $upstream_proto http; proxy_pass $upstream_proto://$upstream_app:$upstream_port; } } Step 4: Port-forward port 443 \u00b6 Since SWAG allows you to set up a secure connection, you will need to open port 443 on your router for encrypted traffic. This is way more secure than port 80 for http. Step 5: Restart SWAG \u00b6 When you change anything in the config of Nginx, you will need to restart the container using docker restart swag . If everything went well, you can now access photoprism on the subdomain you configured: photoprism.mydomain.duckdns.org Attention The docker-container of photoprism won't be named \"photoprism\", it will be \"name_photoprism\". To check this, execute docker ps and check wether it is named \"photoprism\". If it's not, go to your docker-compose file and add the following line to photoprism below 'image' container_name=photoprism . Restart swag afterwards. Keep in mind to not have two photoprism containers with the same name! You could also change the config file of Swag with the right name in the proxy-confs directory. Why Use a Proxy? \u00b6 If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps may refuse to connect as well.","title":"SWAG"},{"location":"getting-started/proxies/swag/#using-swag-as-reverse-proxy","text":"Note: This is contributed content and may be outdated. Click the edit link to perform changes and send a pull request. To simplify the setup of a reverse HTTPS proxy, Linuxserver.io developed SWAG . SWAG - Secure Web Application Gateway (formerly known as letsencrypt , no relation to Let's Encrypt\u2122) sets up a Nginx web server and reverse proxy with PHP support and a built-in certbot client that automates free SSL server certificate generation and renewal processes (Let's Encrypt and ZeroSSL). It also contains fail2ban for intrusion prevention.","title":"Using SWAG as Reverse Proxy"},{"location":"getting-started/proxies/swag/#setup","text":"","title":"Setup"},{"location":"getting-started/proxies/swag/#step-1-get-a-domain","text":"The first step is to grab a dynamic DNS if you don't have your own subdomain already. You can get this from for example DuckDNS .","title":"Step 1: Get a domain"},{"location":"getting-started/proxies/swag/#step-2-set-up-swag","text":"Then you will need to set up SWAG, the variables of the docker-compose are explained on the Github page of SWAG . This is an example of how to set it up using duckdns and docker-compose. docker-compose.yml version : \"2.1\" services : swag : image : ghcr.io/linuxserver/swag container_name : swag cap_add : - NET_ADMIN environment : - PUID=1000 - PGID=1000 - TZ=Europe/Brussels - URL=<mydomain.duckdns> - SUBDOMAINS=wildcard - VALIDATION=duckdns - CERTPROVIDER= #optional - DNSPLUGIN= #optional - DUCKDNSTOKEN=<duckdnstoken> - EMAIL=<e-mail> #optional - ONLY_SUBDOMAINS=false #optional - EXTRA_DOMAINS=<extradomains> #optional - STAGING=false #optional volumes : - /etc/config/swag:/config ports : - 443:443 restart : unless-stopped Don't forget to change the mydomain.duckdns into your personal domain and the duckdnstoken into your token and remove the brackets.","title":"Step 2: Set-up SWAG"},{"location":"getting-started/proxies/swag/#step-3-change-the-config-files","text":"Navigate to the config folder of SWAG and head to proxy-confs . If you used the example above, you should navigate to: /etc/config/swag/nginx/proxy-confs/ . There are a lot of preconfigured files to use for different apps such as radarr,sonarr,overseerr,... To use the bundled configuration file, simply rename photoprism.subdomain.conf.sample in the proxy-confs folder to photoprism.subdomain.conf . Alternatively, you can create a new file photoprism.subdomain.conf in proxy-confs with the following configuration: photoprism.subdomain.conf server { listen 443 ssl http2; listen [::]:443 ssl http2; server_name photoprism.*; include /config/nginx/ssl.conf; client_max_body_size 0; location / { include /config/nginx/proxy.conf; resolver 127.0.0.11 valid=30s; set $upstream_app photoprism; set $upstream_port 2342; set $upstream_proto http; proxy_pass $upstream_proto://$upstream_app:$upstream_port; } }","title":"Step 3: Change the config files"},{"location":"getting-started/proxies/swag/#step-4-port-forward-port-443","text":"Since SWAG allows you to set up a secure connection, you will need to open port 443 on your router for encrypted traffic. This is way more secure than port 80 for http.","title":"Step 4: Port-forward port 443"},{"location":"getting-started/proxies/swag/#step-5-restart-swag","text":"When you change anything in the config of Nginx, you will need to restart the container using docker restart swag . If everything went well, you can now access photoprism on the subdomain you configured: photoprism.mydomain.duckdns.org Attention The docker-container of photoprism won't be named \"photoprism\", it will be \"name_photoprism\". To check this, execute docker ps and check wether it is named \"photoprism\". If it's not, go to your docker-compose file and add the following line to photoprism below 'image' container_name=photoprism . Restart swag afterwards. Keep in mind to not have two photoprism containers with the same name! You could also change the config file of Swag with the right name in the proxy-confs directory.","title":"Step 5: Restart SWAG"},{"location":"getting-started/proxies/swag/#why-use-a-proxy","text":"If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps may refuse to connect as well.","title":"Why Use a Proxy?"},{"location":"getting-started/proxies/traefik/","text":"Using Traefik as Reverse Proxy \u00b6 Best Choice No special settings required in combination with modern web applications WebSocket proxying automatically works Traefik can create and update Let's Encrypt HTTPS certificates for you Our example shows a working configuration, excluding general PhotoPrism config options documented in Setup Using Docker Compose : docker-compose.yml services : traefik : image : traefik:v2.5 restart : unless-stopped ports : - \"80:80\" - \"443:443\" volumes : - \"./traefik.yaml:/etc/traefik/traefik.yaml\" - \"./traefik/data:/data\" - \"/var/run/docker.sock:/var/run/docker.sock\" photoprism : image : photoprism/photoprism:latest restart : unless-stopped labels : - \"traefik.http.routers.photoprism.rule=Host(`example.com`)\" - \"traefik.http.routers.photoprism.tls=true\" - \"traefik.http.routers.photoprism.tls.certresolver=myresolver\" volumes : - \"./originals:/photoprism/originals\" - \"./storage:/photoprism/storage\" environment : PHOTOPRISM_SITE_URL : \"https://example.com/\" traefik.yaml entryPoints : web : address : \":80\" http : redirections : entryPoint : to : websecure websecure : address : \":443\" providers : docker : {} certificatesResolvers : myresolver : acme : email : you@example.com storage : /data/letsencrypt.json httpChallenge : entryPoint : web Please refer to the official documentation for further details. Why Use a Proxy? \u00b6 If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps may refuse to connect as well.","title":"Traefik"},{"location":"getting-started/proxies/traefik/#using-traefik-as-reverse-proxy","text":"Best Choice No special settings required in combination with modern web applications WebSocket proxying automatically works Traefik can create and update Let's Encrypt HTTPS certificates for you Our example shows a working configuration, excluding general PhotoPrism config options documented in Setup Using Docker Compose : docker-compose.yml services : traefik : image : traefik:v2.5 restart : unless-stopped ports : - \"80:80\" - \"443:443\" volumes : - \"./traefik.yaml:/etc/traefik/traefik.yaml\" - \"./traefik/data:/data\" - \"/var/run/docker.sock:/var/run/docker.sock\" photoprism : image : photoprism/photoprism:latest restart : unless-stopped labels : - \"traefik.http.routers.photoprism.rule=Host(`example.com`)\" - \"traefik.http.routers.photoprism.tls=true\" - \"traefik.http.routers.photoprism.tls.certresolver=myresolver\" volumes : - \"./originals:/photoprism/originals\" - \"./storage:/photoprism/storage\" environment : PHOTOPRISM_SITE_URL : \"https://example.com/\" traefik.yaml entryPoints : web : address : \":80\" http : redirections : entryPoint : to : websecure websecure : address : \":443\" providers : docker : {} certificatesResolvers : myresolver : acme : email : you@example.com storage : /data/letsencrypt.json httpChallenge : entryPoint : web Please refer to the official documentation for further details.","title":"Using Traefik as Reverse Proxy"},{"location":"getting-started/proxies/traefik/#why-use-a-proxy","text":"If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps may refuse to connect as well.","title":"Why Use a Proxy?"},{"location":"getting-started/troubleshooting/","text":"Troubleshooting Checklists \u00b6 You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request , try to determine the cause of your problem. Connection Fails \u00b6 If your browser cannot connect to the Web UI even after waiting a few minutes, run this command to display the last 100 log messages (omit --tail=100 to see all): docker-compose logs --tail = 100 Before reporting a bug: Check the logs for messages like disk full , disk quota exceeded , no space left on device , read-only file system , error creating path , wrong permissions , no route to host , connection failed , and killed : If a service has been \"killed\" or otherwise automatically terminated, this points to a memory problem (add swap and/or memory; remove or increase usage limits) In case the logs show \"disk full\", \"quota exceeded\", or \"no space left\" errors, either the disk containing the storage folder is full (add storage) or a disk usage limit is configured (remove or increase it) Errors such as \" read-only file system\", \"error creating path\", or \"wrong permissions\" indicate a filesystem permission problem Log messages that contain \"no route to host \" indicate a problem with the database or Docker network configuration (follow our examples ) Make sure you are using the correct protocol (default is http ), port (default is 2342 ), and hostname or IP address (default is localhost ) Note that HTTP security headers will prevent the app from loading in a frame (override them) Verify your computer meets the system requirements Go through the checklist for fatal server errors Should MariaDB get stuck in a restart loop and PhotoPrism can't connect to it, this indicates a memory , filesystem , or other permission issue : mariadb: mysqld: ready for connections. mariadb: mysqld (initiated by: unknown): Normal shutdown photoprism: dial tcp 172.18.0.2:3306: connect: no route to host mariadb: mysqld: Shutdown complete To enable debug mode , set PHOTOPRISM_DEBUG to true in the environment: section of the photoprism service (or use the --debug flag when running the photoprism command directly): services : photoprism : environment : PHOTOPRISM_DEBUG : \"true\" Then restart all services for the changes to take effect. It can be helpful to keep Docker running in the foreground while debugging so that log messages are displayed directly. To do this, omit the -d parameter when restarting: docker-compose stop docker-compose up If you see no errors or no logs at all, you may have started the server on a different host and/or port. There could also be an issue with your browser , browser plugins, firewall settings, or other tools you may have installed. The default Docker Compose config filename is docker-compose.yml . For simplicity, it doesn't need to be specified when running the docker-compose command in the same directory. Config files for other apps or instances should be placed in separate folders. Docker Doesn't Work \u00b6 \u21aa Getting Docker Up and Running MariaDB Issues \u00b6 \u21aa Troubleshooting MariaDB Problems MySQL Errors \u00b6 \u21aa Official support for MySQL 8 is discontinued Bad Performance \u00b6 \u21aa Performance Tips Fatal Server Errors \u00b6 Fatal errors are often caused by one of the following conditions: Your (virtual) server disk is full (add storage) You have accidentally mounted the wrong folders (update config and restart) There is disk space left, but a usage or the inode limit has been reached (change it) The storage folder is not writable or mounted read-only (change permissions ) Symbolic links were mounted or used within a storage folder (replace with actual paths) The server is low on memory (add memory) You didn't configure at least 4 GB of swap space (add swap ) High-resolution panoramic images require additional memory above the recommended minimum (add more swap or memory) The server CPU is overheating (improve cooling) The server has an outdated operating system that is not fully compatible (update) The server hardware is defective and causes random panics (test on another server) The database server is not running, incompatible , or misconfigured (start, upgrade, or fix it ) You've upgraded the MariaDB server without running mariadb-upgrade Files are stored on an unreliable device such as a USB flash drive or a shared network folder There are network problems caused by a bad configuration, firewall, or unstable connection Kernel security modules such as AppArmor and SELinux are blocking permissions Your Raspberry Pi has not been configured according to our recommendations We recommend checking your Docker Logs for messages like disk full , disk quota exceeded , no space left on device , read-only file system , error creating path , wrong permissions , no route to host , connection failed , and killed : If a service has been \"killed\" or otherwise automatically terminated, this points to a memory problem (add swap and/or memory; remove or increase usage limits) In case the logs show \"disk full\", \"quota exceeded\", or \"no space left\" errors, either the disk containing the storage folder is full (add storage) or a disk usage limit is configured (remove or increase it) Errors such as \" read-only file system\", \"error creating path\", or \"wrong permissions\" indicate a filesystem permission problem Log messages that contain \"no route to host \" indicate a problem with the database or network configuration (follow our examples ) Start a full rescan if necessary, for example, if it looks like thumbnails or pictures are missing . App Not Loading \u00b6 If the app doesn't load in your browser when you navigate to the server URL , you can check the browser console for helpful errors and warnings. Sometimes you just need to wait a moment, for example, if you are using a slow wireless connection or the server was started only a few seconds ago. In case this does not help: You are using an incompatible browser (try another browser) JavaScript is disabled in your browser settings, so you only see the splash screen (enable it) JavaScript was disabled by a browser plugin (disable it or add an exception) Your browser cannot communicate properly with the server, e.g. because a Reverse Proxy , VPN , or CDN is configured incorrectly (check its configuration and try without) HTTP security headers prevent the app from loading in a frame (override them) An ad blocker or other plugins block requests (disable them or add an exception) There is a problem with your network connection (test if other sites work) You are connected to the wrong server, VPN , CDN , or a DNS record has not been updated yet Missing Pictures \u00b6 If you have indexed your library and some images or videos are missing, first check Library > Errors for errors and warnings . In case the application logs don't contain anything helpful: The pictures are in Review due to low quality or incomplete metadata The file type is generally unsupported The file type is generally supported, but a specific feature or codec is not The originals have bad filesystem permissions , so they cannot be opened by the indexer The indexer has skipped the files because they are exact duplicates The files are ignored based on pattern in a .ppignore file They are in Library > Hidden because thumbnails could not be created: Convert to JPEG is disabled in Settings > Library (enable it) FFmpeg and/or RAW converters are disabled in Settings > Advanced The file is broken, e.g. because of short Huffman data (try to fix it) Your (virtual) server disk is full (add storage) The storage folder is not writable (change permissions ) A disk usage or the inode limit has been reached (remove or increase it) Multiple files were stacked based on their metadata or file names The private or archived status was restored from a backup The NSFW filter is enabled, so they were marked as private You are not signed in as admin, so you can't see everything You try to index a shared drive on a remote server, but the server is offline The indexer has crashed because you didn't configure at least 4 GB of swap Somebody has deleted files without telling you You are connected to the wrong server, VPN , CDN , or a DNS record has not been updated yet Depending on the cause of the problem, you may need to perform a full rescan once the issue is resolved. Broken Thumbnails \u00b6 If some pictures have broken or missing thumbnails, first check Library > Errors for errors and warnings . In case the application logs don't contain anything helpful: The issue can be resolved by reloading the page or clearing the browser cache You browse non-JPEG files in Library > Originals which have an icon but no preview Dynamic Previews are enabled in Settings > Advanced , but the server is not powerful enough The sizes in Settings > Advanced have been changed so the request can't be fulfilled FFmpeg and/or RAW converters are disabled in Settings > Advanced (enable them) Convert to JPEG is disabled in Settings > Library (enable it) Your (virtual) server disk is full (add storage) A disk usage or the inode limit has been reached (remove or increase it) The storage folder is not writable or mounted read-only (change permissions ) Files were deleted manually, for example to free up disk space Files can't be opened, e.g. because the file system permissions have been changed Files are stored on an unreliable device such as a USB flash drive or a shared network folder Some thumbnails could not be created because you didn't configure at least 4 GB of swap Your browser cannot communicate properly with the server, e.g. because a Reverse Proxy , VPN , or CDN is configured incorrectly (check its configuration and try without) Your proxy, router, or firewall has a request rate limit, so some requests fail There are other network problems caused by a firewall, router, or unstable connection An ad blocker or other plugins block requests (disable them or add an exception) You are connected to the wrong server, VPN , CDN , or a DNS record has not been updated yet We also recommend checking your Docker Logs for messages like disk full , disk quota exceeded , no space left on device , read-only file system , error creating path , wrong permissions , and killed : If a service has been \"killed\" or otherwise automatically terminated, this points to a memory problem In case the logs show \"disk full\", \"quota exceeded\", or \"no space left\" errors, either the disk containing the storage folder is full (add storage) or a disk usage limit is configured (remove or increase it) Errors such as \" read-only file system\", \"error creating path\", or \"wrong permissions\" indicate a filesystem permission problem Depending on the cause of the problem, you may need to perform a full rescan once the issue is resolved. Videos Don't Play \u00b6 If videos do not play and/or you only see a white/black area when you open a video: You are using an incompatible browser , e.g. without AVC support (try another browser) AVC support or related JavaScript features have been disabled in your browser (check the settings and try another browser) It is a large non- AVC video that needs to be transcoded first (wait or run photoprism convert to pre-transcode videos ) An ad blocker or other plugins block requests (disable them or add an exception) Your (virtual) server disk is full (add storage) A disk usage or the inode limit has been reached (remove or increase it) The storage folder is not writable or mounted read-only (change permissions ) Files are stored on an unreliable device such as a USB flash drive or a shared network folder (check if the files are accessible) Your browser cannot communicate properly with the server, e.g. because a Reverse Proxy , VPN , or CDN is configured incorrectly (check its configuration and try without) There are other network problems caused by a proxy, firewall, or unstable connection (try a direct connection) You are connected to the wrong server, VPN , CDN , or a DNS record has not been updated yet We recommend that you check your Docker Logs and the browser console for messages related to HTTP requests , permissions , security , FFmpeg , videos , and file conversion . Please note: Not all video and audio formats can be played with every browser . For example, AAC - the default audio codec for MPEG-4 AVC / H.264 - is supported natively in Chrome, Safari, and Edge, while it is only optionally supported by the OS in Firefox and Opera. HEVC /H.265 video files can have a .mp4 file extension too, which is often associated with AVC only. This is because MP4 is a container format, meaning that the actual video content may be compressed with H.264, H.265, or something else. The file extension doesn't really tell you anything other than that it's probably a video file. We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Ask for technical support if you need help, it could be a local configuration problem, or a misunderstanding in how the software works.","title":"Checklists"},{"location":"getting-started/troubleshooting/#troubleshooting-checklists","text":"You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request , try to determine the cause of your problem.","title":"Troubleshooting Checklists"},{"location":"getting-started/troubleshooting/#connection-fails","text":"If your browser cannot connect to the Web UI even after waiting a few minutes, run this command to display the last 100 log messages (omit --tail=100 to see all): docker-compose logs --tail = 100 Before reporting a bug: Check the logs for messages like disk full , disk quota exceeded , no space left on device , read-only file system , error creating path , wrong permissions , no route to host , connection failed , and killed : If a service has been \"killed\" or otherwise automatically terminated, this points to a memory problem (add swap and/or memory; remove or increase usage limits) In case the logs show \"disk full\", \"quota exceeded\", or \"no space left\" errors, either the disk containing the storage folder is full (add storage) or a disk usage limit is configured (remove or increase it) Errors such as \" read-only file system\", \"error creating path\", or \"wrong permissions\" indicate a filesystem permission problem Log messages that contain \"no route to host \" indicate a problem with the database or Docker network configuration (follow our examples ) Make sure you are using the correct protocol (default is http ), port (default is 2342 ), and hostname or IP address (default is localhost ) Note that HTTP security headers will prevent the app from loading in a frame (override them) Verify your computer meets the system requirements Go through the checklist for fatal server errors Should MariaDB get stuck in a restart loop and PhotoPrism can't connect to it, this indicates a memory , filesystem , or other permission issue : mariadb: mysqld: ready for connections. mariadb: mysqld (initiated by: unknown): Normal shutdown photoprism: dial tcp 172.18.0.2:3306: connect: no route to host mariadb: mysqld: Shutdown complete To enable debug mode , set PHOTOPRISM_DEBUG to true in the environment: section of the photoprism service (or use the --debug flag when running the photoprism command directly): services : photoprism : environment : PHOTOPRISM_DEBUG : \"true\" Then restart all services for the changes to take effect. It can be helpful to keep Docker running in the foreground while debugging so that log messages are displayed directly. To do this, omit the -d parameter when restarting: docker-compose stop docker-compose up If you see no errors or no logs at all, you may have started the server on a different host and/or port. There could also be an issue with your browser , browser plugins, firewall settings, or other tools you may have installed. The default Docker Compose config filename is docker-compose.yml . For simplicity, it doesn't need to be specified when running the docker-compose command in the same directory. Config files for other apps or instances should be placed in separate folders.","title":"Connection Fails"},{"location":"getting-started/troubleshooting/#docker-doesnt-work","text":"\u21aa Getting Docker Up and Running","title":"Docker Doesn't Work"},{"location":"getting-started/troubleshooting/#mariadb-issues","text":"\u21aa Troubleshooting MariaDB Problems","title":"MariaDB Issues"},{"location":"getting-started/troubleshooting/#mysql-errors","text":"\u21aa Official support for MySQL 8 is discontinued","title":"MySQL Errors"},{"location":"getting-started/troubleshooting/#bad-performance","text":"\u21aa Performance Tips","title":"Bad Performance"},{"location":"getting-started/troubleshooting/#fatal-server-errors","text":"Fatal errors are often caused by one of the following conditions: Your (virtual) server disk is full (add storage) You have accidentally mounted the wrong folders (update config and restart) There is disk space left, but a usage or the inode limit has been reached (change it) The storage folder is not writable or mounted read-only (change permissions ) Symbolic links were mounted or used within a storage folder (replace with actual paths) The server is low on memory (add memory) You didn't configure at least 4 GB of swap space (add swap ) High-resolution panoramic images require additional memory above the recommended minimum (add more swap or memory) The server CPU is overheating (improve cooling) The server has an outdated operating system that is not fully compatible (update) The server hardware is defective and causes random panics (test on another server) The database server is not running, incompatible , or misconfigured (start, upgrade, or fix it ) You've upgraded the MariaDB server without running mariadb-upgrade Files are stored on an unreliable device such as a USB flash drive or a shared network folder There are network problems caused by a bad configuration, firewall, or unstable connection Kernel security modules such as AppArmor and SELinux are blocking permissions Your Raspberry Pi has not been configured according to our recommendations We recommend checking your Docker Logs for messages like disk full , disk quota exceeded , no space left on device , read-only file system , error creating path , wrong permissions , no route to host , connection failed , and killed : If a service has been \"killed\" or otherwise automatically terminated, this points to a memory problem (add swap and/or memory; remove or increase usage limits) In case the logs show \"disk full\", \"quota exceeded\", or \"no space left\" errors, either the disk containing the storage folder is full (add storage) or a disk usage limit is configured (remove or increase it) Errors such as \" read-only file system\", \"error creating path\", or \"wrong permissions\" indicate a filesystem permission problem Log messages that contain \"no route to host \" indicate a problem with the database or network configuration (follow our examples ) Start a full rescan if necessary, for example, if it looks like thumbnails or pictures are missing .","title":"Fatal Server Errors"},{"location":"getting-started/troubleshooting/#app-not-loading","text":"If the app doesn't load in your browser when you navigate to the server URL , you can check the browser console for helpful errors and warnings. Sometimes you just need to wait a moment, for example, if you are using a slow wireless connection or the server was started only a few seconds ago. In case this does not help: You are using an incompatible browser (try another browser) JavaScript is disabled in your browser settings, so you only see the splash screen (enable it) JavaScript was disabled by a browser plugin (disable it or add an exception) Your browser cannot communicate properly with the server, e.g. because a Reverse Proxy , VPN , or CDN is configured incorrectly (check its configuration and try without) HTTP security headers prevent the app from loading in a frame (override them) An ad blocker or other plugins block requests (disable them or add an exception) There is a problem with your network connection (test if other sites work) You are connected to the wrong server, VPN , CDN , or a DNS record has not been updated yet","title":"App Not Loading"},{"location":"getting-started/troubleshooting/#missing-pictures","text":"If you have indexed your library and some images or videos are missing, first check Library > Errors for errors and warnings . In case the application logs don't contain anything helpful: The pictures are in Review due to low quality or incomplete metadata The file type is generally unsupported The file type is generally supported, but a specific feature or codec is not The originals have bad filesystem permissions , so they cannot be opened by the indexer The indexer has skipped the files because they are exact duplicates The files are ignored based on pattern in a .ppignore file They are in Library > Hidden because thumbnails could not be created: Convert to JPEG is disabled in Settings > Library (enable it) FFmpeg and/or RAW converters are disabled in Settings > Advanced The file is broken, e.g. because of short Huffman data (try to fix it) Your (virtual) server disk is full (add storage) The storage folder is not writable (change permissions ) A disk usage or the inode limit has been reached (remove or increase it) Multiple files were stacked based on their metadata or file names The private or archived status was restored from a backup The NSFW filter is enabled, so they were marked as private You are not signed in as admin, so you can't see everything You try to index a shared drive on a remote server, but the server is offline The indexer has crashed because you didn't configure at least 4 GB of swap Somebody has deleted files without telling you You are connected to the wrong server, VPN , CDN , or a DNS record has not been updated yet Depending on the cause of the problem, you may need to perform a full rescan once the issue is resolved.","title":"Missing Pictures"},{"location":"getting-started/troubleshooting/#broken-thumbnails","text":"If some pictures have broken or missing thumbnails, first check Library > Errors for errors and warnings . In case the application logs don't contain anything helpful: The issue can be resolved by reloading the page or clearing the browser cache You browse non-JPEG files in Library > Originals which have an icon but no preview Dynamic Previews are enabled in Settings > Advanced , but the server is not powerful enough The sizes in Settings > Advanced have been changed so the request can't be fulfilled FFmpeg and/or RAW converters are disabled in Settings > Advanced (enable them) Convert to JPEG is disabled in Settings > Library (enable it) Your (virtual) server disk is full (add storage) A disk usage or the inode limit has been reached (remove or increase it) The storage folder is not writable or mounted read-only (change permissions ) Files were deleted manually, for example to free up disk space Files can't be opened, e.g. because the file system permissions have been changed Files are stored on an unreliable device such as a USB flash drive or a shared network folder Some thumbnails could not be created because you didn't configure at least 4 GB of swap Your browser cannot communicate properly with the server, e.g. because a Reverse Proxy , VPN , or CDN is configured incorrectly (check its configuration and try without) Your proxy, router, or firewall has a request rate limit, so some requests fail There are other network problems caused by a firewall, router, or unstable connection An ad blocker or other plugins block requests (disable them or add an exception) You are connected to the wrong server, VPN , CDN , or a DNS record has not been updated yet We also recommend checking your Docker Logs for messages like disk full , disk quota exceeded , no space left on device , read-only file system , error creating path , wrong permissions , and killed : If a service has been \"killed\" or otherwise automatically terminated, this points to a memory problem In case the logs show \"disk full\", \"quota exceeded\", or \"no space left\" errors, either the disk containing the storage folder is full (add storage) or a disk usage limit is configured (remove or increase it) Errors such as \" read-only file system\", \"error creating path\", or \"wrong permissions\" indicate a filesystem permission problem Depending on the cause of the problem, you may need to perform a full rescan once the issue is resolved.","title":"Broken Thumbnails"},{"location":"getting-started/troubleshooting/#videos-dont-play","text":"If videos do not play and/or you only see a white/black area when you open a video: You are using an incompatible browser , e.g. without AVC support (try another browser) AVC support or related JavaScript features have been disabled in your browser (check the settings and try another browser) It is a large non- AVC video that needs to be transcoded first (wait or run photoprism convert to pre-transcode videos ) An ad blocker or other plugins block requests (disable them or add an exception) Your (virtual) server disk is full (add storage) A disk usage or the inode limit has been reached (remove or increase it) The storage folder is not writable or mounted read-only (change permissions ) Files are stored on an unreliable device such as a USB flash drive or a shared network folder (check if the files are accessible) Your browser cannot communicate properly with the server, e.g. because a Reverse Proxy , VPN , or CDN is configured incorrectly (check its configuration and try without) There are other network problems caused by a proxy, firewall, or unstable connection (try a direct connection) You are connected to the wrong server, VPN , CDN , or a DNS record has not been updated yet We recommend that you check your Docker Logs and the browser console for messages related to HTTP requests , permissions , security , FFmpeg , videos , and file conversion . Please note: Not all video and audio formats can be played with every browser . For example, AAC - the default audio codec for MPEG-4 AVC / H.264 - is supported natively in Chrome, Safari, and Edge, while it is only optionally supported by the OS in Firefox and Opera. HEVC /H.265 video files can have a .mp4 file extension too, which is often associated with AVC only. This is because MP4 is a container format, meaning that the actual video content may be compressed with H.264, H.265, or something else. The file extension doesn't really tell you anything other than that it's probably a video file. We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Ask for technical support if you need help, it could be a local configuration problem, or a misunderstanding in how the software works.","title":"Videos Don't Play"},{"location":"getting-started/troubleshooting/browsers/","text":"Diagnosing Frontend Issues \u00b6 Problems with the user interface can be caused by a bug or an incompatible browser: some features may not be supported by non-standard browsers, as well as nightly, unofficial, or outdated versions not all video and audio formats can be played with every browser, device, and operating system for example, AAC - the default audio codec for MPEG-4 AVC / H.264 - is supported natively in Chrome, Safari, and Edge, while it is only optionally supported by the OS in Firefox and Opera If the user interface doesn't load at all, our App Not Loading checklist helps you identify and resolve the cause. Try Another Browser \u00b6 To test if you have a general problem that is not browser-specific, open the Web UI in other browsers: if you are using Firefox Nightly , try the stable version and Chrome or Chromium if you have browser plugins installed, try disabling them to see if this makes a difference when the problem disappears, you know that the issue is browser-dependent or caused by a plugin otherwise, the issue may not be specific to the browser version make a note in which browsers the problem occurs, as this will be helpful when submitting a support request The user interface works with most modern browsers, and runs best on Chrome , Chromium , Safari , Firefox , and Edge . Opera and Samsung Internet have been reported to be compatible as well. Due to limited resources , we can not test every release with all browser types and versions. Getting Error Details \u00b6 If possible, please also include the error type, error message, and URL of the affected resource when submitting a support request . For this purpose, check the browser console for warnings and errors as described below. It is perfectly fine to take screenshots instead of writing down the details. In case you don't see any log messages, try reloading the page, as the problem may occur while the page is loading. Chrome, Chromium, and Edge Firefox Safari press \u2318+Option+J (Mac) or Ctrl+Shift+J (Windows, Linux, Chrome OS) to go directly to the Developer Tools or, navigate to More tools > Developer tools in the browser menu and open the Console tab press \u2318+Option+K (Mac) or Ctrl+Shift+K (Windows) to go directly to the Firefox Web Console panel or, navigate to Web Development > Web Console in the menu and open the Console panel Before you can access the console in Safari, you first need to enable the Develop menu: Choose Safari Menu > Preferences and select the Advanced Tab Select \"Show Develop menu in menu bar\" Once the Develop menu is enabled: press Option+\u2318+C to go directly to the Javascript Console or, navigate to Develop > Show Javascript Console in the browser menu We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Ask for technical support if you need help, it could be a local configuration problem, or a misunderstanding in how the software works.","title":"Browsers"},{"location":"getting-started/troubleshooting/browsers/#diagnosing-frontend-issues","text":"Problems with the user interface can be caused by a bug or an incompatible browser: some features may not be supported by non-standard browsers, as well as nightly, unofficial, or outdated versions not all video and audio formats can be played with every browser, device, and operating system for example, AAC - the default audio codec for MPEG-4 AVC / H.264 - is supported natively in Chrome, Safari, and Edge, while it is only optionally supported by the OS in Firefox and Opera If the user interface doesn't load at all, our App Not Loading checklist helps you identify and resolve the cause.","title":"Diagnosing Frontend Issues"},{"location":"getting-started/troubleshooting/browsers/#try-another-browser","text":"To test if you have a general problem that is not browser-specific, open the Web UI in other browsers: if you are using Firefox Nightly , try the stable version and Chrome or Chromium if you have browser plugins installed, try disabling them to see if this makes a difference when the problem disappears, you know that the issue is browser-dependent or caused by a plugin otherwise, the issue may not be specific to the browser version make a note in which browsers the problem occurs, as this will be helpful when submitting a support request The user interface works with most modern browsers, and runs best on Chrome , Chromium , Safari , Firefox , and Edge . Opera and Samsung Internet have been reported to be compatible as well. Due to limited resources , we can not test every release with all browser types and versions.","title":"Try Another Browser"},{"location":"getting-started/troubleshooting/browsers/#getting-error-details","text":"If possible, please also include the error type, error message, and URL of the affected resource when submitting a support request . For this purpose, check the browser console for warnings and errors as described below. It is perfectly fine to take screenshots instead of writing down the details. In case you don't see any log messages, try reloading the page, as the problem may occur while the page is loading. Chrome, Chromium, and Edge Firefox Safari press \u2318+Option+J (Mac) or Ctrl+Shift+J (Windows, Linux, Chrome OS) to go directly to the Developer Tools or, navigate to More tools > Developer tools in the browser menu and open the Console tab press \u2318+Option+K (Mac) or Ctrl+Shift+K (Windows) to go directly to the Firefox Web Console panel or, navigate to Web Development > Web Console in the menu and open the Console panel Before you can access the console in Safari, you first need to enable the Develop menu: Choose Safari Menu > Preferences and select the Advanced Tab Select \"Show Develop menu in menu bar\" Once the Develop menu is enabled: press Option+\u2318+C to go directly to the Javascript Console or, navigate to Develop > Show Javascript Console in the browser menu We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Ask for technical support if you need help, it could be a local configuration problem, or a misunderstanding in how the software works.","title":"Getting Error Details"},{"location":"getting-started/troubleshooting/docker/","text":"Getting Docker Up and Running \u00b6 You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request , try to determine the cause of your problem . Installation \u00b6 If you can't use the docker and docker-compose commands at all, make sure Docker is running on the host you are connected to and your current user has the permission to use it. The following guides explain how to install Docker: Ubuntu , Mint , Debian , Arch , and Fedora Linux Microsoft Windows Apple macOS Docker Compose Linux distributions may require you to install the docker-compose command separately, for example by running sudo apt install docker-compose in a terminal or using a graphical software package manager. Using Docker \u00b6 Cannot Connect \u00b6 If you see the error message \"Cannot connect to the Docker daemon\", it means that Docker is not installed or not running yet. Before you try anything else, it may help to simply restart your computer. On many Linux distributions, this command will start the Docker daemon manually if needed: sudo systemctl start docker.service On other operating systems, start Docker Desktop and enable the \"Start Docker Desktop when you log in\" option in its settings. Connection Aborted \u00b6 If you see the error message \"Connection aborted\" or \"Connection denied\", it usually means that your current user does not have permission to use Docker. On Linux, this command grants permission by adding a user to the docker group (relogin for changes to take effect): sudo usermod -aG docker [ username ] Alternatively, you can prefix the docker and docker-compose commands with sudo when not running as root, for example: sudo docker-compose stop sudo docker-compose up -d Note that this will point the home directory shortcut ~ to /root in the volumes: section of your docker-compose.yml . Viewing Logs \u00b6 Run this command to display the last 100 log messages (omit --tail=100 to see all): docker-compose logs --tail = 100 To enable debug mode , set PHOTOPRISM_DEBUG to true in the environment: section of the photoprism service (or use the --debug flag when running the photoprism command directly): services : photoprism : environment : PHOTOPRISM_DEBUG : \"true\" Then restart all services for the changes to take effect. It can be helpful to keep Docker running in the foreground while debugging so that log messages are displayed directly. To do this, omit the -d parameter when restarting: docker-compose stop docker-compose up If you see no errors or no logs at all, you may have started the server on a different host and/or port. There could also be an issue with your browser , browser plugins, firewall settings, or other tools you may have installed. The default Docker Compose config filename is docker-compose.yml . For simplicity, it doesn't need to be specified when running the docker-compose command in the same directory. Config files for other apps or instances should be placed in separate folders. Adding Swap \u00b6 Note that high-resolution panoramic images may require additional swap space and/or physical memory above the recommended minimum . Linux \u00b6 Open a terminal and run this command to check if your server has swap configured. swapon --show Example output: NAME TYPE SIZE USED PRIO /swapfile file 64G 88M -2 This means you have 64 GB of swap and don't need to add more. Learn how much you need. Otherwise, run these commands to permanently add 4 GB of swap (or more depending on how much physical memory you have): sudo -i fallocate -l 4G /swapfile chmod 600 /swapfile mkswap /swapfile swapon /swapfile echo '/swapfile none swap sw 0 0' | tee -a /etc/fstab You can skip sudo -i if you are already logged in as root. Windows \u00b6 Windows Pro users should disable the WSL 2 based engine in Docker Settings > General so that they can mount drives other than C: . This will enable Hyper-V , which Microsoft doesn't offer to its Windows Home customers. Docker Desktop uses dynamic memory allocation with WSL 2 . It is important to explicitly increase the Docker memory limit to 4 GB or more when using Hyper-V . The default of 2 GB can reduce indexing performance and cause unexpected restarts. Also, ensure that you configure at least 4 GB of swap space. macOS \u00b6 It is important to increase the Docker memory limit to 4 GB or more, as the default of 2 GB can reduce indexing performance and cause unexpected restarts. Also, ensure that you configure at least 4 GB of swap space. Kernel Security \u00b6 We recommend disabling Linux kernel security on private servers, especially if you do not have experience with the configuration. If you have working configuration rules for a particular Linux distribution, feel free to share instructions with the community so that less experienced users can harden their installation without running into issues. File Permissions \u00b6 Errors such as \" read-only file system\", \"error creating path\", or \"wrong permissions\" indicate a filesystem permission problem: Use a file manager, or the commands ls -alh , chmod , and chown on Unix-like operating systems, to check and change filesystem permissions so all files and folders are accessible The app and database storage folders must be writable as well: Verify that the services have write permissions and that you have not mounted the folders read-only on your host or via Docker using the :ro flag If you have configured specific user and group IDs for a service, make sure they match If symbolic links are mounted or used within storage folders, replace them with actual paths When mounting folders that only root has access to, you may have to prefix the docker and docker-compose commands with sudo on Linux if you are not already logged in as root An easy way to test for missing permissions is to (temporarily) remove restrictions and make the entire folder accessible to everyone: sudo chmod -R a+rwx [ folder ] Start a full rescan once all issues have been resolved, especially if it looks like thumbnails or pictures are missing . Be very careful when changing permissions in shared hosting environments. If you are using PhotoPrism on corporate or university servers, we recommend that you ask your IT help desk for advice. Disk Space \u00b6 In case the logs show \"disk full\", \"quota exceeded\", or \"no space left\" errors, either the disk containing the storage folder is full (get a new one or use a different disk) or a disk usage limit is configured, for example in the Docker, Kubernetes, or Virtual Machine configuration (remove or increase it): on Linux and other Unix-like operating systems, the available disk space can be viewed by running df -h in a terminal if you are using Kubernetes , Docker Desktop , Hyper-V , or a Virtual Machine, they have their own settings to adjust the size of storage , RAM , and swap for details, refer to the corresponding documentation Start a full rescan if necessary, for example, if it looks like thumbnails or pictures are missing . We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Ask for technical support if you need help, it could be a local configuration problem, or a misunderstanding in how the software works.","title":"Docker"},{"location":"getting-started/troubleshooting/docker/#getting-docker-up-and-running","text":"You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request , try to determine the cause of your problem .","title":"Getting Docker Up and Running"},{"location":"getting-started/troubleshooting/docker/#installation","text":"If you can't use the docker and docker-compose commands at all, make sure Docker is running on the host you are connected to and your current user has the permission to use it. The following guides explain how to install Docker: Ubuntu , Mint , Debian , Arch , and Fedora Linux Microsoft Windows Apple macOS Docker Compose Linux distributions may require you to install the docker-compose command separately, for example by running sudo apt install docker-compose in a terminal or using a graphical software package manager.","title":"Installation"},{"location":"getting-started/troubleshooting/docker/#using-docker","text":"","title":"Using Docker"},{"location":"getting-started/troubleshooting/docker/#cannot-connect","text":"If you see the error message \"Cannot connect to the Docker daemon\", it means that Docker is not installed or not running yet. Before you try anything else, it may help to simply restart your computer. On many Linux distributions, this command will start the Docker daemon manually if needed: sudo systemctl start docker.service On other operating systems, start Docker Desktop and enable the \"Start Docker Desktop when you log in\" option in its settings.","title":"Cannot Connect"},{"location":"getting-started/troubleshooting/docker/#connection-aborted","text":"If you see the error message \"Connection aborted\" or \"Connection denied\", it usually means that your current user does not have permission to use Docker. On Linux, this command grants permission by adding a user to the docker group (relogin for changes to take effect): sudo usermod -aG docker [ username ] Alternatively, you can prefix the docker and docker-compose commands with sudo when not running as root, for example: sudo docker-compose stop sudo docker-compose up -d Note that this will point the home directory shortcut ~ to /root in the volumes: section of your docker-compose.yml .","title":"Connection Aborted"},{"location":"getting-started/troubleshooting/docker/#viewing-logs","text":"Run this command to display the last 100 log messages (omit --tail=100 to see all): docker-compose logs --tail = 100 To enable debug mode , set PHOTOPRISM_DEBUG to true in the environment: section of the photoprism service (or use the --debug flag when running the photoprism command directly): services : photoprism : environment : PHOTOPRISM_DEBUG : \"true\" Then restart all services for the changes to take effect. It can be helpful to keep Docker running in the foreground while debugging so that log messages are displayed directly. To do this, omit the -d parameter when restarting: docker-compose stop docker-compose up If you see no errors or no logs at all, you may have started the server on a different host and/or port. There could also be an issue with your browser , browser plugins, firewall settings, or other tools you may have installed. The default Docker Compose config filename is docker-compose.yml . For simplicity, it doesn't need to be specified when running the docker-compose command in the same directory. Config files for other apps or instances should be placed in separate folders.","title":"Viewing Logs"},{"location":"getting-started/troubleshooting/docker/#adding-swap","text":"Note that high-resolution panoramic images may require additional swap space and/or physical memory above the recommended minimum .","title":"Adding Swap"},{"location":"getting-started/troubleshooting/docker/#linux","text":"Open a terminal and run this command to check if your server has swap configured. swapon --show Example output: NAME TYPE SIZE USED PRIO /swapfile file 64G 88M -2 This means you have 64 GB of swap and don't need to add more. Learn how much you need. Otherwise, run these commands to permanently add 4 GB of swap (or more depending on how much physical memory you have): sudo -i fallocate -l 4G /swapfile chmod 600 /swapfile mkswap /swapfile swapon /swapfile echo '/swapfile none swap sw 0 0' | tee -a /etc/fstab You can skip sudo -i if you are already logged in as root.","title":"Linux"},{"location":"getting-started/troubleshooting/docker/#windows","text":"Windows Pro users should disable the WSL 2 based engine in Docker Settings > General so that they can mount drives other than C: . This will enable Hyper-V , which Microsoft doesn't offer to its Windows Home customers. Docker Desktop uses dynamic memory allocation with WSL 2 . It is important to explicitly increase the Docker memory limit to 4 GB or more when using Hyper-V . The default of 2 GB can reduce indexing performance and cause unexpected restarts. Also, ensure that you configure at least 4 GB of swap space.","title":"Windows"},{"location":"getting-started/troubleshooting/docker/#macos","text":"It is important to increase the Docker memory limit to 4 GB or more, as the default of 2 GB can reduce indexing performance and cause unexpected restarts. Also, ensure that you configure at least 4 GB of swap space.","title":"macOS"},{"location":"getting-started/troubleshooting/docker/#kernel-security","text":"We recommend disabling Linux kernel security on private servers, especially if you do not have experience with the configuration. If you have working configuration rules for a particular Linux distribution, feel free to share instructions with the community so that less experienced users can harden their installation without running into issues.","title":"Kernel Security"},{"location":"getting-started/troubleshooting/docker/#file-permissions","text":"Errors such as \" read-only file system\", \"error creating path\", or \"wrong permissions\" indicate a filesystem permission problem: Use a file manager, or the commands ls -alh , chmod , and chown on Unix-like operating systems, to check and change filesystem permissions so all files and folders are accessible The app and database storage folders must be writable as well: Verify that the services have write permissions and that you have not mounted the folders read-only on your host or via Docker using the :ro flag If you have configured specific user and group IDs for a service, make sure they match If symbolic links are mounted or used within storage folders, replace them with actual paths When mounting folders that only root has access to, you may have to prefix the docker and docker-compose commands with sudo on Linux if you are not already logged in as root An easy way to test for missing permissions is to (temporarily) remove restrictions and make the entire folder accessible to everyone: sudo chmod -R a+rwx [ folder ] Start a full rescan once all issues have been resolved, especially if it looks like thumbnails or pictures are missing . Be very careful when changing permissions in shared hosting environments. If you are using PhotoPrism on corporate or university servers, we recommend that you ask your IT help desk for advice.","title":"File Permissions"},{"location":"getting-started/troubleshooting/docker/#disk-space","text":"In case the logs show \"disk full\", \"quota exceeded\", or \"no space left\" errors, either the disk containing the storage folder is full (get a new one or use a different disk) or a disk usage limit is configured, for example in the Docker, Kubernetes, or Virtual Machine configuration (remove or increase it): on Linux and other Unix-like operating systems, the available disk space can be viewed by running df -h in a terminal if you are using Kubernetes , Docker Desktop , Hyper-V , or a Virtual Machine, they have their own settings to adjust the size of storage , RAM , and swap for details, refer to the corresponding documentation Start a full rescan if necessary, for example, if it looks like thumbnails or pictures are missing . We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Ask for technical support if you need help, it could be a local configuration problem, or a misunderstanding in how the software works.","title":"Disk Space"},{"location":"getting-started/troubleshooting/logs/","text":"Collecting Debug Information \u00b6 Web App Browser Docker Logs Make sure Logs is enabled under Settings > General so you can see log messages in the Web UI. Live Logs The continuously updated live logs in Library > Logs are especially useful for diagnosing indexing and import issues, but also display other types of logs (depending on the log level ): Navigate to Library Open the Logs tab Only a limited number of messages are visible in the Web App to reduce memory usage. You can see all messages in the Docker Logs . This may be more convenient if you are looking for information on a specific file or want to attach your full logs to a support request . Errors and Warnings Expand the main navigation Open the Library sub navigation Navigate to Library > Errors If you have a frontend issue , it is often helpful to check the browser console for errors and warnings. A console is available in all modern browsers and can be activated via keyboard shortcuts or the browser menu. Problems with the user interface can be caused by a bug or an incompatible browser : Some features may not be supported by non-standard browsers, as well as nightly, unofficial, or outdated versions. In case you don't see any log messages, try reloading the page, as the problem may occur while the page is loading. Chrome, Chromium, and Edge press \u2318+Option+J (Mac) or Ctrl+Shift+J (Windows, Linux, Chrome OS) to go directly to the Developer Tools or, navigate to More tools > Developer tools in the browser menu and open the Console tab Firefox press \u2318+Option+K (Mac) or Ctrl+Shift+K (Windows) to go directly to the Firefox Web Console panel or, navigate to Web Development > Web Console in the menu and open the Console panel Safari Before you can access the console in Safari, you first need to enable the Develop menu: Choose Safari Menu > Preferences and select the Advanced Tab Select \"Show Develop menu in menu bar\" Once the Develop menu is enabled: press Option+\u2318+C to go directly to the Javascript Console or, navigate to Develop > Show Javascript Console in the browser menu Run this command to display the last 100 log messages (omit --tail=100 to see all): docker-compose logs --tail = 100 To enable debug mode , set PHOTOPRISM_DEBUG to true in the environment: section of the photoprism service (or use the --debug flag when running the photoprism command directly): services : photoprism : environment : PHOTOPRISM_DEBUG : \"true\" Then restart all services for the changes to take effect. It can be helpful to keep Docker running in the foreground while debugging so that log messages are displayed directly. To do this, omit the -d parameter when restarting: docker-compose stop docker-compose up If you see no errors or no logs at all, you may have started the server on a different host and/or port. There could also be an issue with your browser , browser plugins, firewall settings, or other tools you may have installed. The default Docker Compose config filename is docker-compose.yml . For simplicity, it doesn't need to be specified when running the docker-compose command in the same directory. Config files for other apps or instances should be placed in separate folders. We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Ask for technical support if you need help, it could be a local configuration problem, or a misunderstanding in how the software works.","title":"Logs"},{"location":"getting-started/troubleshooting/logs/#collecting-debug-information","text":"Web App Browser Docker Logs Make sure Logs is enabled under Settings > General so you can see log messages in the Web UI. Live Logs The continuously updated live logs in Library > Logs are especially useful for diagnosing indexing and import issues, but also display other types of logs (depending on the log level ): Navigate to Library Open the Logs tab Only a limited number of messages are visible in the Web App to reduce memory usage. You can see all messages in the Docker Logs . This may be more convenient if you are looking for information on a specific file or want to attach your full logs to a support request . Errors and Warnings Expand the main navigation Open the Library sub navigation Navigate to Library > Errors If you have a frontend issue , it is often helpful to check the browser console for errors and warnings. A console is available in all modern browsers and can be activated via keyboard shortcuts or the browser menu. Problems with the user interface can be caused by a bug or an incompatible browser : Some features may not be supported by non-standard browsers, as well as nightly, unofficial, or outdated versions. In case you don't see any log messages, try reloading the page, as the problem may occur while the page is loading. Chrome, Chromium, and Edge press \u2318+Option+J (Mac) or Ctrl+Shift+J (Windows, Linux, Chrome OS) to go directly to the Developer Tools or, navigate to More tools > Developer tools in the browser menu and open the Console tab Firefox press \u2318+Option+K (Mac) or Ctrl+Shift+K (Windows) to go directly to the Firefox Web Console panel or, navigate to Web Development > Web Console in the menu and open the Console panel Safari Before you can access the console in Safari, you first need to enable the Develop menu: Choose Safari Menu > Preferences and select the Advanced Tab Select \"Show Develop menu in menu bar\" Once the Develop menu is enabled: press Option+\u2318+C to go directly to the Javascript Console or, navigate to Develop > Show Javascript Console in the browser menu Run this command to display the last 100 log messages (omit --tail=100 to see all): docker-compose logs --tail = 100 To enable debug mode , set PHOTOPRISM_DEBUG to true in the environment: section of the photoprism service (or use the --debug flag when running the photoprism command directly): services : photoprism : environment : PHOTOPRISM_DEBUG : \"true\" Then restart all services for the changes to take effect. It can be helpful to keep Docker running in the foreground while debugging so that log messages are displayed directly. To do this, omit the -d parameter when restarting: docker-compose stop docker-compose up If you see no errors or no logs at all, you may have started the server on a different host and/or port. There could also be an issue with your browser , browser plugins, firewall settings, or other tools you may have installed. The default Docker Compose config filename is docker-compose.yml . For simplicity, it doesn't need to be specified when running the docker-compose command in the same directory. Config files for other apps or instances should be placed in separate folders. We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Ask for technical support if you need help, it could be a local configuration problem, or a misunderstanding in how the software works.","title":"Collecting Debug Information"},{"location":"getting-started/troubleshooting/mariadb/","text":"Troubleshooting MariaDB Problems \u00b6 You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request , try to determine the cause of your problem . Cannot Connect \u00b6 First, verify that you are using the correct port (default is 3306 ) and hostname or IP address: in the Docker environment, the default hostname is mariadb (same as the service name) use localhost on your host if the port has been exposed as described below use your private host IP from inside your home network (see network settings) To connect to MariaDB from your host or home network, you need to expose port 3306 in your docker-compose.yml and restart the service for changes to take effect : services : mariadb : ports : - \"3306:3306\" Set strong passwords if the database is exposed to an external network. Never expose your database to the public Internet in this way, for example, if it is running on a cloud server. If this doesn't help, check the Docker Logs for messages like disk full , disk quota exceeded , no space left on device , read-only file system , error creating path , wrong permissions , no route to host , connection failed , exec format error , no matching manifest , and killed : Make sure that the database storage folder is readable and writable: Errors such as \"read-only file system\", \"error creating path\", or \"wrong permissions\" indicate a filesystem permission problem If symbolic links are mounted or used within the storage folder, replace them with the actual paths and verify that they are accessible If the MariaDB service has been \"killed\" or otherwise automatically terminated, this can point to a memory problem (add swap and/or memory; remove or increase usage limits) In case the logs also show \"disk full\", \"quota exceeded\", or \"no space left\" errors, either the disk containing the storage folder is full (add storage) or a disk usage limit is configured (remove or increase it) Log messages that contain \"no route to host\" may also indicate a general network configuration problem (follow our examples ) You have to resort to alternative Docker images to run MariaDB on ARMv7-based devices and those with a 32-bit operating system Server Migration \u00b6 When moving MariaDB to another computer, cloud server, or virtual machine: Move the complete storage folder along with it and preserve the file permissions or restore your index from an SQL dump (backup file) Perform a version upgrade if necessary Make sure that PhotoPrism can access the database on the new host Set strong passwords if the database is exposed to an external network Never expose your database to the public Internet Version Upgrade \u00b6 If the database doesn't start properly after upgrading from an earlier MySQL or MariaDB version, you may need to run this command in a terminal: docker-compose exec mariadb mariadb-upgrade -uroot -p Enter the MariaDB \"root\" password specified in your docker-compose.yml when prompted. Alternatively, you can downgrade to the previous version, create a database backup using the photoprism backup command, start a new database instance based on the latest version, and then restore your index with the photoprism restore command. Lost Root Password \u00b6 In case you forgot the MariaDB \"root\" password and the one specified in your configuration does not work, you can start the server with the --skip-grant-tables flag added to the mysqld command in your docker-compose.yml . This will temporarily give full access to all users after a restart: services : mariadb : command : mysqld --skip-grant-tables Restart the mariadb service for changes to take effect: docker-compose stop mariadb docker-compose up -d mariadb Now open a database console: docker-compose exec mariadb mysql -uroot Enter the following commands to change the password for \"root\": FLUSH PRIVILEGES ; ALTER USER 'root' @ '%' IDENTIFIED BY 'new_password' ; ALTER USER 'root' @ 'localhost' IDENTIFIED BY 'new_password' ; UPDATE mysql . user SET authentication_string = '' WHERE user = 'root' ; UPDATE mysql . user SET plugin = '' WHERE user = 'root' ; exit When you are done, remove the --skip-grant-tables flag again to restore the original command and restart the mariadb service as described above. Corrupted Files \u00b6 If your database files get corrupted frequently, it is usually because they are stored on an unreliable device such as a USB flash drive, an SD card, or a shared network folder. Never use the same database files with more than one server instance To share a database over a network, run the database server directly on the remote server instead of sharing database files To repair your tables after you have moved the files to a local disk, you can start MariaDB with --innodb-force-recovery=1 (otherwise the same procedure as for recovering a lost password, see above) Unicode Support \u00b6 If the logs show \"incorrect string value\" database errors and you are running a custom MariaDB or MySQL server that is not based on our default configuration : Full Unicode support must be enabled , e.g. using the mysqld command parameters --character-set-server=utf8mb4 and --collation-server=utf8mb4_unicode_ci Note that an existing database may use a different character set if you imported it from another server Before submitting a support request, verify the problem still occurs with a newly created database based on our example Run this command in a terminal to see the current values of the collation and character set variables (change the root password insecure and database name photoprism as specified in your docker-compose.yml ): echo \"SHOW VARIABLES WHERE Variable_name LIKE 'character\\_set\\_%' OR Variable_name LIKE 'collation%';\" | \\ docker-compose exec -T mariadb mysql -uroot -pinsecure photoprism MySQL Errors \u00b6 Official support for MySQL 8 is discontinued as Oracle seems to have stopped shipping new features and improvements . As a result, the testing effort required before each release is no longer feasible.","title":"MariaDB"},{"location":"getting-started/troubleshooting/mariadb/#troubleshooting-mariadb-problems","text":"You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request , try to determine the cause of your problem .","title":"Troubleshooting MariaDB Problems"},{"location":"getting-started/troubleshooting/mariadb/#cannot-connect","text":"First, verify that you are using the correct port (default is 3306 ) and hostname or IP address: in the Docker environment, the default hostname is mariadb (same as the service name) use localhost on your host if the port has been exposed as described below use your private host IP from inside your home network (see network settings) To connect to MariaDB from your host or home network, you need to expose port 3306 in your docker-compose.yml and restart the service for changes to take effect : services : mariadb : ports : - \"3306:3306\" Set strong passwords if the database is exposed to an external network. Never expose your database to the public Internet in this way, for example, if it is running on a cloud server. If this doesn't help, check the Docker Logs for messages like disk full , disk quota exceeded , no space left on device , read-only file system , error creating path , wrong permissions , no route to host , connection failed , exec format error , no matching manifest , and killed : Make sure that the database storage folder is readable and writable: Errors such as \"read-only file system\", \"error creating path\", or \"wrong permissions\" indicate a filesystem permission problem If symbolic links are mounted or used within the storage folder, replace them with the actual paths and verify that they are accessible If the MariaDB service has been \"killed\" or otherwise automatically terminated, this can point to a memory problem (add swap and/or memory; remove or increase usage limits) In case the logs also show \"disk full\", \"quota exceeded\", or \"no space left\" errors, either the disk containing the storage folder is full (add storage) or a disk usage limit is configured (remove or increase it) Log messages that contain \"no route to host\" may also indicate a general network configuration problem (follow our examples ) You have to resort to alternative Docker images to run MariaDB on ARMv7-based devices and those with a 32-bit operating system","title":"Cannot Connect"},{"location":"getting-started/troubleshooting/mariadb/#server-migration","text":"When moving MariaDB to another computer, cloud server, or virtual machine: Move the complete storage folder along with it and preserve the file permissions or restore your index from an SQL dump (backup file) Perform a version upgrade if necessary Make sure that PhotoPrism can access the database on the new host Set strong passwords if the database is exposed to an external network Never expose your database to the public Internet","title":"Server Migration"},{"location":"getting-started/troubleshooting/mariadb/#version-upgrade","text":"If the database doesn't start properly after upgrading from an earlier MySQL or MariaDB version, you may need to run this command in a terminal: docker-compose exec mariadb mariadb-upgrade -uroot -p Enter the MariaDB \"root\" password specified in your docker-compose.yml when prompted. Alternatively, you can downgrade to the previous version, create a database backup using the photoprism backup command, start a new database instance based on the latest version, and then restore your index with the photoprism restore command.","title":"Version Upgrade"},{"location":"getting-started/troubleshooting/mariadb/#lost-root-password","text":"In case you forgot the MariaDB \"root\" password and the one specified in your configuration does not work, you can start the server with the --skip-grant-tables flag added to the mysqld command in your docker-compose.yml . This will temporarily give full access to all users after a restart: services : mariadb : command : mysqld --skip-grant-tables Restart the mariadb service for changes to take effect: docker-compose stop mariadb docker-compose up -d mariadb Now open a database console: docker-compose exec mariadb mysql -uroot Enter the following commands to change the password for \"root\": FLUSH PRIVILEGES ; ALTER USER 'root' @ '%' IDENTIFIED BY 'new_password' ; ALTER USER 'root' @ 'localhost' IDENTIFIED BY 'new_password' ; UPDATE mysql . user SET authentication_string = '' WHERE user = 'root' ; UPDATE mysql . user SET plugin = '' WHERE user = 'root' ; exit When you are done, remove the --skip-grant-tables flag again to restore the original command and restart the mariadb service as described above.","title":"Lost Root Password"},{"location":"getting-started/troubleshooting/mariadb/#corrupted-files","text":"If your database files get corrupted frequently, it is usually because they are stored on an unreliable device such as a USB flash drive, an SD card, or a shared network folder. Never use the same database files with more than one server instance To share a database over a network, run the database server directly on the remote server instead of sharing database files To repair your tables after you have moved the files to a local disk, you can start MariaDB with --innodb-force-recovery=1 (otherwise the same procedure as for recovering a lost password, see above)","title":"Corrupted Files"},{"location":"getting-started/troubleshooting/mariadb/#unicode-support","text":"If the logs show \"incorrect string value\" database errors and you are running a custom MariaDB or MySQL server that is not based on our default configuration : Full Unicode support must be enabled , e.g. using the mysqld command parameters --character-set-server=utf8mb4 and --collation-server=utf8mb4_unicode_ci Note that an existing database may use a different character set if you imported it from another server Before submitting a support request, verify the problem still occurs with a newly created database based on our example Run this command in a terminal to see the current values of the collation and character set variables (change the root password insecure and database name photoprism as specified in your docker-compose.yml ): echo \"SHOW VARIABLES WHERE Variable_name LIKE 'character\\_set\\_%' OR Variable_name LIKE 'collation%';\" | \\ docker-compose exec -T mariadb mysql -uroot -pinsecure photoprism","title":"Unicode Support"},{"location":"getting-started/troubleshooting/mariadb/#mysql-errors","text":"Official support for MySQL 8 is discontinued as Oracle seems to have stopped shipping new features and improvements . As a result, the testing effort required before each release is no longer feasible.","title":"MySQL Errors"},{"location":"getting-started/troubleshooting/performance/","text":"Performance Tips \u00b6 MariaDB \u00b6 The InnoDB buffer pool serves as a cache for data and indexes. It is a key component for optimizing MariaDB performance. Its size should be as large as possible to keep frequently used data in memory and reduce disk I/O - typically the biggest bottleneck. By default, the size of the buffer pool is only 128 MB. You can change it using the --innodb-buffer-pool-size parameter in the database service config of your docker-compose.yml . M stands for Megabyte, G for Gigabyte. Do not use spaces. If your server has plenty of physical memory, we recommend increasing the size to 1 or 2 GB: services : mariadb : command : mysqld --innodb-buffer-pool-size=1G ... Advanced users can further improve the database performance by changing additional parameters , for example based on recommendations provided by the mysqltuner.pl script. Remember to also increase the memory available to services in case you are using Docker Desktop on Windows or macOS. If PhotoPrism and MariaDB are running in a virtual machine, the available memory must be increased as well. For details, refer to the corresponding documentation. Storage \u00b6 Local Solid-State Drives (SSDs) are best for databases of any kind: database performance extremely benefits from high throughput which HDDs can't provide SSDs have more predictable performance and can handle more concurrent requests due to the HDD seek time, HDDs only support 5% of the reads per second of SSDs the cost savings from using slow hard disks are minimal Switching to SSDs makes a big difference, especially for write operations and when the read cache is not big enough or can't be used. Never store database files on an unreliable device such as a USB flash drive, an SD card, or a shared network folder. Memory \u00b6 Indexing large photo and video collections benefits from plenty of memory for caching and processing large media files. Ideally, the amount of RAM should match the number of physical CPU cores. If not, reduce the number of workers as explained below . Especially the conversion of RAW images and the transcoding of videos are very demanding. High-resolution panoramic images may require additional swap space and/or physical memory above the recommended minimum . RAW image conversion and TensorFlow are disabled on systems with 1 GB or less memory. We take no responsibility for instability or performance problems if your device does not meet the requirements. Server CPU \u00b6 Last but not least, performance can be limited by your server CPU. If you've tried everything else, then only moving your instance to a more powerful device or cloud server may help. Be aware that most NAS devices are optimized for minimal power consumption and low production costs. Although their hardware gets faster with each generation, benchmarks show that even 8-year-old standard desktop CPUs like the Intel Core i3-4130 are often many times faster: Legacy Hardware \u00b6 It is a known issue that the user interface and backend operations, especially face recognition, can be slow or even crash on older hardware due to a lack of resources. Like most applications, PhotoPrism has certain requirements and our development process does not include testing on unsupported or unusual hardware. In many cases, performance can be improved through optimizations. Since these can prove to be very time-consuming and cost-intensive in practice, users and developers must decide on a case-by-case basis whether this provides sufficient benefit in relation to the costs or whether the use of more powerful hardware is faster and cheaper overall. We kindly ask you not to open a problem report on GitHub Issues for poor performance on older hardware until a full cause and feasibility analysis has been performed. GitHub Discussions or any of our other public forums and communities are great places to start a discussion. That being said, one of the advantages of open source software is that users can submit pull requests with performance and other improvements they would like to see implemented. This will result in a much faster solution than waiting for a core team member to remotely analyze your problem and then provide a fix. Troubleshooting \u00b6 If your server runs out of memory, the index is frequently locked, or other system resources are running low: Try reducing the number of workers by setting PHOTOPRISM_WORKERS to a reasonably small value in docker-compose.yml , depending on the CPU performance and number of cores Make sure your server has at least 4 GB of swap space so that indexing doesn't cause restarts when memory usage spikes; RAW image conversion and video transcoding are especially demanding If you are using SQLite , switch to MariaDB, which is better optimized for high concurrency As a last measure, you can disable the use of TensorFlow for image classification and facial recognition Other issues? Our troubleshooting checklists help you quickly diagnose and solve them. You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request , try to determine the cause of your problem .","title":"Performance"},{"location":"getting-started/troubleshooting/performance/#performance-tips","text":"","title":"Performance Tips"},{"location":"getting-started/troubleshooting/performance/#mariadb","text":"The InnoDB buffer pool serves as a cache for data and indexes. It is a key component for optimizing MariaDB performance. Its size should be as large as possible to keep frequently used data in memory and reduce disk I/O - typically the biggest bottleneck. By default, the size of the buffer pool is only 128 MB. You can change it using the --innodb-buffer-pool-size parameter in the database service config of your docker-compose.yml . M stands for Megabyte, G for Gigabyte. Do not use spaces. If your server has plenty of physical memory, we recommend increasing the size to 1 or 2 GB: services : mariadb : command : mysqld --innodb-buffer-pool-size=1G ... Advanced users can further improve the database performance by changing additional parameters , for example based on recommendations provided by the mysqltuner.pl script. Remember to also increase the memory available to services in case you are using Docker Desktop on Windows or macOS. If PhotoPrism and MariaDB are running in a virtual machine, the available memory must be increased as well. For details, refer to the corresponding documentation.","title":"MariaDB"},{"location":"getting-started/troubleshooting/performance/#storage","text":"Local Solid-State Drives (SSDs) are best for databases of any kind: database performance extremely benefits from high throughput which HDDs can't provide SSDs have more predictable performance and can handle more concurrent requests due to the HDD seek time, HDDs only support 5% of the reads per second of SSDs the cost savings from using slow hard disks are minimal Switching to SSDs makes a big difference, especially for write operations and when the read cache is not big enough or can't be used. Never store database files on an unreliable device such as a USB flash drive, an SD card, or a shared network folder.","title":"Storage"},{"location":"getting-started/troubleshooting/performance/#memory","text":"Indexing large photo and video collections benefits from plenty of memory for caching and processing large media files. Ideally, the amount of RAM should match the number of physical CPU cores. If not, reduce the number of workers as explained below . Especially the conversion of RAW images and the transcoding of videos are very demanding. High-resolution panoramic images may require additional swap space and/or physical memory above the recommended minimum . RAW image conversion and TensorFlow are disabled on systems with 1 GB or less memory. We take no responsibility for instability or performance problems if your device does not meet the requirements.","title":"Memory"},{"location":"getting-started/troubleshooting/performance/#server-cpu","text":"Last but not least, performance can be limited by your server CPU. If you've tried everything else, then only moving your instance to a more powerful device or cloud server may help. Be aware that most NAS devices are optimized for minimal power consumption and low production costs. Although their hardware gets faster with each generation, benchmarks show that even 8-year-old standard desktop CPUs like the Intel Core i3-4130 are often many times faster:","title":"Server CPU"},{"location":"getting-started/troubleshooting/performance/#legacy-hardware","text":"It is a known issue that the user interface and backend operations, especially face recognition, can be slow or even crash on older hardware due to a lack of resources. Like most applications, PhotoPrism has certain requirements and our development process does not include testing on unsupported or unusual hardware. In many cases, performance can be improved through optimizations. Since these can prove to be very time-consuming and cost-intensive in practice, users and developers must decide on a case-by-case basis whether this provides sufficient benefit in relation to the costs or whether the use of more powerful hardware is faster and cheaper overall. We kindly ask you not to open a problem report on GitHub Issues for poor performance on older hardware until a full cause and feasibility analysis has been performed. GitHub Discussions or any of our other public forums and communities are great places to start a discussion. That being said, one of the advantages of open source software is that users can submit pull requests with performance and other improvements they would like to see implemented. This will result in a much faster solution than waiting for a core team member to remotely analyze your problem and then provide a fix.","title":"Legacy Hardware"},{"location":"getting-started/troubleshooting/performance/#troubleshooting","text":"If your server runs out of memory, the index is frequently locked, or other system resources are running low: Try reducing the number of workers by setting PHOTOPRISM_WORKERS to a reasonably small value in docker-compose.yml , depending on the CPU performance and number of cores Make sure your server has at least 4 GB of swap space so that indexing doesn't cause restarts when memory usage spikes; RAW image conversion and video transcoding are especially demanding If you are using SQLite , switch to MariaDB, which is better optimized for high concurrency As a last measure, you can disable the use of TensorFlow for image classification and facial recognition Other issues? Our troubleshooting checklists help you quickly diagnose and solve them. You are welcome to ask for help in our community chat . Sponsors receive direct technical support via email. Before submitting a support request , try to determine the cause of your problem .","title":"Troubleshooting"},{"location":"license/agpl/","text":"GNU Affero General Public License \u00b6 Version 3, 19 November 2007 Copyright \u00a9 2007 Free Software Foundation, Inc. Everyone is permitted to copy and distribute verbatim copies of this license document, but changing it is not allowed. Preamble \u00b6 The GNU Affero General Public License is a free, copyleft license for software and other kinds of works, specifically designed to ensure cooperation with the community in the case of network server software. The licenses for most software and other practical works are designed to take away your freedom to share and change the works. By contrast, our General Public Licenses are intended to guarantee your freedom to share and change all versions of a program--to make sure it remains free software for all its users. When we speak of free software, we are referring to freedom, not price. Our General Public Licenses are designed to make sure that you have the freedom to distribute copies of free software (and charge for them if you wish), that you receive source code or can get it if you want it, that you can change the software or use pieces of it in new free programs, and that you know you can do these things. Developers that use our General Public Licenses protect your rights with two steps: (1) assert copyright on the software, and (2) offer you this License which gives you legal permission to copy, distribute and/or modify the software. A secondary benefit of defending all users' freedom is that improvements made in alternate versions of the program, if they receive widespread use, become available for other developers to incorporate. Many developers of free software are heartened and encouraged by the resulting cooperation. However, in the case of software used on network servers, this result may fail to come about. The GNU General Public License permits making a modified version and letting the public access it on a server without ever releasing its source code to the public. The GNU Affero General Public License is designed specifically to ensure that, in such cases, the modified source code becomes available to the community. It requires the operator of a network server to provide the source code of the modified version running there to the users of that server. Therefore, public use of a modified version, on a publicly accessible server, gives the public access to the source code of the modified version. An older license, called the Affero General Public License and published by Affero, was designed to accomplish similar goals. This is a different license, not a version of the Affero GPL, but Affero has released a new version of the Affero GPL which permits relicensing under this license. The precise terms and conditions for copying, distribution and modification follow. TERMS AND CONDITIONS \u00b6 0. Definitions \u00b6 \u201cThis License\u201d refers to version 3 of the GNU Affero General Public License. \u201cCopyright\u201d also means copyright-like laws that apply to other kinds of works, such as semiconductor masks. \u201cThe Program\u201d refers to any copyrightable work licensed under this License. Each licensee is addressed as \u201cyou\u201d. \u201cLicensees\u201d and \u201crecipients\u201d may be individuals or organizations. To \u201cmodify\u201d a work means to copy from or adapt all or part of the work in a fashion requiring copyright permission, other than the making of an exact copy. The resulting work is called a \u201cmodified version\u201d of the earlier work or a work \u201cbased on\u201d the earlier work. A \u201ccovered work\u201d means either the unmodified Program or a work based on the Program. To \u201cpropagate\u201d a work means to do anything with it that, without permission, would make you directly or secondarily liable for infringement under applicable copyright law, except executing it on a computer or modifying a private copy. Propagation includes copying, distribution (with or without modification), making available to the public, and in some countries other activities as well. To \u201cconvey\u201d a work means any kind of propagation that enables other parties to make or receive copies. Mere interaction with a user through a computer network, with no transfer of a copy, is not conveying. An interactive user interface displays \u201cAppropriate Legal Notices\u201d to the extent that it includes a convenient and prominently visible feature that (1) displays an appropriate copyright notice, and (2) tells the user that there is no warranty for the work (except to the extent that warranties are provided), that licensees may convey the work under this License, and how to view a copy of this License. If the interface presents a list of user commands or options, such as a menu, a prominent item in the list meets this criterion. 1. Source Code \u00b6 The \u201csource code\u201d for a work means the preferred form of the work for making modifications to it. \u201cObject code\u201d means any non-source form of a work. A \u201cStandard Interface\u201d means an interface that either is an official standard defined by a recognized standards body, or, in the case of interfaces specified for a particular programming language, one that is widely used among developers working in that language. The \u201cSystem Libraries\u201d of an executable work include anything, other than the work as a whole, that (a) is included in the normal form of packaging a Major Component, but which is not part of that Major Component, and (b) serves only to enable use of the work with that Major Component, or to implement a Standard Interface for which an implementation is available to the public in source code form. A \u201cMajor Component\u201d, in this context, means a major essential component (kernel, window system, and so on) of the specific operating system (if any) on which the executable work runs, or a compiler used to produce the work, or an object code interpreter used to run it. The \u201cCorresponding Source\u201d for a work in object code form means all the source code needed to generate, install, and (for an executable work) run the object code and to modify the work, including scripts to control those activities. However, it does not include the work's System Libraries, or general-purpose tools or generally available free programs which are used unmodified in performing those activities but which are not part of the work. For example, Corresponding Source includes interface definition files associated with source files for the work, and the source code for shared libraries and dynamically linked subprograms that the work is specifically designed to require, such as by intimate data communication or control flow between those subprograms and other parts of the work. The Corresponding Source need not include anything that users can regenerate automatically from other parts of the Corresponding Source. The Corresponding Source for a work in source code form is that same work. 2. Basic Permissions \u00b6 All rights granted under this License are granted for the term of copyright on the Program, and are irrevocable provided the stated conditions are met. This License explicitly affirms your unlimited permission to run the unmodified Program. The output from running a covered work is covered by this License only if the output, given its content, constitutes a covered work. This License acknowledges your rights of fair use or other equivalent, as provided by copyright law. You may make, run and propagate covered works that you do not convey, without conditions so long as your license otherwise remains in force. You may convey covered works to others for the sole purpose of having them make modifications exclusively for you, or provide you with facilities for running those works, provided that you comply with the terms of this License in conveying all material for which you do not control copyright. Those thus making or running the covered works for you must do so exclusively on your behalf, under your direction and control, on terms that prohibit them from making any copies of your copyrighted material outside their relationship with you. Conveying under any other circumstances is permitted solely under the conditions stated below. Sublicensing is not allowed; section 10 makes it unnecessary. 3. Protecting Users' Legal Rights From Anti-Circumvention Law \u00b6 No covered work shall be deemed part of an effective technological measure under any applicable law fulfilling obligations under article 11 of the WIPO copyright treaty adopted on 20 December 1996, or similar laws prohibiting or restricting circumvention of such measures. When you convey a covered work, you waive any legal power to forbid circumvention of technological measures to the extent such circumvention is effected by exercising rights under this License with respect to the covered work, and you disclaim any intention to limit operation or modification of the work as a means of enforcing, against the work's users, your or third parties' legal rights to forbid circumvention of technological measures. 4. Conveying Verbatim Copies \u00b6 You may convey verbatim copies of the Program's source code as you receive it, in any medium, provided that you conspicuously and appropriately publish on each copy an appropriate copyright notice; keep intact all notices stating that this License and any non-permissive terms added in accord with section 7 apply to the code; keep intact all notices of the absence of any warranty; and give all recipients a copy of this License along with the Program. You may charge any price or no price for each copy that you convey, and you may offer support or warranty protection for a fee. 5. Conveying Modified Source Versions \u00b6 You may convey a work based on the Program, or the modifications to produce it from the Program, in the form of source code under the terms of section 4, provided that you also meet all of these conditions: a) The work must carry prominent notices stating that you modified it, and giving a relevant date. b) The work must carry prominent notices stating that it is released under this License and any conditions added under section 7. This requirement modifies the requirement in section 4 to \u201ckeep intact all notices\u201d. c) You must license the entire work, as a whole, under this License to anyone who comes into possession of a copy. This License will therefore apply, along with any applicable section 7 additional terms, to the whole of the work, and all its parts, regardless of how they are packaged. This License gives no permission to license the work in any other way, but it does not invalidate such permission if you have separately received it. d) If the work has interactive user interfaces, each must display Appropriate Legal Notices; however, if the Program has interactive interfaces that do not display Appropriate Legal Notices, your work need not make them do so. A compilation of a covered work with other separate and independent works, which are not by their nature extensions of the covered work, and which are not combined with it such as to form a larger program, in or on a volume of a storage or distribution medium, is called an \u201caggregate\u201d if the compilation and its resulting copyright are not used to limit the access or legal rights of the compilation's users beyond what the individual works permit. Inclusion of a covered work in an aggregate does not cause this License to apply to the other parts of the aggregate. 6. Conveying Non-Source Forms \u00b6 You may convey a covered work in object code form under the terms of sections 4 and 5, provided that you also convey the machine-readable Corresponding Source under the terms of this License, in one of these ways: a) Convey the object code in, or embodied in, a physical product (including a physical distribution medium), accompanied by the Corresponding Source fixed on a durable physical medium customarily used for software interchange. b) Convey the object code in, or embodied in, a physical product (including a physical distribution medium), accompanied by a written offer, valid for at least three years and valid for as long as you offer spare parts or customer support for that product model, to give anyone who possesses the object code either (1) a copy of the Corresponding Source for all the software in the product that is covered by this License, on a durable physical medium customarily used for software interchange, for a price no more than your reasonable cost of physically performing this conveying of source, or (2) access to copy the Corresponding Source from a network server at no charge. c) Convey individual copies of the object code with a copy of the written offer to provide the Corresponding Source. This alternative is allowed only occasionally and noncommercially, and only if you received the object code with such an offer, in accord with subsection 6b. d) Convey the object code by offering access from a designated place (gratis or for a charge), and offer equivalent access to the Corresponding Source in the same way through the same place at no further charge. You need not require recipients to copy the Corresponding Source along with the object code. If the place to copy the object code is a network server, the Corresponding Source may be on a different server (operated by you or a third party) that supports equivalent copying facilities, provided you maintain clear directions next to the object code saying where to find the Corresponding Source. Regardless of what server hosts the Corresponding Source, you remain obligated to ensure that it is available for as long as needed to satisfy these requirements. e) Convey the object code using peer-to-peer transmission, provided you inform other peers where the object code and Corresponding Source of the work are being offered to the general public at no charge under subsection 6d. A separable portion of the object code, whose source code is excluded from the Corresponding Source as a System Library, need not be included in conveying the object code work. A \u201cUser Product\u201d is either (1) a \u201cconsumer product\u201d, which means any tangible personal property which is normally used for personal, family, or household purposes, or (2) anything designed or sold for incorporation into a dwelling. In determining whether a product is a consumer product, doubtful cases shall be resolved in favor of coverage. For a particular product received by a particular user, \u201cnormally used\u201d refers to a typical or common use of that class of product, regardless of the status of the particular user or of the way in which the particular user actually uses, or expects or is expected to use, the product. A product is a consumer product regardless of whether the product has substantial commercial, industrial or non-consumer uses, unless such uses represent the only significant mode of use of the product. \u201cInstallation Information\u201d for a User Product means any methods, procedures, authorization keys, or other information required to install and execute modified versions of a covered work in that User Product from a modified version of its Corresponding Source. The information must suffice to ensure that the continued functioning of the modified object code is in no case prevented or interfered with solely because modification has been made. If you convey an object code work under this section in, or with, or specifically for use in, a User Product, and the conveying occurs as part of a transaction in which the right of possession and use of the User Product is transferred to the recipient in perpetuity or for a fixed term (regardless of how the transaction is characterized), the Corresponding Source conveyed under this section must be accompanied by the Installation Information. But this requirement does not apply if neither you nor any third party retains the ability to install modified object code on the User Product (for example, the work has been installed in ROM). The requirement to provide Installation Information does not include a requirement to continue to provide support service, warranty, or updates for a work that has been modified or installed by the recipient, or for the User Product in which it has been modified or installed. Access to a network may be denied when the modification itself materially and adversely affects the operation of the network or violates the rules and protocols for communication across the network. Corresponding Source conveyed, and Installation Information provided, in accord with this section must be in a format that is publicly documented (and with an implementation available to the public in source code form), and must require no special password or key for unpacking, reading or copying. 7. Additional Terms \u00b6 \u201cAdditional permissions\u201d are terms that supplement the terms of this License by making exceptions from one or more of its conditions. Additional permissions that are applicable to the entire Program shall be treated as though they were included in this License, to the extent that they are valid under applicable law. If additional permissions apply only to part of the Program, that part may be used separately under those permissions, but the entire Program remains governed by this License without regard to the additional permissions. When you convey a copy of a covered work, you may at your option remove any additional permissions from that copy, or from any part of it. (Additional permissions may be written to require their own removal in certain cases when you modify the work.) You may place additional permissions on material, added by you to a covered work, for which you have or can give appropriate copyright permission. Notwithstanding any other provision of this License, for material you add to a covered work, you may (if authorized by the copyright holders of that material) supplement the terms of this License with terms: a) Disclaiming warranty or limiting liability differently from the terms of sections 15 and 16 of this License; or b) Requiring preservation of specified reasonable legal notices or author attributions in that material or in the Appropriate Legal Notices displayed by works containing it; or c) Prohibiting misrepresentation of the origin of that material, or requiring that modified versions of such material be marked in reasonable ways as different from the original version; or d) Limiting the use for publicity purposes of names of licensors or authors of the material; or e) Declining to grant rights under trademark law for use of some trade names, trademarks, or service marks; or f) Requiring indemnification of licensors and authors of that material by anyone who conveys the material (or modified versions of it) with contractual assumptions of liability to the recipient, for any liability that these contractual assumptions directly impose on those licensors and authors. All other non-permissive additional terms are considered \u201cfurther restrictions\u201d within the meaning of section 10. If the Program as you received it, or any part of it, contains a notice stating that it is governed by this License along with a term that is a further restriction, you may remove that term. If a license document contains a further restriction but permits relicensing or conveying under this License, you may add to a covered work material governed by the terms of that license document, provided that the further restriction does not survive such relicensing or conveying. If you add terms to a covered work in accord with this section, you must place, in the relevant source files, a statement of the additional terms that apply to those files, or a notice indicating where to find the applicable terms. Additional terms, permissive or non-permissive, may be stated in the form of a separately written license, or stated as exceptions; the above requirements apply either way. 8. Termination \u00b6 You may not propagate or modify a covered work except as expressly provided under this License. Any attempt otherwise to propagate or modify it is void, and will automatically terminate your rights under this License (including any patent licenses granted under the third paragraph of section 11). However, if you cease all violation of this License, then your license from a particular copyright holder is reinstated (a) provisionally, unless and until the copyright holder explicitly and finally terminates your license, and (b) permanently, if the copyright holder fails to notify you of the violation by some reasonable means prior to 60 days after the cessation. Moreover, your license from a particular copyright holder is reinstated permanently if the copyright holder notifies you of the violation by some reasonable means, this is the first time you have received notice of violation of this License (for any work) from that copyright holder, and you cure the violation prior to 30 days after your receipt of the notice. Termination of your rights under this section does not terminate the licenses of parties who have received copies or rights from you under this License. If your rights have been terminated and not permanently reinstated, you do not qualify to receive new licenses for the same material under section 10. 9. Acceptance Not Required for Having Copies \u00b6 You are not required to accept this License in order to receive or run a copy of the Program. Ancillary propagation of a covered work occurring solely as a consequence of using peer-to-peer transmission to receive a copy likewise does not require acceptance. However, nothing other than this License grants you permission to propagate or modify any covered work. These actions infringe copyright if you do not accept this License. Therefore, by modifying or propagating a covered work, you indicate your acceptance of this License to do so. 10. Automatic Licensing of Downstream Recipients \u00b6 Each time you convey a covered work, the recipient automatically receives a license from the original licensors, to run, modify and propagate that work, subject to this License. You are not responsible for enforcing compliance by third parties with this License. An \u201centity transaction\u201d is a transaction transferring control of an organization, or substantially all assets of one, or subdividing an organization, or merging organizations. If propagation of a covered work results from an entity transaction, each party to that transaction who receives a copy of the work also receives whatever licenses to the work the party's predecessor in interest had or could give under the previous paragraph, plus a right to possession of the Corresponding Source of the work from the predecessor in interest, if the predecessor has it or can get it with reasonable efforts. You may not impose any further restrictions on the exercise of the rights granted or affirmed under this License. For example, you may not impose a license fee, royalty, or other charge for exercise of rights granted under this License, and you may not initiate litigation (including a cross-claim or counterclaim in a lawsuit) alleging that any patent claim is infringed by making, using, selling, offering for sale, or importing the Program or any portion of it. 11. Patents \u00b6 A \u201ccontributor\u201d is a copyright holder who authorizes use under this License of the Program or a work on which the Program is based. The work thus licensed is called the contributor's \u201ccontributor version\u201d. A contributor's \u201cessential patent claims\u201d are all patent claims owned or controlled by the contributor, whether already acquired or hereafter acquired, that would be infringed by some manner, permitted by this License, of making, using, or selling its contributor version, but do not include claims that would be infringed only as a consequence of further modification of the contributor version. For purposes of this definition, \u201ccontrol\u201d includes the right to grant patent sublicenses in a manner consistent with the requirements of this License. Each contributor grants you a non-exclusive, worldwide, royalty-free patent license under the contributor's essential patent claims, to make, use, sell, offer for sale, import and otherwise run, modify and propagate the contents of its contributor version. In the following three paragraphs, a \u201cpatent license\u201d is any express agreement or commitment, however denominated, not to enforce a patent (such as an express permission to practice a patent or covenant not to sue for patent infringement). To \u201cgrant\u201d such a patent license to a party means to make such an agreement or commitment not to enforce a patent against the party. If you convey a covered work, knowingly relying on a patent license, and the Corresponding Source of the work is not available for anyone to copy, free of charge and under the terms of this License, through a publicly available network server or other readily accessible means, then you must either (1) cause the Corresponding Source to be so available, or (2) arrange to deprive yourself of the benefit of the patent license for this particular work, or (3) arrange, in a manner consistent with the requirements of this License, to extend the patent license to downstream recipients. \u201cKnowingly relying\u201d means you have actual knowledge that, but for the patent license, your conveying the covered work in a country, or your recipient's use of the covered work in a country, would infringe one or more identifiable patents in that country that you have reason to believe are valid. If, pursuant to or in connection with a single transaction or arrangement, you convey, or propagate by procuring conveyance of, a covered work, and grant a patent license to some of the parties receiving the covered work authorizing them to use, propagate, modify or convey a specific copy of the covered work, then the patent license you grant is automatically extended to all recipients of the covered work and works based on it. A patent license is \u201cdiscriminatory\u201d if it does not include within the scope of its coverage, prohibits the exercise of, or is conditioned on the non-exercise of one or more of the rights that are specifically granted under this License. You may not convey a covered work if you are a party to an arrangement with a third party that is in the business of distributing software, under which you make payment to the third party based on the extent of your activity of conveying the work, and under which the third party grants, to any of the parties who would receive the covered work from you, a discriminatory patent license (a) in connection with copies of the covered work conveyed by you (or copies made from those copies), or (b) primarily for and in connection with specific products or compilations that contain the covered work, unless you entered into that arrangement, or that patent license was granted, prior to 28 March 2007. Nothing in this License shall be construed as excluding or limiting any implied license or other defenses to infringement that may otherwise be available to you under applicable patent law. 12. No Surrender of Others' Freedom \u00b6 If conditions are imposed on you (whether by court order, agreement or otherwise) that contradict the conditions of this License, they do not excuse you from the conditions of this License. If you cannot convey a covered work so as to satisfy simultaneously your obligations under this License and any other pertinent obligations, then as a consequence you may not convey it at all. For example, if you agree to terms that obligate you to collect a royalty for further conveying from those to whom you convey the Program, the only way you could satisfy both those terms and this License would be to refrain entirely from conveying the Program. 13. Remote Network Interaction; Use with the GNU General Public License \u00b6 Notwithstanding any other provision of this License, if you modify the Program, your modified version must prominently offer all users interacting with it remotely through a computer network (if your version supports such interaction) an opportunity to receive the Corresponding Source of your version by providing access to the Corresponding Source from a network server at no charge, through some standard or customary means of facilitating copying of software. This Corresponding Source shall include the Corresponding Source for any work covered by version 3 of the GNU General Public License that is incorporated pursuant to the following paragraph. Notwithstanding any other provision of this License, you have permission to link or combine any covered work with a work licensed under version 3 of the GNU General Public License into a single combined work, and to convey the resulting work. The terms of this License will continue to apply to the part which is the covered work, but the work with which it is combined will remain governed by version 3 of the GNU General Public License. 14. Revised Versions of this License \u00b6 The Free Software Foundation may publish revised and/or new versions of the GNU Affero General Public License from time to time. Such new versions will be similar in spirit to the present version, but may differ in detail to address new problems or concerns. Each version is given a distinguishing version number. If the Program specifies that a certain numbered version of the GNU Affero General Public License \u201cor any later version\u201d applies to it, you have the option of following the terms and conditions either of that numbered version or of any later version published by the Free Software Foundation. If the Program does not specify a version number of the GNU Affero General Public License, you may choose any version ever published by the Free Software Foundation. If the Program specifies that a proxy can decide which future versions of the GNU Affero General Public License can be used, that proxy's public statement of acceptance of a version permanently authorizes you to choose that version for the Program. Later license versions may give you additional or different permissions. However, no additional obligations are imposed on any author or copyright holder as a result of your choosing to follow a later version. 15. Disclaimer of Warranty \u00b6 THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM \u201cAS IS\u201d WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION. 16. Limitation of Liability \u00b6 IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. 17. Interpretation of Sections 15 and 16 \u00b6 If the disclaimer of warranty and limitation of liability provided above cannot be given local legal effect according to their terms, reviewing courts shall apply local law that most closely approximates an absolute waiver of all civil liability in connection with the Program, unless a warranty or assumption of liability accompanies a copy of the Program in return for a fee. ADDITIONAL TERMS \u00b6 18. PhotoPrism\u00ae Trademark and Brand Assets \u00b6 (a) PhotoPrism\u2019s Brand Assets \u2014 including trademarks, logos, icons, fonts, corporate design, product and service names, and any other brand features and elements, whether registered or unregistered (\u201eBrand Assets\u201c) \u2014 are proprietary assets owned exclusively by PhotoPrism UG (\u201ePhotoPrism\u201c). We reserve the right to object to any use or misuse in any jurisdiction worldwide. Visit photoprism.app/trademark to learn more. (b) Contributors, licensees, business partners, and other third parties may never claim ownership of PhotoPrism's Brand Assets or brands confusingly similar to PhotoPrism's Brand Assets in any way, including, without limitation, as a trademark, service mark, company name or designation, domain name, social media profile/handle, or in any other manner. (c) You may not include the PhotoPrism trademark in the name of your app, product, or service, whether commercial or non-commercial in nature. This includes online services such as e-commerce, community, blog, information, advertising, and personal home pages, as well as apps, app stores, client apps, or third-party apps that interact with PhotoPrism. (d) In the event that any provision is found to be unenforceable by a court or other competent jurisdiction, the remaining portions hereof shall remain in full force and effect. END OF TERMS AND CONDITIONS","title":"GNU AGPL"},{"location":"license/agpl/#gnu-affero-general-public-license","text":"Version 3, 19 November 2007 Copyright \u00a9 2007 Free Software Foundation, Inc. Everyone is permitted to copy and distribute verbatim copies of this license document, but changing it is not allowed.","title":"GNU Affero General Public License"},{"location":"license/agpl/#preamble","text":"The GNU Affero General Public License is a free, copyleft license for software and other kinds of works, specifically designed to ensure cooperation with the community in the case of network server software. The licenses for most software and other practical works are designed to take away your freedom to share and change the works. By contrast, our General Public Licenses are intended to guarantee your freedom to share and change all versions of a program--to make sure it remains free software for all its users. When we speak of free software, we are referring to freedom, not price. Our General Public Licenses are designed to make sure that you have the freedom to distribute copies of free software (and charge for them if you wish), that you receive source code or can get it if you want it, that you can change the software or use pieces of it in new free programs, and that you know you can do these things. Developers that use our General Public Licenses protect your rights with two steps: (1) assert copyright on the software, and (2) offer you this License which gives you legal permission to copy, distribute and/or modify the software. A secondary benefit of defending all users' freedom is that improvements made in alternate versions of the program, if they receive widespread use, become available for other developers to incorporate. Many developers of free software are heartened and encouraged by the resulting cooperation. However, in the case of software used on network servers, this result may fail to come about. The GNU General Public License permits making a modified version and letting the public access it on a server without ever releasing its source code to the public. The GNU Affero General Public License is designed specifically to ensure that, in such cases, the modified source code becomes available to the community. It requires the operator of a network server to provide the source code of the modified version running there to the users of that server. Therefore, public use of a modified version, on a publicly accessible server, gives the public access to the source code of the modified version. An older license, called the Affero General Public License and published by Affero, was designed to accomplish similar goals. This is a different license, not a version of the Affero GPL, but Affero has released a new version of the Affero GPL which permits relicensing under this license. The precise terms and conditions for copying, distribution and modification follow.","title":"Preamble"},{"location":"license/agpl/#terms-and-conditions","text":"","title":"TERMS AND CONDITIONS"},{"location":"license/agpl/#0-definitions","text":"\u201cThis License\u201d refers to version 3 of the GNU Affero General Public License. \u201cCopyright\u201d also means copyright-like laws that apply to other kinds of works, such as semiconductor masks. \u201cThe Program\u201d refers to any copyrightable work licensed under this License. Each licensee is addressed as \u201cyou\u201d. \u201cLicensees\u201d and \u201crecipients\u201d may be individuals or organizations. To \u201cmodify\u201d a work means to copy from or adapt all or part of the work in a fashion requiring copyright permission, other than the making of an exact copy. The resulting work is called a \u201cmodified version\u201d of the earlier work or a work \u201cbased on\u201d the earlier work. A \u201ccovered work\u201d means either the unmodified Program or a work based on the Program. To \u201cpropagate\u201d a work means to do anything with it that, without permission, would make you directly or secondarily liable for infringement under applicable copyright law, except executing it on a computer or modifying a private copy. Propagation includes copying, distribution (with or without modification), making available to the public, and in some countries other activities as well. To \u201cconvey\u201d a work means any kind of propagation that enables other parties to make or receive copies. Mere interaction with a user through a computer network, with no transfer of a copy, is not conveying. An interactive user interface displays \u201cAppropriate Legal Notices\u201d to the extent that it includes a convenient and prominently visible feature that (1) displays an appropriate copyright notice, and (2) tells the user that there is no warranty for the work (except to the extent that warranties are provided), that licensees may convey the work under this License, and how to view a copy of this License. If the interface presents a list of user commands or options, such as a menu, a prominent item in the list meets this criterion.","title":"0. Definitions"},{"location":"license/agpl/#1-source-code","text":"The \u201csource code\u201d for a work means the preferred form of the work for making modifications to it. \u201cObject code\u201d means any non-source form of a work. A \u201cStandard Interface\u201d means an interface that either is an official standard defined by a recognized standards body, or, in the case of interfaces specified for a particular programming language, one that is widely used among developers working in that language. The \u201cSystem Libraries\u201d of an executable work include anything, other than the work as a whole, that (a) is included in the normal form of packaging a Major Component, but which is not part of that Major Component, and (b) serves only to enable use of the work with that Major Component, or to implement a Standard Interface for which an implementation is available to the public in source code form. A \u201cMajor Component\u201d, in this context, means a major essential component (kernel, window system, and so on) of the specific operating system (if any) on which the executable work runs, or a compiler used to produce the work, or an object code interpreter used to run it. The \u201cCorresponding Source\u201d for a work in object code form means all the source code needed to generate, install, and (for an executable work) run the object code and to modify the work, including scripts to control those activities. However, it does not include the work's System Libraries, or general-purpose tools or generally available free programs which are used unmodified in performing those activities but which are not part of the work. For example, Corresponding Source includes interface definition files associated with source files for the work, and the source code for shared libraries and dynamically linked subprograms that the work is specifically designed to require, such as by intimate data communication or control flow between those subprograms and other parts of the work. The Corresponding Source need not include anything that users can regenerate automatically from other parts of the Corresponding Source. The Corresponding Source for a work in source code form is that same work.","title":"1. Source Code"},{"location":"license/agpl/#2-basic-permissions","text":"All rights granted under this License are granted for the term of copyright on the Program, and are irrevocable provided the stated conditions are met. This License explicitly affirms your unlimited permission to run the unmodified Program. The output from running a covered work is covered by this License only if the output, given its content, constitutes a covered work. This License acknowledges your rights of fair use or other equivalent, as provided by copyright law. You may make, run and propagate covered works that you do not convey, without conditions so long as your license otherwise remains in force. You may convey covered works to others for the sole purpose of having them make modifications exclusively for you, or provide you with facilities for running those works, provided that you comply with the terms of this License in conveying all material for which you do not control copyright. Those thus making or running the covered works for you must do so exclusively on your behalf, under your direction and control, on terms that prohibit them from making any copies of your copyrighted material outside their relationship with you. Conveying under any other circumstances is permitted solely under the conditions stated below. Sublicensing is not allowed; section 10 makes it unnecessary.","title":"2. Basic Permissions"},{"location":"license/agpl/#3-protecting-users-legal-rights-from-anti-circumvention-law","text":"No covered work shall be deemed part of an effective technological measure under any applicable law fulfilling obligations under article 11 of the WIPO copyright treaty adopted on 20 December 1996, or similar laws prohibiting or restricting circumvention of such measures. When you convey a covered work, you waive any legal power to forbid circumvention of technological measures to the extent such circumvention is effected by exercising rights under this License with respect to the covered work, and you disclaim any intention to limit operation or modification of the work as a means of enforcing, against the work's users, your or third parties' legal rights to forbid circumvention of technological measures.","title":"3. Protecting Users' Legal Rights From Anti-Circumvention Law"},{"location":"license/agpl/#4-conveying-verbatim-copies","text":"You may convey verbatim copies of the Program's source code as you receive it, in any medium, provided that you conspicuously and appropriately publish on each copy an appropriate copyright notice; keep intact all notices stating that this License and any non-permissive terms added in accord with section 7 apply to the code; keep intact all notices of the absence of any warranty; and give all recipients a copy of this License along with the Program. You may charge any price or no price for each copy that you convey, and you may offer support or warranty protection for a fee.","title":"4. Conveying Verbatim Copies"},{"location":"license/agpl/#5-conveying-modified-source-versions","text":"You may convey a work based on the Program, or the modifications to produce it from the Program, in the form of source code under the terms of section 4, provided that you also meet all of these conditions: a) The work must carry prominent notices stating that you modified it, and giving a relevant date. b) The work must carry prominent notices stating that it is released under this License and any conditions added under section 7. This requirement modifies the requirement in section 4 to \u201ckeep intact all notices\u201d. c) You must license the entire work, as a whole, under this License to anyone who comes into possession of a copy. This License will therefore apply, along with any applicable section 7 additional terms, to the whole of the work, and all its parts, regardless of how they are packaged. This License gives no permission to license the work in any other way, but it does not invalidate such permission if you have separately received it. d) If the work has interactive user interfaces, each must display Appropriate Legal Notices; however, if the Program has interactive interfaces that do not display Appropriate Legal Notices, your work need not make them do so. A compilation of a covered work with other separate and independent works, which are not by their nature extensions of the covered work, and which are not combined with it such as to form a larger program, in or on a volume of a storage or distribution medium, is called an \u201caggregate\u201d if the compilation and its resulting copyright are not used to limit the access or legal rights of the compilation's users beyond what the individual works permit. Inclusion of a covered work in an aggregate does not cause this License to apply to the other parts of the aggregate.","title":"5. Conveying Modified Source Versions"},{"location":"license/agpl/#6-conveying-non-source-forms","text":"You may convey a covered work in object code form under the terms of sections 4 and 5, provided that you also convey the machine-readable Corresponding Source under the terms of this License, in one of these ways: a) Convey the object code in, or embodied in, a physical product (including a physical distribution medium), accompanied by the Corresponding Source fixed on a durable physical medium customarily used for software interchange. b) Convey the object code in, or embodied in, a physical product (including a physical distribution medium), accompanied by a written offer, valid for at least three years and valid for as long as you offer spare parts or customer support for that product model, to give anyone who possesses the object code either (1) a copy of the Corresponding Source for all the software in the product that is covered by this License, on a durable physical medium customarily used for software interchange, for a price no more than your reasonable cost of physically performing this conveying of source, or (2) access to copy the Corresponding Source from a network server at no charge. c) Convey individual copies of the object code with a copy of the written offer to provide the Corresponding Source. This alternative is allowed only occasionally and noncommercially, and only if you received the object code with such an offer, in accord with subsection 6b. d) Convey the object code by offering access from a designated place (gratis or for a charge), and offer equivalent access to the Corresponding Source in the same way through the same place at no further charge. You need not require recipients to copy the Corresponding Source along with the object code. If the place to copy the object code is a network server, the Corresponding Source may be on a different server (operated by you or a third party) that supports equivalent copying facilities, provided you maintain clear directions next to the object code saying where to find the Corresponding Source. Regardless of what server hosts the Corresponding Source, you remain obligated to ensure that it is available for as long as needed to satisfy these requirements. e) Convey the object code using peer-to-peer transmission, provided you inform other peers where the object code and Corresponding Source of the work are being offered to the general public at no charge under subsection 6d. A separable portion of the object code, whose source code is excluded from the Corresponding Source as a System Library, need not be included in conveying the object code work. A \u201cUser Product\u201d is either (1) a \u201cconsumer product\u201d, which means any tangible personal property which is normally used for personal, family, or household purposes, or (2) anything designed or sold for incorporation into a dwelling. In determining whether a product is a consumer product, doubtful cases shall be resolved in favor of coverage. For a particular product received by a particular user, \u201cnormally used\u201d refers to a typical or common use of that class of product, regardless of the status of the particular user or of the way in which the particular user actually uses, or expects or is expected to use, the product. A product is a consumer product regardless of whether the product has substantial commercial, industrial or non-consumer uses, unless such uses represent the only significant mode of use of the product. \u201cInstallation Information\u201d for a User Product means any methods, procedures, authorization keys, or other information required to install and execute modified versions of a covered work in that User Product from a modified version of its Corresponding Source. The information must suffice to ensure that the continued functioning of the modified object code is in no case prevented or interfered with solely because modification has been made. If you convey an object code work under this section in, or with, or specifically for use in, a User Product, and the conveying occurs as part of a transaction in which the right of possession and use of the User Product is transferred to the recipient in perpetuity or for a fixed term (regardless of how the transaction is characterized), the Corresponding Source conveyed under this section must be accompanied by the Installation Information. But this requirement does not apply if neither you nor any third party retains the ability to install modified object code on the User Product (for example, the work has been installed in ROM). The requirement to provide Installation Information does not include a requirement to continue to provide support service, warranty, or updates for a work that has been modified or installed by the recipient, or for the User Product in which it has been modified or installed. Access to a network may be denied when the modification itself materially and adversely affects the operation of the network or violates the rules and protocols for communication across the network. Corresponding Source conveyed, and Installation Information provided, in accord with this section must be in a format that is publicly documented (and with an implementation available to the public in source code form), and must require no special password or key for unpacking, reading or copying.","title":"6. Conveying Non-Source Forms"},{"location":"license/agpl/#7-additional-terms","text":"\u201cAdditional permissions\u201d are terms that supplement the terms of this License by making exceptions from one or more of its conditions. Additional permissions that are applicable to the entire Program shall be treated as though they were included in this License, to the extent that they are valid under applicable law. If additional permissions apply only to part of the Program, that part may be used separately under those permissions, but the entire Program remains governed by this License without regard to the additional permissions. When you convey a copy of a covered work, you may at your option remove any additional permissions from that copy, or from any part of it. (Additional permissions may be written to require their own removal in certain cases when you modify the work.) You may place additional permissions on material, added by you to a covered work, for which you have or can give appropriate copyright permission. Notwithstanding any other provision of this License, for material you add to a covered work, you may (if authorized by the copyright holders of that material) supplement the terms of this License with terms: a) Disclaiming warranty or limiting liability differently from the terms of sections 15 and 16 of this License; or b) Requiring preservation of specified reasonable legal notices or author attributions in that material or in the Appropriate Legal Notices displayed by works containing it; or c) Prohibiting misrepresentation of the origin of that material, or requiring that modified versions of such material be marked in reasonable ways as different from the original version; or d) Limiting the use for publicity purposes of names of licensors or authors of the material; or e) Declining to grant rights under trademark law for use of some trade names, trademarks, or service marks; or f) Requiring indemnification of licensors and authors of that material by anyone who conveys the material (or modified versions of it) with contractual assumptions of liability to the recipient, for any liability that these contractual assumptions directly impose on those licensors and authors. All other non-permissive additional terms are considered \u201cfurther restrictions\u201d within the meaning of section 10. If the Program as you received it, or any part of it, contains a notice stating that it is governed by this License along with a term that is a further restriction, you may remove that term. If a license document contains a further restriction but permits relicensing or conveying under this License, you may add to a covered work material governed by the terms of that license document, provided that the further restriction does not survive such relicensing or conveying. If you add terms to a covered work in accord with this section, you must place, in the relevant source files, a statement of the additional terms that apply to those files, or a notice indicating where to find the applicable terms. Additional terms, permissive or non-permissive, may be stated in the form of a separately written license, or stated as exceptions; the above requirements apply either way.","title":"7. Additional Terms"},{"location":"license/agpl/#8-termination","text":"You may not propagate or modify a covered work except as expressly provided under this License. Any attempt otherwise to propagate or modify it is void, and will automatically terminate your rights under this License (including any patent licenses granted under the third paragraph of section 11). However, if you cease all violation of this License, then your license from a particular copyright holder is reinstated (a) provisionally, unless and until the copyright holder explicitly and finally terminates your license, and (b) permanently, if the copyright holder fails to notify you of the violation by some reasonable means prior to 60 days after the cessation. Moreover, your license from a particular copyright holder is reinstated permanently if the copyright holder notifies you of the violation by some reasonable means, this is the first time you have received notice of violation of this License (for any work) from that copyright holder, and you cure the violation prior to 30 days after your receipt of the notice. Termination of your rights under this section does not terminate the licenses of parties who have received copies or rights from you under this License. If your rights have been terminated and not permanently reinstated, you do not qualify to receive new licenses for the same material under section 10.","title":"8. Termination"},{"location":"license/agpl/#9-acceptance-not-required-for-having-copies","text":"You are not required to accept this License in order to receive or run a copy of the Program. Ancillary propagation of a covered work occurring solely as a consequence of using peer-to-peer transmission to receive a copy likewise does not require acceptance. However, nothing other than this License grants you permission to propagate or modify any covered work. These actions infringe copyright if you do not accept this License. Therefore, by modifying or propagating a covered work, you indicate your acceptance of this License to do so.","title":"9. Acceptance Not Required for Having Copies"},{"location":"license/agpl/#10-automatic-licensing-of-downstream-recipients","text":"Each time you convey a covered work, the recipient automatically receives a license from the original licensors, to run, modify and propagate that work, subject to this License. You are not responsible for enforcing compliance by third parties with this License. An \u201centity transaction\u201d is a transaction transferring control of an organization, or substantially all assets of one, or subdividing an organization, or merging organizations. If propagation of a covered work results from an entity transaction, each party to that transaction who receives a copy of the work also receives whatever licenses to the work the party's predecessor in interest had or could give under the previous paragraph, plus a right to possession of the Corresponding Source of the work from the predecessor in interest, if the predecessor has it or can get it with reasonable efforts. You may not impose any further restrictions on the exercise of the rights granted or affirmed under this License. For example, you may not impose a license fee, royalty, or other charge for exercise of rights granted under this License, and you may not initiate litigation (including a cross-claim or counterclaim in a lawsuit) alleging that any patent claim is infringed by making, using, selling, offering for sale, or importing the Program or any portion of it.","title":"10. Automatic Licensing of Downstream Recipients"},{"location":"license/agpl/#11-patents","text":"A \u201ccontributor\u201d is a copyright holder who authorizes use under this License of the Program or a work on which the Program is based. The work thus licensed is called the contributor's \u201ccontributor version\u201d. A contributor's \u201cessential patent claims\u201d are all patent claims owned or controlled by the contributor, whether already acquired or hereafter acquired, that would be infringed by some manner, permitted by this License, of making, using, or selling its contributor version, but do not include claims that would be infringed only as a consequence of further modification of the contributor version. For purposes of this definition, \u201ccontrol\u201d includes the right to grant patent sublicenses in a manner consistent with the requirements of this License. Each contributor grants you a non-exclusive, worldwide, royalty-free patent license under the contributor's essential patent claims, to make, use, sell, offer for sale, import and otherwise run, modify and propagate the contents of its contributor version. In the following three paragraphs, a \u201cpatent license\u201d is any express agreement or commitment, however denominated, not to enforce a patent (such as an express permission to practice a patent or covenant not to sue for patent infringement). To \u201cgrant\u201d such a patent license to a party means to make such an agreement or commitment not to enforce a patent against the party. If you convey a covered work, knowingly relying on a patent license, and the Corresponding Source of the work is not available for anyone to copy, free of charge and under the terms of this License, through a publicly available network server or other readily accessible means, then you must either (1) cause the Corresponding Source to be so available, or (2) arrange to deprive yourself of the benefit of the patent license for this particular work, or (3) arrange, in a manner consistent with the requirements of this License, to extend the patent license to downstream recipients. \u201cKnowingly relying\u201d means you have actual knowledge that, but for the patent license, your conveying the covered work in a country, or your recipient's use of the covered work in a country, would infringe one or more identifiable patents in that country that you have reason to believe are valid. If, pursuant to or in connection with a single transaction or arrangement, you convey, or propagate by procuring conveyance of, a covered work, and grant a patent license to some of the parties receiving the covered work authorizing them to use, propagate, modify or convey a specific copy of the covered work, then the patent license you grant is automatically extended to all recipients of the covered work and works based on it. A patent license is \u201cdiscriminatory\u201d if it does not include within the scope of its coverage, prohibits the exercise of, or is conditioned on the non-exercise of one or more of the rights that are specifically granted under this License. You may not convey a covered work if you are a party to an arrangement with a third party that is in the business of distributing software, under which you make payment to the third party based on the extent of your activity of conveying the work, and under which the third party grants, to any of the parties who would receive the covered work from you, a discriminatory patent license (a) in connection with copies of the covered work conveyed by you (or copies made from those copies), or (b) primarily for and in connection with specific products or compilations that contain the covered work, unless you entered into that arrangement, or that patent license was granted, prior to 28 March 2007. Nothing in this License shall be construed as excluding or limiting any implied license or other defenses to infringement that may otherwise be available to you under applicable patent law.","title":"11. Patents"},{"location":"license/agpl/#12-no-surrender-of-others-freedom","text":"If conditions are imposed on you (whether by court order, agreement or otherwise) that contradict the conditions of this License, they do not excuse you from the conditions of this License. If you cannot convey a covered work so as to satisfy simultaneously your obligations under this License and any other pertinent obligations, then as a consequence you may not convey it at all. For example, if you agree to terms that obligate you to collect a royalty for further conveying from those to whom you convey the Program, the only way you could satisfy both those terms and this License would be to refrain entirely from conveying the Program.","title":"12. No Surrender of Others' Freedom"},{"location":"license/agpl/#13-remote-network-interaction-use-with-the-gnu-general-public-license","text":"Notwithstanding any other provision of this License, if you modify the Program, your modified version must prominently offer all users interacting with it remotely through a computer network (if your version supports such interaction) an opportunity to receive the Corresponding Source of your version by providing access to the Corresponding Source from a network server at no charge, through some standard or customary means of facilitating copying of software. This Corresponding Source shall include the Corresponding Source for any work covered by version 3 of the GNU General Public License that is incorporated pursuant to the following paragraph. Notwithstanding any other provision of this License, you have permission to link or combine any covered work with a work licensed under version 3 of the GNU General Public License into a single combined work, and to convey the resulting work. The terms of this License will continue to apply to the part which is the covered work, but the work with which it is combined will remain governed by version 3 of the GNU General Public License.","title":"13. Remote Network Interaction; Use with the GNU General Public License"},{"location":"license/agpl/#14-revised-versions-of-this-license","text":"The Free Software Foundation may publish revised and/or new versions of the GNU Affero General Public License from time to time. Such new versions will be similar in spirit to the present version, but may differ in detail to address new problems or concerns. Each version is given a distinguishing version number. If the Program specifies that a certain numbered version of the GNU Affero General Public License \u201cor any later version\u201d applies to it, you have the option of following the terms and conditions either of that numbered version or of any later version published by the Free Software Foundation. If the Program does not specify a version number of the GNU Affero General Public License, you may choose any version ever published by the Free Software Foundation. If the Program specifies that a proxy can decide which future versions of the GNU Affero General Public License can be used, that proxy's public statement of acceptance of a version permanently authorizes you to choose that version for the Program. Later license versions may give you additional or different permissions. However, no additional obligations are imposed on any author or copyright holder as a result of your choosing to follow a later version.","title":"14. Revised Versions of this License"},{"location":"license/agpl/#15-disclaimer-of-warranty","text":"THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM \u201cAS IS\u201d WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.","title":"15. Disclaimer of Warranty"},{"location":"license/agpl/#16-limitation-of-liability","text":"IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.","title":"16. Limitation of Liability"},{"location":"license/agpl/#17-interpretation-of-sections-15-and-16","text":"If the disclaimer of warranty and limitation of liability provided above cannot be given local legal effect according to their terms, reviewing courts shall apply local law that most closely approximates an absolute waiver of all civil liability in connection with the Program, unless a warranty or assumption of liability accompanies a copy of the Program in return for a fee.","title":"17. Interpretation of Sections 15 and 16"},{"location":"license/agpl/#additional-terms","text":"","title":"ADDITIONAL TERMS"},{"location":"license/agpl/#18-photoprism-trademark-and-brand-assets","text":"(a) PhotoPrism\u2019s Brand Assets \u2014 including trademarks, logos, icons, fonts, corporate design, product and service names, and any other brand features and elements, whether registered or unregistered (\u201eBrand Assets\u201c) \u2014 are proprietary assets owned exclusively by PhotoPrism UG (\u201ePhotoPrism\u201c). We reserve the right to object to any use or misuse in any jurisdiction worldwide. Visit photoprism.app/trademark to learn more. (b) Contributors, licensees, business partners, and other third parties may never claim ownership of PhotoPrism's Brand Assets or brands confusingly similar to PhotoPrism's Brand Assets in any way, including, without limitation, as a trademark, service mark, company name or designation, domain name, social media profile/handle, or in any other manner. (c) You may not include the PhotoPrism trademark in the name of your app, product, or service, whether commercial or non-commercial in nature. This includes online services such as e-commerce, community, blog, information, advertising, and personal home pages, as well as apps, app stores, client apps, or third-party apps that interact with PhotoPrism. (d) In the event that any provision is found to be unenforceable by a court or other competent jurisdiction, the remaining portions hereof shall remain in full force and effect. END OF TERMS AND CONDITIONS","title":"18. PhotoPrism\u00ae Trademark and Brand Assets"},{"location":"license/docs/","text":"PhotoPrism\u00ae Documentation License \u00b6 Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International Public License \u00b6 By exercising the Licensed Rights (defined below), You accept and agree to be bound by the terms and conditions of this Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International Public License (\"Public License\"). To the extent this Public License may be interpreted as a contract, You are granted the Licensed Rights in consideration of Your acceptance of these terms and conditions, and the Licensor grants You such rights in consideration of benefits the Licensor receives from making the Licensed Material available under these terms and conditions. Section 1 \u2013 Definitions. \u00b6 a. Adapted Material means material subject to Copyright and Similar Rights that is derived from or based upon the Licensed Material and in which the Licensed Material is translated, altered, arranged, transformed, or otherwise modified in a manner requiring permission under the Copyright and Similar Rights held by the Licensor. For purposes of this Public License, where the Licensed Material is a musical work, performance, or sound recording, Adapted Material is always produced where the Licensed Material is synched in timed relation with a moving image. b. Adapter's License means the license You apply to Your Copyright and Similar Rights in Your contributions to Adapted Material in accordance with the terms and conditions of this Public License. c. BY-NC-SA Compatible License means a license listed at creativecommons.org/compatiblelicenses , approved by Creative Commons as essentially the equivalent of this Public License. d. Copyright and Similar Rights means copyright and/or similar rights closely related to copyright including, without limitation, performance, broadcast, sound recording, and Sui Generis Database Rights, without regard to how the rights are labeled or categorized. For purposes of this Public License, the rights specified in Section 2(b)(1)-(2) are not Copyright and Similar Rights. e. Effective Technological Measures means those measures that, in the absence of proper authority, may not be circumvented under laws fulfilling obligations under Article 11 of the WIPO Copyright Treaty adopted on December 20, 1996, and/or similar international agreements. f. Exceptions and Limitations means fair use, fair dealing, and/or any other exception or limitation to Copyright and Similar Rights that applies to Your use of the Licensed Material. g. License Elements means the license attributes listed in the name of a Creative Commons Public License. The License Elements of this Public License are Attribution, NonCommercial, and ShareAlike. h. Licensed Material means the artistic or literary work, database, or other material to which the Licensor applied this Public License. i. Licensed Rights means the rights granted to You subject to the terms and conditions of this Public License, which are limited to all Copyright and Similar Rights that apply to Your use of the Licensed Material and that the Licensor has authority to license. h. Licensor means the individual(s) or entity(ies) granting rights under this Public License. i. NonCommercial means not primarily intended for or directed towards commercial advantage or monetary compensation. For purposes of this Public License, the exchange of the Licensed Material for other material subject to Copyright and Similar Rights by digital file-sharing or similar means is NonCommercial provided there is no payment of monetary compensation in connection with the exchange. j. Share means to provide material to the public by any means or process that requires permission under the Licensed Rights, such as reproduction, public display, public performance, distribution, dissemination, communication, or importation, and to make material available to the public including in ways that members of the public may access the material from a place and at a time individually chosen by them. k. Sui Generis Database Rights means rights other than copyright resulting from Directive 96/9/EC of the European Parliament and of the Council of 11 March 1996 on the legal protection of databases, as amended and/or succeeded, as well as other essentially equivalent rights anywhere in the world. l. You means the individual or entity exercising the Licensed Rights under this Public License. Your has a corresponding meaning. Section 2 \u2013 Scope. \u00b6 a. License grant. Subject to the terms and conditions of this Public License, the Licensor hereby grants You a worldwide, royalty-free, non-sublicensable, non-exclusive, irrevocable license to exercise the Licensed Rights in the Licensed Material to: A. reproduce and Share the Licensed Material, in whole or in part, for NonCommercial purposes only; and B. produce, reproduce, and Share Adapted Material for NonCommercial purposes only. Exceptions and Limitations. For the avoidance of doubt, where Exceptions and Limitations apply to Your use, this Public License does not apply, and You do not need to comply with its terms and conditions. Term. The term of this Public License is specified in Section 6(a). Media and formats; technical modifications allowed. The Licensor authorizes You to exercise the Licensed Rights in all media and formats whether now known or hereafter created, and to make technical modifications necessary to do so. The Licensor waives and/or agrees not to assert any right or authority to forbid You from making technical modifications necessary to exercise the Licensed Rights, including technical modifications necessary to circumvent Effective Technological Measures. For purposes of this Public License, simply making modifications authorized by this Section 2(a)(4) never produces Adapted Material. Downstream recipients. A. Offer from the Licensor \u2013 Licensed Material. Every recipient of the Licensed Material automatically receives an offer from the Licensor to exercise the Licensed Rights under the terms and conditions of this Public License. B. Additional offer from the Licensor \u2013 Adapted Material. Every recipient of Adapted Material from You automatically receives an offer from the Licensor to exercise the Licensed Rights in the Adapted Material under the conditions of the Adapter\u2019s License You apply. C. No downstream restrictions. You may not offer or impose any additional or different terms or conditions on, or apply any Effective Technological Measures to, the Licensed Material if doing so restricts exercise of the Licensed Rights by any recipient of the Licensed Material. No endorsement. Nothing in this Public License constitutes or may be construed as permission to assert or imply that You are, or that Your use of the Licensed Material is, connected with, or sponsored, endorsed, or granted official status by, the Licensor or others designated to receive attribution as provided in Section 3(a)(1)(A)(i). b. Other rights. Moral rights, such as the right of integrity, are not licensed under this Public License, nor are publicity, privacy, and/or other similar personality rights; however, to the extent possible, the Licensor waives and/or agrees not to assert any such rights held by the Licensor to the limited extent necessary to allow You to exercise the Licensed Rights, but not otherwise. Patent and trademark rights are not licensed under this Public License. To the extent possible, the Licensor waives any right to collect royalties from You for the exercise of the Licensed Rights, whether directly or through a collecting society under any voluntary or waivable statutory or compulsory licensing scheme. In all other cases the Licensor expressly reserves any right to collect such royalties, including when the Licensed Material is used other than for NonCommercial purposes. Section 3 \u2013 License Conditions. \u00b6 Your exercise of the Licensed Rights is expressly made subject to the following conditions. a. Attribution. If You Share the Licensed Material (including in modified form), You must: A. retain the following if it is supplied by the Licensor with the Licensed Material: i. identification of the creator(s) of the Licensed Material and any others designated to receive attribution, in any reasonable manner requested by the Licensor (including by pseudonym if designated); ii. a copyright notice; iii. a notice that refers to this Public License; iv. a notice that refers to the disclaimer of warranties; v. a URI or hyperlink to the Licensed Material to the extent reasonably practicable; B. indicate if You modified the Licensed Material and retain an indication of any previous modifications; and C. indicate the Licensed Material is licensed under this Public License, and include the text of, or the URI or hyperlink to, this Public License. You may satisfy the conditions in Section 3(a)(1) in any reasonable manner based on the medium, means, and context in which You Share the Licensed Material. For example, it may be reasonable to satisfy the conditions by providing a URI or hyperlink to a resource that includes the required information. If requested by the Licensor, You must remove any of the information required by Section 3(a)(1)(A) to the extent reasonably practicable. b. ShareAlike. In addition to the conditions in Section 3(a), if You Share Adapted Material You produce, the following conditions also apply. The Adapter\u2019s License You apply must be a Creative Commons license with the same License Elements, this version or later, or a BY-NC-SA Compatible License. You must include the text of, or the URI or hyperlink to, the Adapter's License You apply. You may satisfy this condition in any reasonable manner based on the medium, means, and context in which You Share Adapted Material. You may not offer or impose any additional or different terms or conditions on, or apply any Effective Technological Measures to, Adapted Material that restrict exercise of the rights granted under the Adapter's License You apply. Section 4 \u2013 Sui Generis Database Rights. \u00b6 Where the Licensed Rights include Sui Generis Database Rights that apply to Your use of the Licensed Material: a. for the avoidance of doubt, Section 2(a)(1) grants You the right to extract, reuse, reproduce, and Share all or a substantial portion of the contents of the database for NonCommercial purposes only; b. if You include all or a substantial portion of the database contents in a database in which You have Sui Generis Database Rights, then the database in which You have Sui Generis Database Rights (but not its individual contents) is Adapted Material, including for purposes of Section 3(b); and c. You must comply with the conditions in Section 3(a) if You Share all or a substantial portion of the contents of the database. For the avoidance of doubt, this Section 4 supplements and does not replace Your obligations under this Public License where the Licensed Rights include other Copyright and Similar Rights. Section 5 \u2013 Disclaimer of Warranties and Limitation of Liability. \u00b6 a. Unless otherwise separately undertaken by the Licensor, to the extent possible, the Licensor offers the Licensed Material as-is and as-available, and makes no representations or warranties of any kind concerning the Licensed Material, whether express, implied, statutory, or other. This includes, without limitation, warranties of title, merchantability, fitness for a particular purpose, non-infringement, absence of latent or other defects, accuracy, or the presence or absence of errors, whether or not known or discoverable. Where disclaimers of warranties are not allowed in full or in part, this disclaimer may not apply to You. b. To the extent possible, in no event will the Licensor be liable to You on any legal theory (including, without limitation, negligence) or otherwise for any direct, special, indirect, incidental, consequential, punitive, exemplary, or other losses, costs, expenses, or damages arising out of this Public License or use of the Licensed Material, even if the Licensor has been advised of the possibility of such losses, costs, expenses, or damages. Where a limitation of liability is not allowed in full or in part, this limitation may not apply to You. c. The disclaimer of warranties and limitation of liability provided above shall be interpreted in a manner that, to the extent possible, most closely approximates an absolute disclaimer and waiver of all liability. Section 6 \u2013 Term and Termination. \u00b6 a. This Public License applies for the term of the Copyright and Similar Rights licensed here. However, if You fail to comply with this Public License, then Your rights under this Public License terminate automatically. b. Where Your right to use the Licensed Material has terminated under Section 6(a), it reinstates: automatically as of the date the violation is cured, provided it is cured within 30 days of Your discovery of the violation; or automatically as of the date the violation is cured, provided it is cured within 30 days of Your discovery of the violation; or For the avoidance of doubt, this Section 6(b) does not affect any right the Licensor may have to seek remedies for Your violations of this Public License. c. For the avoidance of doubt, the Licensor may also offer the Licensed Material under separate terms or conditions or stop distributing the Licensed Material at any time; however, doing so will not terminate this Public License. d. Sections 1, 5, 6, 7, and 8 survive termination of this Public License. Section 7 \u2013 Other Terms and Conditions. \u00b6 a. The Licensor shall not be bound by any additional or different terms or conditions communicated by You unless expressly agreed. b. Any arrangements, understandings, or agreements regarding the Licensed Material not stated herein are separate from and independent of the terms and conditions of this Public License. Section 8 \u2013 Interpretation. \u00b6 a. For the avoidance of doubt, this Public License does not, and shall not be interpreted to, reduce, limit, restrict, or impose conditions on any use of the Licensed Material that could lawfully be made without permission under this Public License. b. To the extent possible, if any provision of this Public License is deemed unenforceable, it shall be automatically reformed to the minimum extent necessary to make it enforceable. If the provision cannot be reformed, it shall be severed from this Public License without affecting the enforceability of the remaining terms and conditions. c. No term or condition of this Public License will be waived and no failure to comply consented to unless expressly agreed to by the Licensor. d. Nothing in this Public License constitutes or may be interpreted as a limitation upon, or waiver of, any privileges and immunities that apply to the Licensor or You, including from the legal processes of any jurisdiction or authority.","title":"Documentation"},{"location":"license/docs/#photoprism-documentation-license","text":"","title":"PhotoPrism\u00ae Documentation License"},{"location":"license/docs/#creative-commons-attribution-noncommercial-sharealike-40-international-public-license","text":"By exercising the Licensed Rights (defined below), You accept and agree to be bound by the terms and conditions of this Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International Public License (\"Public License\"). To the extent this Public License may be interpreted as a contract, You are granted the Licensed Rights in consideration of Your acceptance of these terms and conditions, and the Licensor grants You such rights in consideration of benefits the Licensor receives from making the Licensed Material available under these terms and conditions.","title":"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International Public License"},{"location":"license/docs/#section-1-definitions","text":"a. Adapted Material means material subject to Copyright and Similar Rights that is derived from or based upon the Licensed Material and in which the Licensed Material is translated, altered, arranged, transformed, or otherwise modified in a manner requiring permission under the Copyright and Similar Rights held by the Licensor. For purposes of this Public License, where the Licensed Material is a musical work, performance, or sound recording, Adapted Material is always produced where the Licensed Material is synched in timed relation with a moving image. b. Adapter's License means the license You apply to Your Copyright and Similar Rights in Your contributions to Adapted Material in accordance with the terms and conditions of this Public License. c. BY-NC-SA Compatible License means a license listed at creativecommons.org/compatiblelicenses , approved by Creative Commons as essentially the equivalent of this Public License. d. Copyright and Similar Rights means copyright and/or similar rights closely related to copyright including, without limitation, performance, broadcast, sound recording, and Sui Generis Database Rights, without regard to how the rights are labeled or categorized. For purposes of this Public License, the rights specified in Section 2(b)(1)-(2) are not Copyright and Similar Rights. e. Effective Technological Measures means those measures that, in the absence of proper authority, may not be circumvented under laws fulfilling obligations under Article 11 of the WIPO Copyright Treaty adopted on December 20, 1996, and/or similar international agreements. f. Exceptions and Limitations means fair use, fair dealing, and/or any other exception or limitation to Copyright and Similar Rights that applies to Your use of the Licensed Material. g. License Elements means the license attributes listed in the name of a Creative Commons Public License. The License Elements of this Public License are Attribution, NonCommercial, and ShareAlike. h. Licensed Material means the artistic or literary work, database, or other material to which the Licensor applied this Public License. i. Licensed Rights means the rights granted to You subject to the terms and conditions of this Public License, which are limited to all Copyright and Similar Rights that apply to Your use of the Licensed Material and that the Licensor has authority to license. h. Licensor means the individual(s) or entity(ies) granting rights under this Public License. i. NonCommercial means not primarily intended for or directed towards commercial advantage or monetary compensation. For purposes of this Public License, the exchange of the Licensed Material for other material subject to Copyright and Similar Rights by digital file-sharing or similar means is NonCommercial provided there is no payment of monetary compensation in connection with the exchange. j. Share means to provide material to the public by any means or process that requires permission under the Licensed Rights, such as reproduction, public display, public performance, distribution, dissemination, communication, or importation, and to make material available to the public including in ways that members of the public may access the material from a place and at a time individually chosen by them. k. Sui Generis Database Rights means rights other than copyright resulting from Directive 96/9/EC of the European Parliament and of the Council of 11 March 1996 on the legal protection of databases, as amended and/or succeeded, as well as other essentially equivalent rights anywhere in the world. l. You means the individual or entity exercising the Licensed Rights under this Public License. Your has a corresponding meaning.","title":"Section 1 \u2013 Definitions."},{"location":"license/docs/#section-2-scope","text":"a. License grant. Subject to the terms and conditions of this Public License, the Licensor hereby grants You a worldwide, royalty-free, non-sublicensable, non-exclusive, irrevocable license to exercise the Licensed Rights in the Licensed Material to: A. reproduce and Share the Licensed Material, in whole or in part, for NonCommercial purposes only; and B. produce, reproduce, and Share Adapted Material for NonCommercial purposes only. Exceptions and Limitations. For the avoidance of doubt, where Exceptions and Limitations apply to Your use, this Public License does not apply, and You do not need to comply with its terms and conditions. Term. The term of this Public License is specified in Section 6(a). Media and formats; technical modifications allowed. The Licensor authorizes You to exercise the Licensed Rights in all media and formats whether now known or hereafter created, and to make technical modifications necessary to do so. The Licensor waives and/or agrees not to assert any right or authority to forbid You from making technical modifications necessary to exercise the Licensed Rights, including technical modifications necessary to circumvent Effective Technological Measures. For purposes of this Public License, simply making modifications authorized by this Section 2(a)(4) never produces Adapted Material. Downstream recipients. A. Offer from the Licensor \u2013 Licensed Material. Every recipient of the Licensed Material automatically receives an offer from the Licensor to exercise the Licensed Rights under the terms and conditions of this Public License. B. Additional offer from the Licensor \u2013 Adapted Material. Every recipient of Adapted Material from You automatically receives an offer from the Licensor to exercise the Licensed Rights in the Adapted Material under the conditions of the Adapter\u2019s License You apply. C. No downstream restrictions. You may not offer or impose any additional or different terms or conditions on, or apply any Effective Technological Measures to, the Licensed Material if doing so restricts exercise of the Licensed Rights by any recipient of the Licensed Material. No endorsement. Nothing in this Public License constitutes or may be construed as permission to assert or imply that You are, or that Your use of the Licensed Material is, connected with, or sponsored, endorsed, or granted official status by, the Licensor or others designated to receive attribution as provided in Section 3(a)(1)(A)(i). b. Other rights. Moral rights, such as the right of integrity, are not licensed under this Public License, nor are publicity, privacy, and/or other similar personality rights; however, to the extent possible, the Licensor waives and/or agrees not to assert any such rights held by the Licensor to the limited extent necessary to allow You to exercise the Licensed Rights, but not otherwise. Patent and trademark rights are not licensed under this Public License. To the extent possible, the Licensor waives any right to collect royalties from You for the exercise of the Licensed Rights, whether directly or through a collecting society under any voluntary or waivable statutory or compulsory licensing scheme. In all other cases the Licensor expressly reserves any right to collect such royalties, including when the Licensed Material is used other than for NonCommercial purposes.","title":"Section 2 \u2013 Scope."},{"location":"license/docs/#section-3-license-conditions","text":"Your exercise of the Licensed Rights is expressly made subject to the following conditions. a. Attribution. If You Share the Licensed Material (including in modified form), You must: A. retain the following if it is supplied by the Licensor with the Licensed Material: i. identification of the creator(s) of the Licensed Material and any others designated to receive attribution, in any reasonable manner requested by the Licensor (including by pseudonym if designated); ii. a copyright notice; iii. a notice that refers to this Public License; iv. a notice that refers to the disclaimer of warranties; v. a URI or hyperlink to the Licensed Material to the extent reasonably practicable; B. indicate if You modified the Licensed Material and retain an indication of any previous modifications; and C. indicate the Licensed Material is licensed under this Public License, and include the text of, or the URI or hyperlink to, this Public License. You may satisfy the conditions in Section 3(a)(1) in any reasonable manner based on the medium, means, and context in which You Share the Licensed Material. For example, it may be reasonable to satisfy the conditions by providing a URI or hyperlink to a resource that includes the required information. If requested by the Licensor, You must remove any of the information required by Section 3(a)(1)(A) to the extent reasonably practicable. b. ShareAlike. In addition to the conditions in Section 3(a), if You Share Adapted Material You produce, the following conditions also apply. The Adapter\u2019s License You apply must be a Creative Commons license with the same License Elements, this version or later, or a BY-NC-SA Compatible License. You must include the text of, or the URI or hyperlink to, the Adapter's License You apply. You may satisfy this condition in any reasonable manner based on the medium, means, and context in which You Share Adapted Material. You may not offer or impose any additional or different terms or conditions on, or apply any Effective Technological Measures to, Adapted Material that restrict exercise of the rights granted under the Adapter's License You apply.","title":"Section 3 \u2013 License Conditions."},{"location":"license/docs/#section-4-sui-generis-database-rights","text":"Where the Licensed Rights include Sui Generis Database Rights that apply to Your use of the Licensed Material: a. for the avoidance of doubt, Section 2(a)(1) grants You the right to extract, reuse, reproduce, and Share all or a substantial portion of the contents of the database for NonCommercial purposes only; b. if You include all or a substantial portion of the database contents in a database in which You have Sui Generis Database Rights, then the database in which You have Sui Generis Database Rights (but not its individual contents) is Adapted Material, including for purposes of Section 3(b); and c. You must comply with the conditions in Section 3(a) if You Share all or a substantial portion of the contents of the database. For the avoidance of doubt, this Section 4 supplements and does not replace Your obligations under this Public License where the Licensed Rights include other Copyright and Similar Rights.","title":"Section 4 \u2013 Sui Generis Database Rights."},{"location":"license/docs/#section-5-disclaimer-of-warranties-and-limitation-of-liability","text":"a. Unless otherwise separately undertaken by the Licensor, to the extent possible, the Licensor offers the Licensed Material as-is and as-available, and makes no representations or warranties of any kind concerning the Licensed Material, whether express, implied, statutory, or other. This includes, without limitation, warranties of title, merchantability, fitness for a particular purpose, non-infringement, absence of latent or other defects, accuracy, or the presence or absence of errors, whether or not known or discoverable. Where disclaimers of warranties are not allowed in full or in part, this disclaimer may not apply to You. b. To the extent possible, in no event will the Licensor be liable to You on any legal theory (including, without limitation, negligence) or otherwise for any direct, special, indirect, incidental, consequential, punitive, exemplary, or other losses, costs, expenses, or damages arising out of this Public License or use of the Licensed Material, even if the Licensor has been advised of the possibility of such losses, costs, expenses, or damages. Where a limitation of liability is not allowed in full or in part, this limitation may not apply to You. c. The disclaimer of warranties and limitation of liability provided above shall be interpreted in a manner that, to the extent possible, most closely approximates an absolute disclaimer and waiver of all liability.","title":"Section 5 \u2013 Disclaimer of Warranties and Limitation of Liability."},{"location":"license/docs/#section-6-term-and-termination","text":"a. This Public License applies for the term of the Copyright and Similar Rights licensed here. However, if You fail to comply with this Public License, then Your rights under this Public License terminate automatically. b. Where Your right to use the Licensed Material has terminated under Section 6(a), it reinstates: automatically as of the date the violation is cured, provided it is cured within 30 days of Your discovery of the violation; or automatically as of the date the violation is cured, provided it is cured within 30 days of Your discovery of the violation; or For the avoidance of doubt, this Section 6(b) does not affect any right the Licensor may have to seek remedies for Your violations of this Public License. c. For the avoidance of doubt, the Licensor may also offer the Licensed Material under separate terms or conditions or stop distributing the Licensed Material at any time; however, doing so will not terminate this Public License. d. Sections 1, 5, 6, 7, and 8 survive termination of this Public License.","title":"Section 6 \u2013 Term and Termination."},{"location":"license/docs/#section-7-other-terms-and-conditions","text":"a. The Licensor shall not be bound by any additional or different terms or conditions communicated by You unless expressly agreed. b. Any arrangements, understandings, or agreements regarding the Licensed Material not stated herein are separate from and independent of the terms and conditions of this Public License.","title":"Section 7 \u2013 Other Terms and Conditions."},{"location":"license/docs/#section-8-interpretation","text":"a. For the avoidance of doubt, this Public License does not, and shall not be interpreted to, reduce, limit, restrict, or impose conditions on any use of the Licensed Material that could lawfully be made without permission under this Public License. b. To the extent possible, if any provision of this Public License is deemed unenforceable, it shall be automatically reformed to the minimum extent necessary to make it enforceable. If the provision cannot be reformed, it shall be severed from this Public License without affecting the enforceability of the remaining terms and conditions. c. No term or condition of this Public License will be waived and no failure to comply consented to unless expressly agreed to by the Licensor. d. Nothing in this Public License constitutes or may be interpreted as a limitation upon, or waiver of, any privileges and immunities that apply to the Licensor or You, including from the legal processes of any jurisdiction or authority.","title":"Section 8 \u2013 Interpretation."},{"location":"user-guide/","text":"User Guide \u00b6 Step-by-step installation instructions for our self-hosted community edition can be found in Getting Started . All you need is a Web browser and Docker to run the server. It is available for Mac, Linux, and Windows. PhotoPrism also runs on PikaPods or DigitalOcean , Raspberry Pi , FreeBSD , and many NAS devices . When setup is complete, you can start indexing your pictures . Be patient, this may take a while depending on your server hardware and how many files you have. Your photos and videos will successively become visible in search results and other parts of the user interface. The counts in the navigation are constantly updated, so you can follow the progress. In case some of your pictures are still missing after indexing has been completed, they might be in Review due to low quality or incomplete metadata. You can turn this and other features off in Settings , depending on your specific use case. Getting Support \u00b6 If you need help installing our software at home, you can join us on Reddit , ask in our Community Chat , or post your question in GitHub Discussions . Common problems can be quickly diagnosed and solved using the Troubleshooting Checklists in Getting Started . We'll do our best to answer all your questions. In return, we ask you to back us on Patreon or GitHub Sponsors . Think of \"free software\" as in \"free speech,\" not as in \"free beer\". Thank you! In exchange for their continued support, sponsors are also welcome to request direct technical support via email . Please bear with us if we are unable to get back to you immediately due to the high volume of emails and contact requests we receive. We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Contact us or a community member if you need help, it could be a local configuration problem, or a misunderstanding in how the software works.","title":"Introduction"},{"location":"user-guide/#user-guide","text":"Step-by-step installation instructions for our self-hosted community edition can be found in Getting Started . All you need is a Web browser and Docker to run the server. It is available for Mac, Linux, and Windows. PhotoPrism also runs on PikaPods or DigitalOcean , Raspberry Pi , FreeBSD , and many NAS devices . When setup is complete, you can start indexing your pictures . Be patient, this may take a while depending on your server hardware and how many files you have. Your photos and videos will successively become visible in search results and other parts of the user interface. The counts in the navigation are constantly updated, so you can follow the progress. In case some of your pictures are still missing after indexing has been completed, they might be in Review due to low quality or incomplete metadata. You can turn this and other features off in Settings , depending on your specific use case.","title":"User Guide"},{"location":"user-guide/#getting-support","text":"If you need help installing our software at home, you can join us on Reddit , ask in our Community Chat , or post your question in GitHub Discussions . Common problems can be quickly diagnosed and solved using the Troubleshooting Checklists in Getting Started . We'll do our best to answer all your questions. In return, we ask you to back us on Patreon or GitHub Sponsors . Think of \"free software\" as in \"free speech,\" not as in \"free beer\". Thank you! In exchange for their continued support, sponsors are also welcome to request direct technical support via email . Please bear with us if we are unable to get back to you immediately due to the high volume of emails and contact requests we receive. We kindly ask you not to report bugs via GitHub Issues unless you are certain to have found a fully reproducible and previously unreported issue that must be fixed directly in the app. Contact us or a community member if you need help, it could be a local configuration problem, or a misunderstanding in how the software works.","title":"Getting Support"},{"location":"user-guide/faq/","text":"Frequently Asked Questions \u00b6 General \u00b6 When exactly will new features be released? We have a zero bug policy and do our best to help users when they need support or have other questions. Updating and improving the documentation you are reading takes up a large part of our time too. This comes at a price, as we can't give exact deadlines for new features. Also keep in mind that epics like multi-user support can't be delivered in a single update. Working on big features is a continuous process that can take months to years until all use cases are covered. Having said that, funding really has the highest impact. So users can do their part and become a sponsor to get their favorite features as soon as possible. Are there plans to introduce premium features? PhotoPrism is 100% self-funded and independent. We plan to offer non-essential premium features and services as voluntary donations currently don't cover even our most basic expenses. It is in the best interest of all users that funding is sustainable in the long run. Unless your plan includes additional cloud storage, you will be able to upgrade and downgrade without losing any data. For those who don't like recurring subscriptions, there will be discounted multi-year / lifetime payment options. To account for income differences, pricing may also vary by region. As soon as we have details, we will announce them publicly. Meanwhile, GitHub Sponsors has one-time donation options if you don't need ongoing support after installation and don't expect updates with additional features for more than 12 months. We encourage everyone who can afford it to become a sponsor as this is ultimately best for the product and the community. Think of \"free software\" as in \"free speech,\" not as in \"free beer\". Why can't I just purchase and download a single version? Offering single versions for one-time purchase without ongoing updates would be irresponsible. Unlike traditional offline apps such as Microsoft Office or single-player games, software exposed to the Internet must be updated regularly to stay secure and compatible with the latest standards. Updates are also important because virtually all file format parsers have flaws that just haven't been discovered yet. This is a known risk that may affect you even if your computer isn't directly exposed to the Internet. It's essential to keep your operating system, Web browsers, and all other software up to date. Don't push your luck and don't expect developers to spend time providing individual updates for old versions that contain only critical security updates, but nothing else. Will the self-hosted version continue to be supported once a hosted version is available? Absolutely! Self-hosting is the easiest way to stay in control and protect your privacy (a key part of our mission). It also provides the best experience for advanced users who often rely on a local toolchain to select, edit, and publish their pictures. We understand that there is a great demand and many practical uses for a hosted version, which we plan to offer in addition so that users have more choice. Selected hosting partners will ensure that the privacy of our users is protected as much as technically possible, even in the cloud. Likewise, businesses demand a commercial offering with features and support options geared towards professional users. They are willing to pay for the value they receive, which helps fund development and allows us to expand our team. User Interface \u00b6 Can I use trees for organizing my pictures and albums? Except in Library > Originals and for object classification in Labels , PhotoPrism does not support hierarchically organized content for a number of reasons: First, there are many tools (including Windows Explorer and Mac OS Finder) that already browse folders in such a way. A common UX challenge is dealing with namespaces. For example, the album \"Berlin\" may exist 5 times in different parts of a tree. To avoid ambiguities, simple input fields need to be replaced with a tree browser that shows the complete context. This is especially difficult on mobile screens. Personal albums can typically be browsed by time, with optional filters for more specific results. This is different in Enterprise asset management, where trees are required to manage responsibilities & permissions . We might do a special release for professional users later. While you have complete freedom with organizing your original files and folders, we don't think trees should be an integral part of our user interface. Most users won't be able to sort their memories in a strictly hierarchical way and prefer to explore them in multiple dimensions instead. What's the difference between keywords and labels? Keywords contain a list of search terms extracted from metadata, file names, and other sources like geodata. Pictures with matching keywords automatically show up in related Labels . Although related, keywords and labels serve different purposes: Labels may have parent categories and are primarily used for classification, like \"animal\", \"cat\", or \"boat\". Duplicates and ambiguities should be avoided. Keywords are primarily used for searching. They may include similar terms and translations, like \"kitten\", \"kitty\", and \"cat\". Can I use the web interface to permanently delete files? Yes, you can permanently delete files. Search \u00b6 Why can't I play live photos or find stacks when I search for specific images? Our search API and user interface perform a file search. This is intentional since \"stacks\" can contain files of different types and properties, such as color. For example, there may be color and monochrome versions. Now, when you search for them or sort them by color, the user interface must display individual files. Otherwise, the results showing a color image/video when you filter by monochrome would make no sense. Likewise, if you search for filename.mp4.* , you will find only JPEGs without video, because the video file extension is .mp4 without an extra dot at the end. We recommend using the path: and/or name: filters with wildcards if searching for individual files limits the search results too much. Most users will want to find all related files so that they can be displayed together, e.g. as live photos consisting of a video and an image. You can combine these filters with other filters such as live to ensure that the results include only pictures with a specific media type. Alternatively, you can use the filename: filter with a more permissive wildcard that excludes the file extension. Library, Counts & Files \u00b6 What media file types are supported? PhotoPrism supports indexing, viewing, and converting most popular image, video and RAW formats, including JPEG, PNG, GIF, BMP, HEIF, HEIC, MP4, MOV, WebP, and WebM. TIFF is partially supported without extensions like GeoTIFF. The internally used image format is JPEG. When indexing, a JPEG sidecar file can be created automatically for videos and images in other formats. It is needed for thumbnail generation, image classification, and face detection. JPEG XL support is planned as soon as it is generally available and enough compatible tools exist. If installed, converting RAW files is possible with the following converters (our Docker image includes both): Darktable ( supported cameras ) RawTherapee ( supported cameras ) On a Mac, RAW files can also be converted with Sips ( supported cameras ). Our goal is to provide top-notch support for all RAW formats, regardless of camera make and model. Please let us know about any issues with a particular camera or file format. For maximum browser compatibility, video codecs and containers supported by FFmpeg can be transcoded to MPEG-4 AVC on demand, just as still images can be extracted for thumbnail creation. Make sure you have JSON sidecar files enabled if you have videos, live photos, and/or animated GIFs so that video-specific metadata such as codec, frames, and duration can be extracted, indexed, and searched. For a complete list of file formats and extensions, see our downloadable Feature Overview . What metadata sidecar file types are supported? Currently, three types of file formats are supported: JSON \u00b6 If not disabled via PHOTOPRISM_DISABLE_EXIFTOOL or --disable-exiftool , Exiftool is used to automatically create a JSON sidecar for each media file. In this way, embedded XMP and video metadata can also be indexed. Native metadata extraction is limited to common Exif headers. Note that this causes small amount of overhead when indexing for the first time. JSON files can also be useful for debugging, as they contain the full metadata and can be processed with common development tools and text editors. Metadata JSON files exported from Google Photos can be read as well. Support for more schemas may be added over time. YAML \u00b6 Unless disabled via PHOTOPRISM_DISABLE_BACKUPS or --disable-backups , PhotoPrism automatically creates/updates human-friendly YAML sidecar files during indexing and after manual editing of fields such as title, date, or location. They serve as a backup in case the database (index) is lost, or when folders are synchronized with a remote instance. Like JSON, YAML files can be opened with common development tools and text editors. However, changes are not synchronized with the original index, as this could overwrite existing data. XMP \u00b6 XMP (Extensible Metadata Platform) is an XML-based metadata container format developed by Adobe . It provides many more fields (as part of embedded models like Dublin Core) than Exif. This also makes it difficult - if not impossible - to provide full support. Reading title, copyright, artist, and description from XMP sidecar files is implemented as a proof-of-concept, contributions are welcome . Indexing of embedded XMP is only possible via Exiftool, see above. Are JPEGs updated when RAW or XMP files change? JPEGs are currently not regenerated when related RAW or XMP files change. RAW files are digital negatives by design. PhotoPrism therefore assumes that their image information is immutable. XMP files can affect the appearance, but most of the metadata they contain, such as title and description, does not. Creating JPEGs from RAW files is a time-consuming task, and in most cases would cause a huge, unjustified amount of overhead. In addition, the rendering information in XMP files is not well standardized. For example, changes you make in Photoshop may not be compatible with Darktable. We recommend manually updating existing JPEG sidecar files as needed or creating additional JPEGs, so you can choose between different versions. New files and other metadata changes are detected and reflected in the index as usual when your library is scanned. Some files seem hidden, where are they? If the quality filter is enabled, you might find them in Photos > Review . Otherwise, their format may not be supported, they may be corrupted, or they may be stacked with other files if their name, exact date & location, or unique image ID indicate they belong to the same photo. You may then unstack them if this happened by mistake e.g. because of bad metadata. For what reasons can files be stacked? Files sharing exactly the same file and folder name will always be stacked, for example /2018/IMG_1234.jpg and /2018/IMG_1234.avi Files with related, sequential names like /2018/IMG_1234 (2).jpg and /2018/IMG_1234 (3).jpg may be stacked as well (optional) Pictures were taken at the same GPS position and second (optional) Image metadata contains the same Unique Image ID or XMP Instance ID (optional) You can change the behaviour for 2 - 4 in Settings . I already indexed some files. Why are Folders, Calendar and Moments still empty? Folders, Calendar and Moments are populated at the end of the indexing process. Why does the count in Search not match the count of files in Originals ? Library > Originals shows actual files, whereas Search counts unique photos and videos. Photos and videos may have more than one file, for example: A raw file + related jpg file + related xmp file = 3 files, 1 photo A mp4 file + related jpg file = 2 files, 1 video It is also possible that multiple .jpg files are stacked because they are related to each other. Metadata \u00b6 Why do some of my photos without geolocation information show a random location? PhotoPrism estimates the location of photos without geolocation from photos that have been taken on the same day. You can disable estimations in Settings . Why do some pictures have an odd date like 01/01/1980? This may happen in case there was an issue with your camera's settings when the photo was taken. While the date can easily be changed in the edit dialog , this only updates the index without modifying your originals. To fix the date directly in your image or video files, please use other applications like Photoshop, or Exiftool, and re-index your library. WebDAV, Sync & Upload \u00b6 Why do I get an error when trying to add a remote server for syncing? When adding a new remote server, PhotoPrism tests a number of common endpoints . Only when that fails, you'll see an error. There may be different reasons for this: you are using HTTPS with an invalid certificate (not signed, outdated, domain doesn't match,...) your server has permission issues, or an otherwise bad configuration. For example, Nextcloud blocks requests if the host doesn't match trusted_domains in its config.php the IP is not reachable from your PhotoPrism instance due to network settings, or a firewall the internal hostname can not be resolved to an IP address it's the wrong host or port username or password are wrong Curl is an excellent tool for testing HTTP connections if you don't mind using a terminal: curl -X PROPFIND -H \"Depth: 1\" -u user:pass https://example.org/webdav/ To avoid overlooking issues, it's best to run it from the same Docker container, virtual machine, or server environment where PhotoPrism is installed. My file sync app fails with \"unable to parse TLS packet headers\" when trying to connect via WebDAV? Because of security considerations, some backup tools and file sync apps like FolderSync removed support for non-SSL HTTP communication . If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps may refuse to connect as well.","title":"FAQ"},{"location":"user-guide/faq/#frequently-asked-questions","text":"","title":"Frequently Asked Questions"},{"location":"user-guide/faq/#general","text":"When exactly will new features be released? We have a zero bug policy and do our best to help users when they need support or have other questions. Updating and improving the documentation you are reading takes up a large part of our time too. This comes at a price, as we can't give exact deadlines for new features. Also keep in mind that epics like multi-user support can't be delivered in a single update. Working on big features is a continuous process that can take months to years until all use cases are covered. Having said that, funding really has the highest impact. So users can do their part and become a sponsor to get their favorite features as soon as possible. Are there plans to introduce premium features? PhotoPrism is 100% self-funded and independent. We plan to offer non-essential premium features and services as voluntary donations currently don't cover even our most basic expenses. It is in the best interest of all users that funding is sustainable in the long run. Unless your plan includes additional cloud storage, you will be able to upgrade and downgrade without losing any data. For those who don't like recurring subscriptions, there will be discounted multi-year / lifetime payment options. To account for income differences, pricing may also vary by region. As soon as we have details, we will announce them publicly. Meanwhile, GitHub Sponsors has one-time donation options if you don't need ongoing support after installation and don't expect updates with additional features for more than 12 months. We encourage everyone who can afford it to become a sponsor as this is ultimately best for the product and the community. Think of \"free software\" as in \"free speech,\" not as in \"free beer\". Why can't I just purchase and download a single version? Offering single versions for one-time purchase without ongoing updates would be irresponsible. Unlike traditional offline apps such as Microsoft Office or single-player games, software exposed to the Internet must be updated regularly to stay secure and compatible with the latest standards. Updates are also important because virtually all file format parsers have flaws that just haven't been discovered yet. This is a known risk that may affect you even if your computer isn't directly exposed to the Internet. It's essential to keep your operating system, Web browsers, and all other software up to date. Don't push your luck and don't expect developers to spend time providing individual updates for old versions that contain only critical security updates, but nothing else. Will the self-hosted version continue to be supported once a hosted version is available? Absolutely! Self-hosting is the easiest way to stay in control and protect your privacy (a key part of our mission). It also provides the best experience for advanced users who often rely on a local toolchain to select, edit, and publish their pictures. We understand that there is a great demand and many practical uses for a hosted version, which we plan to offer in addition so that users have more choice. Selected hosting partners will ensure that the privacy of our users is protected as much as technically possible, even in the cloud. Likewise, businesses demand a commercial offering with features and support options geared towards professional users. They are willing to pay for the value they receive, which helps fund development and allows us to expand our team.","title":"General"},{"location":"user-guide/faq/#user-interface","text":"Can I use trees for organizing my pictures and albums? Except in Library > Originals and for object classification in Labels , PhotoPrism does not support hierarchically organized content for a number of reasons: First, there are many tools (including Windows Explorer and Mac OS Finder) that already browse folders in such a way. A common UX challenge is dealing with namespaces. For example, the album \"Berlin\" may exist 5 times in different parts of a tree. To avoid ambiguities, simple input fields need to be replaced with a tree browser that shows the complete context. This is especially difficult on mobile screens. Personal albums can typically be browsed by time, with optional filters for more specific results. This is different in Enterprise asset management, where trees are required to manage responsibilities & permissions . We might do a special release for professional users later. While you have complete freedom with organizing your original files and folders, we don't think trees should be an integral part of our user interface. Most users won't be able to sort their memories in a strictly hierarchical way and prefer to explore them in multiple dimensions instead. What's the difference between keywords and labels? Keywords contain a list of search terms extracted from metadata, file names, and other sources like geodata. Pictures with matching keywords automatically show up in related Labels . Although related, keywords and labels serve different purposes: Labels may have parent categories and are primarily used for classification, like \"animal\", \"cat\", or \"boat\". Duplicates and ambiguities should be avoided. Keywords are primarily used for searching. They may include similar terms and translations, like \"kitten\", \"kitty\", and \"cat\". Can I use the web interface to permanently delete files? Yes, you can permanently delete files.","title":"User Interface"},{"location":"user-guide/faq/#search","text":"Why can't I play live photos or find stacks when I search for specific images? Our search API and user interface perform a file search. This is intentional since \"stacks\" can contain files of different types and properties, such as color. For example, there may be color and monochrome versions. Now, when you search for them or sort them by color, the user interface must display individual files. Otherwise, the results showing a color image/video when you filter by monochrome would make no sense. Likewise, if you search for filename.mp4.* , you will find only JPEGs without video, because the video file extension is .mp4 without an extra dot at the end. We recommend using the path: and/or name: filters with wildcards if searching for individual files limits the search results too much. Most users will want to find all related files so that they can be displayed together, e.g. as live photos consisting of a video and an image. You can combine these filters with other filters such as live to ensure that the results include only pictures with a specific media type. Alternatively, you can use the filename: filter with a more permissive wildcard that excludes the file extension.","title":"Search"},{"location":"user-guide/faq/#library-counts-files","text":"What media file types are supported? PhotoPrism supports indexing, viewing, and converting most popular image, video and RAW formats, including JPEG, PNG, GIF, BMP, HEIF, HEIC, MP4, MOV, WebP, and WebM. TIFF is partially supported without extensions like GeoTIFF. The internally used image format is JPEG. When indexing, a JPEG sidecar file can be created automatically for videos and images in other formats. It is needed for thumbnail generation, image classification, and face detection. JPEG XL support is planned as soon as it is generally available and enough compatible tools exist. If installed, converting RAW files is possible with the following converters (our Docker image includes both): Darktable ( supported cameras ) RawTherapee ( supported cameras ) On a Mac, RAW files can also be converted with Sips ( supported cameras ). Our goal is to provide top-notch support for all RAW formats, regardless of camera make and model. Please let us know about any issues with a particular camera or file format. For maximum browser compatibility, video codecs and containers supported by FFmpeg can be transcoded to MPEG-4 AVC on demand, just as still images can be extracted for thumbnail creation. Make sure you have JSON sidecar files enabled if you have videos, live photos, and/or animated GIFs so that video-specific metadata such as codec, frames, and duration can be extracted, indexed, and searched. For a complete list of file formats and extensions, see our downloadable Feature Overview . What metadata sidecar file types are supported? Currently, three types of file formats are supported:","title":"Library, Counts &amp; Files"},{"location":"user-guide/faq/#json","text":"If not disabled via PHOTOPRISM_DISABLE_EXIFTOOL or --disable-exiftool , Exiftool is used to automatically create a JSON sidecar for each media file. In this way, embedded XMP and video metadata can also be indexed. Native metadata extraction is limited to common Exif headers. Note that this causes small amount of overhead when indexing for the first time. JSON files can also be useful for debugging, as they contain the full metadata and can be processed with common development tools and text editors. Metadata JSON files exported from Google Photos can be read as well. Support for more schemas may be added over time.","title":"JSON"},{"location":"user-guide/faq/#yaml","text":"Unless disabled via PHOTOPRISM_DISABLE_BACKUPS or --disable-backups , PhotoPrism automatically creates/updates human-friendly YAML sidecar files during indexing and after manual editing of fields such as title, date, or location. They serve as a backup in case the database (index) is lost, or when folders are synchronized with a remote instance. Like JSON, YAML files can be opened with common development tools and text editors. However, changes are not synchronized with the original index, as this could overwrite existing data.","title":"YAML"},{"location":"user-guide/faq/#xmp","text":"XMP (Extensible Metadata Platform) is an XML-based metadata container format developed by Adobe . It provides many more fields (as part of embedded models like Dublin Core) than Exif. This also makes it difficult - if not impossible - to provide full support. Reading title, copyright, artist, and description from XMP sidecar files is implemented as a proof-of-concept, contributions are welcome . Indexing of embedded XMP is only possible via Exiftool, see above. Are JPEGs updated when RAW or XMP files change? JPEGs are currently not regenerated when related RAW or XMP files change. RAW files are digital negatives by design. PhotoPrism therefore assumes that their image information is immutable. XMP files can affect the appearance, but most of the metadata they contain, such as title and description, does not. Creating JPEGs from RAW files is a time-consuming task, and in most cases would cause a huge, unjustified amount of overhead. In addition, the rendering information in XMP files is not well standardized. For example, changes you make in Photoshop may not be compatible with Darktable. We recommend manually updating existing JPEG sidecar files as needed or creating additional JPEGs, so you can choose between different versions. New files and other metadata changes are detected and reflected in the index as usual when your library is scanned. Some files seem hidden, where are they? If the quality filter is enabled, you might find them in Photos > Review . Otherwise, their format may not be supported, they may be corrupted, or they may be stacked with other files if their name, exact date & location, or unique image ID indicate they belong to the same photo. You may then unstack them if this happened by mistake e.g. because of bad metadata. For what reasons can files be stacked? Files sharing exactly the same file and folder name will always be stacked, for example /2018/IMG_1234.jpg and /2018/IMG_1234.avi Files with related, sequential names like /2018/IMG_1234 (2).jpg and /2018/IMG_1234 (3).jpg may be stacked as well (optional) Pictures were taken at the same GPS position and second (optional) Image metadata contains the same Unique Image ID or XMP Instance ID (optional) You can change the behaviour for 2 - 4 in Settings . I already indexed some files. Why are Folders, Calendar and Moments still empty? Folders, Calendar and Moments are populated at the end of the indexing process. Why does the count in Search not match the count of files in Originals ? Library > Originals shows actual files, whereas Search counts unique photos and videos. Photos and videos may have more than one file, for example: A raw file + related jpg file + related xmp file = 3 files, 1 photo A mp4 file + related jpg file = 2 files, 1 video It is also possible that multiple .jpg files are stacked because they are related to each other.","title":"XMP"},{"location":"user-guide/faq/#metadata","text":"Why do some of my photos without geolocation information show a random location? PhotoPrism estimates the location of photos without geolocation from photos that have been taken on the same day. You can disable estimations in Settings . Why do some pictures have an odd date like 01/01/1980? This may happen in case there was an issue with your camera's settings when the photo was taken. While the date can easily be changed in the edit dialog , this only updates the index without modifying your originals. To fix the date directly in your image or video files, please use other applications like Photoshop, or Exiftool, and re-index your library.","title":"Metadata"},{"location":"user-guide/faq/#webdav-sync-upload","text":"Why do I get an error when trying to add a remote server for syncing? When adding a new remote server, PhotoPrism tests a number of common endpoints . Only when that fails, you'll see an error. There may be different reasons for this: you are using HTTPS with an invalid certificate (not signed, outdated, domain doesn't match,...) your server has permission issues, or an otherwise bad configuration. For example, Nextcloud blocks requests if the host doesn't match trusted_domains in its config.php the IP is not reachable from your PhotoPrism instance due to network settings, or a firewall the internal hostname can not be resolved to an IP address it's the wrong host or port username or password are wrong Curl is an excellent tool for testing HTTP connections if you don't mind using a terminal: curl -X PROPFIND -H \"Depth: 1\" -u user:pass https://example.org/webdav/ To avoid overlooking issues, it's best to run it from the same Docker container, virtual machine, or server environment where PhotoPrism is installed. My file sync app fails with \"unable to parse TLS packet headers\" when trying to connect via WebDAV? Because of security considerations, some backup tools and file sync apps like FolderSync removed support for non-SSL HTTP communication . If you install PhotoPrism on a public server outside your home network, always run it behind a secure HTTPS reverse proxy . Your files and passwords will otherwise be transmitted in clear text and can be intercepted by anyone, including your provider, hackers, and governments. Backup tools and file sync apps may refuse to connect as well.","title":"WebDAV, Sync &amp; Upload"},{"location":"user-guide/navigate/","text":"Navigate \u00b6 Photo and video search is based on the following components. Note that all pages are fully responsive, our screenshots show the user-interface in a desktop browser with medium resolution. 1. Main Navigation \u00b6 Located on the left, minimized on mobile devices. Click on the links to switch between different pages like Photos, Albums, Places, or Settings. 2. Toolbar \u00b6 Located on the top. Find photos or videos by entering search terms like cats and filters like label:cat . A list with possible search filters can be found here . 3. Reload Button \u00b6 reloads search results without reloading the full page. 4. View Button \u00b6 Click to switch to a different search result view (cards: , mosaic: , or list: ). 5. Upload Button \u00b6 opens the upload dialog. Available on most pages, unless read-only mode is enabled or upload is disabled in Settings . 6. Expanded Toolbar \u00b6 The expanded toolbar contains additional options and search filters for country, year, month, camera, color, and category. 7. Context Menu \u00b6 When photos or videos are selected, the context menu appears in the lower right corner. The number displayed is the count of currently selected items. It also contains the following buttons: Archive photos Add photos to album Download photos Mark photos as private Open edit dialog Share photos To unselect all items, click the cross at the top:","title":"Navigate"},{"location":"user-guide/navigate/#navigate","text":"Photo and video search is based on the following components. Note that all pages are fully responsive, our screenshots show the user-interface in a desktop browser with medium resolution.","title":"Navigate"},{"location":"user-guide/navigate/#1-main-navigation","text":"Located on the left, minimized on mobile devices. Click on the links to switch between different pages like Photos, Albums, Places, or Settings.","title":"1. Main Navigation"},{"location":"user-guide/navigate/#2-toolbar","text":"Located on the top. Find photos or videos by entering search terms like cats and filters like label:cat . A list with possible search filters can be found here .","title":"2. Toolbar"},{"location":"user-guide/navigate/#3-reload-button","text":"reloads search results without reloading the full page.","title":"3. Reload Button"},{"location":"user-guide/navigate/#4-view-button","text":"Click to switch to a different search result view (cards: , mosaic: , or list: ).","title":"4. View Button"},{"location":"user-guide/navigate/#5-upload-button","text":"opens the upload dialog. Available on most pages, unless read-only mode is enabled or upload is disabled in Settings .","title":"5. Upload Button"},{"location":"user-guide/navigate/#6-expanded-toolbar","text":"The expanded toolbar contains additional options and search filters for country, year, month, camera, color, and category.","title":"6. Expanded Toolbar"},{"location":"user-guide/navigate/#7-context-menu","text":"When photos or videos are selected, the context menu appears in the lower right corner. The number displayed is the count of currently selected items. It also contains the following buttons: Archive photos Add photos to album Download photos Mark photos as private Open edit dialog Share photos To unselect all items, click the cross at the top:","title":"7. Context Menu"},{"location":"user-guide/pwa/","text":"Mobile App (PWA) \u00b6 At the moment, PhotoPrism doesn't have a native mobile app that can be installed through an official app store. However, our Progressive Web App (PWA) offers an almost native app-like experience. You can conveniently install it on the home screen of all major operating systems and mobile devices. Install PWA \u00b6 iOS / Safari Android / Firefox / Chrome Open PhotoPrism on your device's browser (on iOS, use Safari) Click Click Add to Home Screen Choose a name and click Add Open PhotoPrism on your device's browser Click Click Add to Home screen Choose a name and click Add The PWA is now installed on the home screen of your device and can be launched from there.","title":"Mobile App (PWA)"},{"location":"user-guide/pwa/#mobile-app-pwa","text":"At the moment, PhotoPrism doesn't have a native mobile app that can be installed through an official app store. However, our Progressive Web App (PWA) offers an almost native app-like experience. You can conveniently install it on the home screen of all major operating systems and mobile devices.","title":"Mobile App (PWA)"},{"location":"user-guide/pwa/#install-pwa","text":"iOS / Safari Android / Firefox / Chrome Open PhotoPrism on your device's browser (on iOS, use Safari) Click Click Add to Home Screen Choose a name and click Add Open PhotoPrism on your device's browser Click Click Add to Home screen Choose a name and click Add The PWA is now installed on the home screen of your device and can be launched from there.","title":"Install PWA"},{"location":"user-guide/advanced/backups/","text":"Backup Command \u00b6 PhotoPrism automatically creates the album and photo backup YAML files. If you want to update album backups or create a database backup you can use the backup command: docker-compose exec photoprism photoprism backup -a --albums-path PATH -i --index-path PATH [FILENAME] -a = create album backups --albums-path = optional, path where album backups will be stored -i = create database backup --index-path = optional, path for the database backup -f = overwrite existing backup files A custom index sql backup FILENAME may be passed as first argument. Use - for stdout.","title":"Backups"},{"location":"user-guide/advanced/backups/#backup-command","text":"PhotoPrism automatically creates the album and photo backup YAML files. If you want to update album backups or create a database backup you can use the backup command: docker-compose exec photoprism photoprism backup -a --albums-path PATH -i --index-path PATH [FILENAME] -a = create album backups --albums-path = optional, path where album backups will be stored -i = create database backup --index-path = optional, path for the database backup -f = overwrite existing backup files A custom index sql backup FILENAME may be passed as first argument. Use - for stdout.","title":"Backup Command"},{"location":"user-guide/advanced/commands/","text":"Photoprism provides commands to keep your instance clean or to update backups. Some commands are executed in the background. Others can only be triggered manually. Cleanup \u00b6 What does it? \u00b6 When is it executed? \u00b6 Optimize \u00b6 What does it? \u00b6 The optimize command checks all files with checked = false for metadata optimizations. Those include: Estimate locations Use mod date as date if no other date is provided ..... Set checked = true for all the files it checked When is it executed? \u00b6 By default optimize is running every 15 minutes. This interval can be configured using: PHOTOPRISM_WAKEUP_INTERVAL . After 7 days the files with checked = true will be reset to checked = false. Purge \u00b6 What does it? \u00b6 When is it executed? \u00b6 Reset db \u00b6 Restore \u00b6 How to migrate between different dbs \u00b6","title":"Commands"},{"location":"user-guide/advanced/commands/#cleanup","text":"","title":"Cleanup"},{"location":"user-guide/advanced/commands/#what-does-it","text":"","title":"What does it?"},{"location":"user-guide/advanced/commands/#when-is-it-executed","text":"","title":"When is it executed?"},{"location":"user-guide/advanced/commands/#optimize","text":"","title":"Optimize"},{"location":"user-guide/advanced/commands/#what-does-it_1","text":"The optimize command checks all files with checked = false for metadata optimizations. Those include: Estimate locations Use mod date as date if no other date is provided ..... Set checked = true for all the files it checked","title":"What does it?"},{"location":"user-guide/advanced/commands/#when-is-it-executed_1","text":"By default optimize is running every 15 minutes. This interval can be configured using: PHOTOPRISM_WAKEUP_INTERVAL . After 7 days the files with checked = true will be reset to checked = false.","title":"When is it executed?"},{"location":"user-guide/advanced/commands/#purge","text":"","title":"Purge"},{"location":"user-guide/advanced/commands/#what-does-it_2","text":"","title":"What does it?"},{"location":"user-guide/advanced/commands/#when-is-it-executed_2","text":"","title":"When is it executed?"},{"location":"user-guide/advanced/commands/#reset-db","text":"","title":"Reset db"},{"location":"user-guide/advanced/commands/#restore","text":"","title":"Restore"},{"location":"user-guide/advanced/commands/#how-to-migrate-between-different-dbs","text":"","title":"How to migrate between different dbs"},{"location":"user-guide/advanced/export/","text":"Exporting your data \u00b6 Control of your data does not only refer to being able to restore a backup in PhotoPrism. It also refers to providing users with multiple ways of accessing the metadata they've added to their libraries independent from the software itself. People that don't know what to do with a database will probably not feel in control when they only get a sql file that a regular backup provides. Because of this, PhotoPrism has handy features for exporting your metadata in a human-readable format as well as a regular database-backup. In case you have backups enabled in your Settings , PhotoPrism automatically creates YAML backup files for albums and photos. Keep in mind that the data still resides in your database, and any changes made to the files will not be reflected in PhotoPrism. This is comparable to doing a backup, but to a human readable format. Album Backups \u00b6 Album backups are created for the following album types: album, folder, state, moment and month. You find those backups inside of your storage path in /albums . Album Backups \u00b6 For each album the following metadata is stored in the YAML file: UID, Slug, Type, Title, Location, Category, Description, Sort Order, Country, CreatedAt, UpdatedAt, Photos (UID + date the photo was added to the album) Folder Backups \u00b6 For each folder the following metadata is stored in the YAML file: UID, Slug, Type, Title, Location, Category, Description, Filter, Sort order, Country, Year, Month, Day, CreatedAt, UpdatedAt Month Backups \u00b6 For each month the following metadata is stored in the YAML file: UID, Slug, Type, Title, Location, Category, Description, Filter, Sort Order, Country, Year, Month, CreatedAt, UpdatedAt State Backups \u00b6 For each state the following metadata is stored in the YAML file: UID, Slug, Type, Title, Location, Category, Description, Filter, Sort Order, Country, CreatedAt, UpdatedAt Moment Backups \u00b6 For each moment the following metadata is stored in the YAML file: UID, Slug, Type, Title, Location, Category, Description, Filter, Sort Order, Country, Year, CreatedAt, UpdatedAt Photo Backups \u00b6 PhotoPrism creates YAML backup files for each photo in your sidecar path . The following metadata is stored: TakenAt + Source, UID, Type, Title + Source, Description + Source, OriginalName, TimeZone, PlaceSrc, Altitude, Lat, Lng, Year, Month, Day, Iso, Exposure, FNumber, FocalLength, Quality, Favorite, Private, Keywords + Source, Notes + Source, Subject + Source, Artist + Source, Copyright + Source, License + Source, CreatedAt, UpdatedAt, EditedAt, DeletedAt (Archived) Helpful information can be found on GitHub as well.","title":"Metadata Export"},{"location":"user-guide/advanced/export/#exporting-your-data","text":"Control of your data does not only refer to being able to restore a backup in PhotoPrism. It also refers to providing users with multiple ways of accessing the metadata they've added to their libraries independent from the software itself. People that don't know what to do with a database will probably not feel in control when they only get a sql file that a regular backup provides. Because of this, PhotoPrism has handy features for exporting your metadata in a human-readable format as well as a regular database-backup. In case you have backups enabled in your Settings , PhotoPrism automatically creates YAML backup files for albums and photos. Keep in mind that the data still resides in your database, and any changes made to the files will not be reflected in PhotoPrism. This is comparable to doing a backup, but to a human readable format.","title":"Exporting your data"},{"location":"user-guide/advanced/export/#album-backups","text":"Album backups are created for the following album types: album, folder, state, moment and month. You find those backups inside of your storage path in /albums .","title":"Album Backups"},{"location":"user-guide/advanced/export/#album-backups_1","text":"For each album the following metadata is stored in the YAML file: UID, Slug, Type, Title, Location, Category, Description, Sort Order, Country, CreatedAt, UpdatedAt, Photos (UID + date the photo was added to the album)","title":"Album Backups"},{"location":"user-guide/advanced/export/#folder-backups","text":"For each folder the following metadata is stored in the YAML file: UID, Slug, Type, Title, Location, Category, Description, Filter, Sort order, Country, Year, Month, Day, CreatedAt, UpdatedAt","title":"Folder Backups"},{"location":"user-guide/advanced/export/#month-backups","text":"For each month the following metadata is stored in the YAML file: UID, Slug, Type, Title, Location, Category, Description, Filter, Sort Order, Country, Year, Month, CreatedAt, UpdatedAt","title":"Month Backups"},{"location":"user-guide/advanced/export/#state-backups","text":"For each state the following metadata is stored in the YAML file: UID, Slug, Type, Title, Location, Category, Description, Filter, Sort Order, Country, CreatedAt, UpdatedAt","title":"State Backups"},{"location":"user-guide/advanced/export/#moment-backups","text":"For each moment the following metadata is stored in the YAML file: UID, Slug, Type, Title, Location, Category, Description, Filter, Sort Order, Country, Year, CreatedAt, UpdatedAt","title":"Moment Backups"},{"location":"user-guide/advanced/export/#photo-backups","text":"PhotoPrism creates YAML backup files for each photo in your sidecar path . The following metadata is stored: TakenAt + Source, UID, Type, Title + Source, Description + Source, OriginalName, TimeZone, PlaceSrc, Altitude, Lat, Lng, Year, Month, Day, Iso, Exposure, FNumber, FocalLength, Quality, Favorite, Private, Keywords + Source, Notes + Source, Subject + Source, Artist + Source, Copyright + Source, License + Source, CreatedAt, UpdatedAt, EditedAt, DeletedAt (Archived) Helpful information can be found on GitHub as well.","title":"Photo Backups"},{"location":"user-guide/advanced/folders/","text":"This page gives you an overview about the directories used by PhotoPrism. Originals \u00b6 This path can be configured by PHOTOPRISM_ORIGINALS_PATH . The originals directory contains your photo library. PhotoPrism will never move or rename files in this folder. It may add files from uploads or imports, unless read-only mode is enabled. Import \u00b6 This path can be configured by PHOTOPRISM_IMPORT_PATH . If you decide to use our import functionality, you add your photos to the import directory, so that they can be imported into originals . Storage \u00b6 The storage path can be configured using PHOTOPRISM_STORAGE_PATH . In case cache, sidecar and config path are not defined separately, those are located in the storage directory. In addition the storage directory contains album backups in /albums as well as database files. You storage path must NOT be located in your originals path. Otherwise your thumbnails will be indexed as well! Cache \u00b6 The cache directory contains json and thumbnails directories. The path can be set using PHOTOPRISM_CACHE_PATH . JSON \u00b6 PhotoPrism creates JSON files containing a file's metadata, read by exiftool, in this directory. You can prevent PhotoPrism from creating those JSON files by disabling exiftool in Settings . Thumbnails \u00b6 PhotoPrism creates thumbnails in different sizes for each photo. Those are stored in the thumbnails directory. More information on thumbnails can be found here . Sidecar \u00b6 In the sidecar directory PhotoPrism stores YAML backup files for each photo as well as JPEG's it converted e.g. from RAWs. Both backup and converting functionalities can be disabled in Settings . The sidecar path can be configured using PHOTOPRISM_SIDECAR_PATH . Config \u00b6 In the config path, setting files might be stored. It can be set with PHOTOPRISM_CONFIG_PATH . Backup \u00b6 Database backup files are stored in the backup directory. It can be configured using PHOTOPRISM_BACKUP_PATH . Temp \u00b6 In the temp directory, uploads and downloads are temporarily stored. You can configure the path using PHOTOPRISM_TEMP_PATH . Asset \u00b6 The asset path is used to store static resources like models and templates. It can be set using PHOTOPRISM_ASSETS_PATH .","title":"Folders"},{"location":"user-guide/advanced/folders/#originals","text":"This path can be configured by PHOTOPRISM_ORIGINALS_PATH . The originals directory contains your photo library. PhotoPrism will never move or rename files in this folder. It may add files from uploads or imports, unless read-only mode is enabled.","title":"Originals"},{"location":"user-guide/advanced/folders/#import","text":"This path can be configured by PHOTOPRISM_IMPORT_PATH . If you decide to use our import functionality, you add your photos to the import directory, so that they can be imported into originals .","title":"Import"},{"location":"user-guide/advanced/folders/#storage","text":"The storage path can be configured using PHOTOPRISM_STORAGE_PATH . In case cache, sidecar and config path are not defined separately, those are located in the storage directory. In addition the storage directory contains album backups in /albums as well as database files. You storage path must NOT be located in your originals path. Otherwise your thumbnails will be indexed as well!","title":"Storage"},{"location":"user-guide/advanced/folders/#cache","text":"The cache directory contains json and thumbnails directories. The path can be set using PHOTOPRISM_CACHE_PATH .","title":"Cache"},{"location":"user-guide/advanced/folders/#json","text":"PhotoPrism creates JSON files containing a file's metadata, read by exiftool, in this directory. You can prevent PhotoPrism from creating those JSON files by disabling exiftool in Settings .","title":"JSON"},{"location":"user-guide/advanced/folders/#thumbnails","text":"PhotoPrism creates thumbnails in different sizes for each photo. Those are stored in the thumbnails directory. More information on thumbnails can be found here .","title":"Thumbnails"},{"location":"user-guide/advanced/folders/#sidecar","text":"In the sidecar directory PhotoPrism stores YAML backup files for each photo as well as JPEG's it converted e.g. from RAWs. Both backup and converting functionalities can be disabled in Settings . The sidecar path can be configured using PHOTOPRISM_SIDECAR_PATH .","title":"Sidecar"},{"location":"user-guide/advanced/folders/#config","text":"In the config path, setting files might be stored. It can be set with PHOTOPRISM_CONFIG_PATH .","title":"Config"},{"location":"user-guide/advanced/folders/#backup","text":"Database backup files are stored in the backup directory. It can be configured using PHOTOPRISM_BACKUP_PATH .","title":"Backup"},{"location":"user-guide/advanced/folders/#temp","text":"In the temp directory, uploads and downloads are temporarily stored. You can configure the path using PHOTOPRISM_TEMP_PATH .","title":"Temp"},{"location":"user-guide/advanced/folders/#asset","text":"The asset path is used to store static resources like models and templates. It can be set using PHOTOPRISM_ASSETS_PATH .","title":"Asset"},{"location":"user-guide/advanced/metadata/","text":"Extraction \u00b6 PhotoPrism aims to extract as much metadata from your original files as possible. This is an ongoing task. If you are using certain standard exif or xmp fields that are not supported yet, feel free to open an issue or pull request. Supported Exiftool & XMP Tags \u00b6 PhotoPrism uses exiftool to extract metadata from different file formats like EXIF, XMP, IPTC and more. We additionally parse XMP. This table gives an overview what tags from exiftool or XMP are mapped to which fields in PhotoPrism. If you update one of those tags using another tool such as Exiftool or Digikam, PhotoPrism will read the changes during the next indexing. Provided the files modifyDate has been updated. In case a field is populated with data from xmp, the data from xmp is the single source for this field. Meaning e.g keywords from xmp overwrite other keywords coming from PhotoPrism such as colors or keywords derived from folder names. PhotoPrism Type Exiftool Adobe XMP DCMI Aperture decimal ApertureValue, Aperture FNumber decimal FNumber FPS decimal VideoFrameRate, VideoAvgFrameRate Duration duration Duration, MediaDuration, TrackDuration Flash flag FlashFired Keywords list Keywords Altitude number GlobalAltitude, GPSAltitude FocalLength number FocalLength Frames number FrameCount Height number PixelYDimension, ImageHeight, ImageLength, ExifImageHeight, SourceImageHeight ImageType number HDRImageType Iso number ISO Rotation number Rotation Width number PixelXDimension, ImageWidth, ExifImageWidth, SourceImageWidth Artist text Artist, Creator, OwnerName, Owner Creator CameraMake text CameraMake, Make Make CameraModel text CameraModel, Model Model CameraOwner text OwnerName CameraSerial text SerialNumber Codec text CompressorID, FileType ColorProfile text ICCProfileName, ProfileDescription Copyright text Rights, Copyright, WebStatement Rights, Rights.Alt Description text Description Description, Description.Alt DocumentID text BurstUUID, MediaGroupUUID, ImageUniqueID, OriginalDocumentID, DocumentID Exposure text ExposureTime, ShutterSpeedValue, ShutterSpeed, TargetExposureTime FileName text FileName GPSLatitude text GPSLatitude GPSLongitude text GPSLongitude GPSPosition text GPSPosition InstanceID text InstanceID, DocumentID LensMake text LensMake LensModel text Lens, LensModel LensModel License text UsageTerms, License Notes text Comment Projection text ProjectionType Software text Software, HistorySoftwareAgent, ProcessingSoftware Subject text Subject, PersonInImage, ObjectName, HierarchicalSubject, CatalogSets Subject Title text Title dc:title title, title.Alt TakenAt timestamp DateTimeOriginal, CreationDate, CreateDate, MediaCreateDate, ContentCreateDate, DateTimeDigitized, DateTime, SubSecDateTimeOriginal, SubSecCreateDate DateCreated TakenAtLocal timestamp DateTimeOriginal, CreationDate, CreateDate, MediaCreateDate, ContentCreateDate, DateTimeDigitized, DateTime, SubSecDateTimeOriginal, SubSecCreateDate TakenGps timestamp GPSDateTime, GPSDateStamp Migrate from other Tools \u00b6 PhotoPrism also reads metadata from Google Photo's json files or Apple's xmp files. Google Photos Apple Photos Enrichment \u00b6 In addition to reading metadata from your original and sidecar files, PhotoPrism enriches the metadata of your photos with additional information: dates or keywords from folder or filenames keywords derived from image classification, color detection and facial recognition GPS information from location estimates keywords derived from location details Export \u00b6 PhotoPrism does not yet write back changes to EXIF or XMP (see discussion ). We want you to have access to your metadata independent from PhotoPrism or its database, that's why we create human-readable YAML files with metadata you add to your files using PhotoPrism.","title":"Metadata"},{"location":"user-guide/advanced/metadata/#extraction","text":"PhotoPrism aims to extract as much metadata from your original files as possible. This is an ongoing task. If you are using certain standard exif or xmp fields that are not supported yet, feel free to open an issue or pull request.","title":"Extraction"},{"location":"user-guide/advanced/metadata/#supported-exiftool-xmp-tags","text":"PhotoPrism uses exiftool to extract metadata from different file formats like EXIF, XMP, IPTC and more. We additionally parse XMP. This table gives an overview what tags from exiftool or XMP are mapped to which fields in PhotoPrism. If you update one of those tags using another tool such as Exiftool or Digikam, PhotoPrism will read the changes during the next indexing. Provided the files modifyDate has been updated. In case a field is populated with data from xmp, the data from xmp is the single source for this field. Meaning e.g keywords from xmp overwrite other keywords coming from PhotoPrism such as colors or keywords derived from folder names. PhotoPrism Type Exiftool Adobe XMP DCMI Aperture decimal ApertureValue, Aperture FNumber decimal FNumber FPS decimal VideoFrameRate, VideoAvgFrameRate Duration duration Duration, MediaDuration, TrackDuration Flash flag FlashFired Keywords list Keywords Altitude number GlobalAltitude, GPSAltitude FocalLength number FocalLength Frames number FrameCount Height number PixelYDimension, ImageHeight, ImageLength, ExifImageHeight, SourceImageHeight ImageType number HDRImageType Iso number ISO Rotation number Rotation Width number PixelXDimension, ImageWidth, ExifImageWidth, SourceImageWidth Artist text Artist, Creator, OwnerName, Owner Creator CameraMake text CameraMake, Make Make CameraModel text CameraModel, Model Model CameraOwner text OwnerName CameraSerial text SerialNumber Codec text CompressorID, FileType ColorProfile text ICCProfileName, ProfileDescription Copyright text Rights, Copyright, WebStatement Rights, Rights.Alt Description text Description Description, Description.Alt DocumentID text BurstUUID, MediaGroupUUID, ImageUniqueID, OriginalDocumentID, DocumentID Exposure text ExposureTime, ShutterSpeedValue, ShutterSpeed, TargetExposureTime FileName text FileName GPSLatitude text GPSLatitude GPSLongitude text GPSLongitude GPSPosition text GPSPosition InstanceID text InstanceID, DocumentID LensMake text LensMake LensModel text Lens, LensModel LensModel License text UsageTerms, License Notes text Comment Projection text ProjectionType Software text Software, HistorySoftwareAgent, ProcessingSoftware Subject text Subject, PersonInImage, ObjectName, HierarchicalSubject, CatalogSets Subject Title text Title dc:title title, title.Alt TakenAt timestamp DateTimeOriginal, CreationDate, CreateDate, MediaCreateDate, ContentCreateDate, DateTimeDigitized, DateTime, SubSecDateTimeOriginal, SubSecCreateDate DateCreated TakenAtLocal timestamp DateTimeOriginal, CreationDate, CreateDate, MediaCreateDate, ContentCreateDate, DateTimeDigitized, DateTime, SubSecDateTimeOriginal, SubSecCreateDate TakenGps timestamp GPSDateTime, GPSDateStamp","title":"Supported Exiftool &amp; XMP Tags"},{"location":"user-guide/advanced/metadata/#migrate-from-other-tools","text":"PhotoPrism also reads metadata from Google Photo's json files or Apple's xmp files. Google Photos Apple Photos","title":"Migrate from other Tools"},{"location":"user-guide/advanced/metadata/#enrichment","text":"In addition to reading metadata from your original and sidecar files, PhotoPrism enriches the metadata of your photos with additional information: dates or keywords from folder or filenames keywords derived from image classification, color detection and facial recognition GPS information from location estimates keywords derived from location details","title":"Enrichment"},{"location":"user-guide/advanced/metadata/#export","text":"PhotoPrism does not yet write back changes to EXIF or XMP (see discussion ). We want you to have access to your metadata independent from PhotoPrism or its database, that's why we create human-readable YAML files with metadata you add to your files using PhotoPrism.","title":"Export"},{"location":"user-guide/advanced/restore/","text":"Restoring from backup \u00b6 In order to fully restore your PhotoPrism instance you need the following: All content from your originals folder An index database SQL dump (A backup based on our documentation will be enough) After verifying that you have all you need, continue with the following restore-procedure: Restore the contents in your originals folder photoprism restore -i [filename-to-your-sql-dump] Re-index (Complete rescan) your library, in order to re-generate thumbnails. Helpful information can be found on GitHub as well.","title":"Restore"},{"location":"user-guide/advanced/restore/#restoring-from-backup","text":"In order to fully restore your PhotoPrism instance you need the following: All content from your originals folder An index database SQL dump (A backup based on our documentation will be enough) After verifying that you have all you need, continue with the following restore-procedure: Restore the contents in your originals folder photoprism restore -i [filename-to-your-sql-dump] Re-index (Complete rescan) your library, in order to re-generate thumbnails. Helpful information can be found on GitHub as well.","title":"Restoring from backup"},{"location":"user-guide/library/","text":"Managing Your Photo Library \u00b6 Should I import or index my files? \u00b6 Import is a temporary folder from which files can be transferred to the originals folder in a structured way that avoids duplicates. Imported files receive a canonical filename and will be organized by year and month. Most users with existing photo libraries will want to index their originals folder directly without importing files, leaving the existing file and folder names unchanged. On the other hand importing is an efficient way to add files, since PhotoPrism doesn't have to search your originals folder to find new files. Hidden files and folders that start with a . or @ are automatically ignored. Other names to be ignored can be added to a .ppignore file in the originals or import folder it should affect. You can put it either in the main folder or in a subfolder to limit the scope. Index \u00b6 Use index when you want to index your photos and videos directly in the originals folder without copying, moving or renaming them in any way. Your folder structure in originals might look like this: During indexing: Files are not renamed or moved Your existing folder structure remains. You might decide to have your folders displayed as albums in PhotoPrism Metadata from your files is read to create labels, titles and locations for your photos Thumbnails are rendered for JPEGs Optionally json and or yml files containing metadata are created After indexing your originals folder has not been touched: Advantages \u00b6 You keep your existing folder structure You can display your existing folder structure in PhotoPrism You can move photos between the various folders within your Originals folder. PhotoPrism will recognize this move and update appropriately during the next index. Import \u00b6 Importing is more efficient when adding files as you don't need to re-index all originals to find new photos and videos. Uploads will also be treated as import, you can't directly upload to originals (yet). Your initial folder structure in import might look like this: During import: Files are moved or copied from import directory to originals directory In the originals directory files are renamed and get a new folder structure. The original name is saved as property of the file All imported files are indexed After import using \"copy\" (this is the default) your folders could look like this: After import using \"move\" your folders might look like this: Advantages \u00b6 Unsupported files stay untouched in the import directory No duplicates in your originals directory Original file and folder names are used to create keywords. In case you import and index or only index a directory with the path \"Vacation/Africa\". All files from this folder get the keywords \"vacation\" and \"africa\". Conclusion \u00b6 In case you have no organization in your existing photo collection and you assume you have many duplicates on various hard drives. Import is the way to go. It will organize all your photos and videos due to time taken and it will avoid duplicates. In case you have your photo collection organized nicely in folders and you prefer to keep this organization displayed in the filesystem. Index will be the right option for you.","title":"Introduction"},{"location":"user-guide/library/#managing-your-photo-library","text":"","title":"Managing Your Photo Library"},{"location":"user-guide/library/#should-i-import-or-index-my-files","text":"Import is a temporary folder from which files can be transferred to the originals folder in a structured way that avoids duplicates. Imported files receive a canonical filename and will be organized by year and month. Most users with existing photo libraries will want to index their originals folder directly without importing files, leaving the existing file and folder names unchanged. On the other hand importing is an efficient way to add files, since PhotoPrism doesn't have to search your originals folder to find new files. Hidden files and folders that start with a . or @ are automatically ignored. Other names to be ignored can be added to a .ppignore file in the originals or import folder it should affect. You can put it either in the main folder or in a subfolder to limit the scope.","title":"Should I import or index my files?"},{"location":"user-guide/library/#index","text":"Use index when you want to index your photos and videos directly in the originals folder without copying, moving or renaming them in any way. Your folder structure in originals might look like this: During indexing: Files are not renamed or moved Your existing folder structure remains. You might decide to have your folders displayed as albums in PhotoPrism Metadata from your files is read to create labels, titles and locations for your photos Thumbnails are rendered for JPEGs Optionally json and or yml files containing metadata are created After indexing your originals folder has not been touched:","title":"Index"},{"location":"user-guide/library/#advantages","text":"You keep your existing folder structure You can display your existing folder structure in PhotoPrism You can move photos between the various folders within your Originals folder. PhotoPrism will recognize this move and update appropriately during the next index.","title":"Advantages"},{"location":"user-guide/library/#import","text":"Importing is more efficient when adding files as you don't need to re-index all originals to find new photos and videos. Uploads will also be treated as import, you can't directly upload to originals (yet). Your initial folder structure in import might look like this: During import: Files are moved or copied from import directory to originals directory In the originals directory files are renamed and get a new folder structure. The original name is saved as property of the file All imported files are indexed After import using \"copy\" (this is the default) your folders could look like this: After import using \"move\" your folders might look like this:","title":"Import"},{"location":"user-guide/library/#advantages_1","text":"Unsupported files stay untouched in the import directory No duplicates in your originals directory Original file and folder names are used to create keywords. In case you import and index or only index a directory with the path \"Vacation/Africa\". All files from this folder get the keywords \"vacation\" and \"africa\".","title":"Advantages"},{"location":"user-guide/library/#conclusion","text":"In case you have no organization in your existing photo collection and you assume you have many duplicates on various hard drives. Import is the way to go. It will organize all your photos and videos due to time taken and it will avoid duplicates. In case you have your photo collection organized nicely in folders and you prefer to keep this organization displayed in the filesystem. Index will be the right option for you.","title":"Conclusion"},{"location":"user-guide/library/duplicates/","text":"Duplicates \u00b6 Exact duplicates \u00b6 PhotoPrism automatically detects exact duplicates for you. When you use import , duplicates are skipped, so you don't have duplicate files in your library. If you use index , duplicates are also detected; they appear only once in PhotoPrism's views. Viewing and deleting duplicate files via the Web UI is planned . Related files \u00b6 Besides exact duplicates, there may be related files in your library, e.g raw + jpg + xmp jpg + json original + edited version original + compressed version timelapse photos Related files can be stacked automatically.","title":"Duplicates"},{"location":"user-guide/library/duplicates/#duplicates","text":"","title":"Duplicates"},{"location":"user-guide/library/duplicates/#exact-duplicates","text":"PhotoPrism automatically detects exact duplicates for you. When you use import , duplicates are skipped, so you don't have duplicate files in your library. If you use index , duplicates are also detected; they appear only once in PhotoPrism's views. Viewing and deleting duplicate files via the Web UI is planned .","title":"Exact duplicates"},{"location":"user-guide/library/duplicates/#related-files","text":"Besides exact duplicates, there may be related files in your library, e.g raw + jpg + xmp jpg + json original + edited version original + compressed version timelapse photos Related files can be stacked automatically.","title":"Related files"},{"location":"user-guide/library/files/","text":"Browsing Files and Folders \u00b6 The Originals section displays all files of your originals directory. Clicking on a file opens its edit dialog. The context menu allows you to perform the following actions: Download Files \u00b6 Select files Open context menu Click Create an Album from Files \u00b6 Select files Open context menu Click Select existing album or enter new album name Click add to album","title":"File Browser"},{"location":"user-guide/library/files/#browsing-files-and-folders","text":"The Originals section displays all files of your originals directory. Clicking on a file opens its edit dialog. The context menu allows you to perform the following actions:","title":"Browsing Files and Folders"},{"location":"user-guide/library/files/#download-files","text":"Select files Open context menu Click","title":"Download Files"},{"location":"user-guide/library/files/#create-an-album-from-files","text":"Select files Open context menu Click Select existing album or enter new album name Click add to album","title":"Create an Album from Files"},{"location":"user-guide/library/import/","text":"Importing Files to Originals \u00b6 Add files to the import folder if not done already Go to Library using the main navigation, and open the Import tab Select a sub-folder or keep the default to import all files Select Move Files if you want imported files to be removed from the import folder Click on Import You may use WebDAV for adding files to the import folder. This is especially helpful if PhotoPrism is running on a remote server. Importing is not possible in read-only mode as it requires write permissions for the originals folder. When should \"Move Files\" be selected? \u00b6 If selected, files that have been moved to the originals folder, or that already exist, will automatically be deleted from the import folder. This will save storage if you don't want to keep them as backup, or for any other reason. Automatic Import \u00b6 The Importer is triggered automatically 15 Minutes after the import folder has been edited via WebDAV. 15 Minutes is the default value, it can be changed using the respective config option . Can I use PhotoPrism to sort files into a configurable folder structure? You have complete freedom in how you organize your originals. If you don't like the unique names and folders used by the import function, you can resort to external batch renaming tools, for example: ExifTool PhockUp Photo Organizer Configurable import folders may be available in a later version. This is because - depending on the specific pattern - appropriate conflict resolution is required and the patterns must be well understood and validated to avoid typos or other misconfigurations that lead to undesired results for which we do not want to be responsible.","title":"Import Files"},{"location":"user-guide/library/import/#importing-files-to-originals","text":"Add files to the import folder if not done already Go to Library using the main navigation, and open the Import tab Select a sub-folder or keep the default to import all files Select Move Files if you want imported files to be removed from the import folder Click on Import You may use WebDAV for adding files to the import folder. This is especially helpful if PhotoPrism is running on a remote server. Importing is not possible in read-only mode as it requires write permissions for the originals folder.","title":"Importing Files to Originals"},{"location":"user-guide/library/import/#when-should-move-files-be-selected","text":"If selected, files that have been moved to the originals folder, or that already exist, will automatically be deleted from the import folder. This will save storage if you don't want to keep them as backup, or for any other reason.","title":"When should \"Move Files\" be selected?"},{"location":"user-guide/library/import/#automatic-import","text":"The Importer is triggered automatically 15 Minutes after the import folder has been edited via WebDAV. 15 Minutes is the default value, it can be changed using the respective config option . Can I use PhotoPrism to sort files into a configurable folder structure? You have complete freedom in how you organize your originals. If you don't like the unique names and folders used by the import function, you can resort to external batch renaming tools, for example: ExifTool PhockUp Photo Organizer Configurable import folders may be available in a later version. This is because - depending on the specific pattern - appropriate conflict resolution is required and the patterns must be well understood and validated to avoid typos or other misconfigurations that lead to undesired results for which we do not want to be responsible.","title":"Automatic Import"},{"location":"user-guide/library/originals/","text":"Indexing Originals \u00b6 If you're using PhotoPrism for the first time, make sure your photo and video collection is properly configured as originals folder. See installation instructions in Getting Started for details. When starting with an empty folder, you need to add or upload files first. Go to Library using the main navigation Select a sub-folder or keep the default to index all files Select Complete Rescan to re-index all originals, including already indexed and unchanged files Press Start to start indexing You can use WebDAV -compatible apps, including Microsoft's Windows Explorer and Apple's Finder, to add files to your originals folders from a remote computer or mobile device. NSFW An NSFW detector can be enabled to automatically mark images with potentially objectionable content as private. Note that this feature is only partially reliable. Ignoring Files and Folders \u00b6 Hidden files and folders that start with a . or @ are automatically ignored. Other names to be ignored can be added to a .ppignore file in the originals or import folder it should affect. You can put it either in the main folder or in a subfolder to limit the scope. Example: # ignore a directory by its name foo # ignore all files *.* # ignore all files with gif extension *.gif # ignore videos which name start with MVI MVI_*.MOV # or MVI_*.* Names in the same directory and in all subdirectories are ignored. You can use * as a wildcard. Files and folders that have already been indexed cannot be retroactively removed from the index using a .ppignore file. Adding their name won't remove them from PhotoPrism. If you are a new user and files or folders have already been indexed, it is generally easiest to reset the database and start with a new index by running photoprism reset in a terminal . When should \"Complete Rescan\" be selected? \u00b6 If selected, all files in the originals folder will be re-indexed, including already indexed and unchanged files. This may be necessary after upgrading, especially to new major versions. Automatic Indexing \u00b6 The Indexer is triggered automatically 15 Minutes after the originals folder has been edited via WebDAV. 15 Minutes is the default value, it can be changed using the respective config option .","title":"Index Originals"},{"location":"user-guide/library/originals/#indexing-originals","text":"If you're using PhotoPrism for the first time, make sure your photo and video collection is properly configured as originals folder. See installation instructions in Getting Started for details. When starting with an empty folder, you need to add or upload files first. Go to Library using the main navigation Select a sub-folder or keep the default to index all files Select Complete Rescan to re-index all originals, including already indexed and unchanged files Press Start to start indexing You can use WebDAV -compatible apps, including Microsoft's Windows Explorer and Apple's Finder, to add files to your originals folders from a remote computer or mobile device. NSFW An NSFW detector can be enabled to automatically mark images with potentially objectionable content as private. Note that this feature is only partially reliable.","title":"Indexing Originals"},{"location":"user-guide/library/originals/#ignoring-files-and-folders","text":"Hidden files and folders that start with a . or @ are automatically ignored. Other names to be ignored can be added to a .ppignore file in the originals or import folder it should affect. You can put it either in the main folder or in a subfolder to limit the scope. Example: # ignore a directory by its name foo # ignore all files *.* # ignore all files with gif extension *.gif # ignore videos which name start with MVI MVI_*.MOV # or MVI_*.* Names in the same directory and in all subdirectories are ignored. You can use * as a wildcard. Files and folders that have already been indexed cannot be retroactively removed from the index using a .ppignore file. Adding their name won't remove them from PhotoPrism. If you are a new user and files or folders have already been indexed, it is generally easiest to reset the database and start with a new index by running photoprism reset in a terminal .","title":"Ignoring Files and Folders"},{"location":"user-guide/library/originals/#when-should-complete-rescan-be-selected","text":"If selected, all files in the originals folder will be re-indexed, including already indexed and unchanged files. This may be necessary after upgrading, especially to new major versions.","title":"When should \"Complete Rescan\" be selected?"},{"location":"user-guide/library/originals/#automatic-indexing","text":"The Indexer is triggered automatically 15 Minutes after the originals folder has been edited via WebDAV. 15 Minutes is the default value, it can be changed using the respective config option .","title":"Automatic Indexing"},{"location":"user-guide/library/upload/","text":"File Upload Using the Web UI \u00b6 From Toolbar From Library Click in the upper right corner In case you want to upload the files directly to an album select one Click Upload Select files Click Upload to start uploading and importing the selected files Go to Library using the main navigation, and open the Import tab Click Upload In case you want to upload the files directly to an album select one Click Upload Select files Click Upload to start uploading and importing the selected files","title":"Web Upload"},{"location":"user-guide/library/upload/#file-upload-using-the-web-ui","text":"From Toolbar From Library Click in the upper right corner In case you want to upload the files directly to an album select one Click Upload Select files Click Upload to start uploading and importing the selected files Go to Library using the main navigation, and open the Import tab Click Upload In case you want to upload the files directly to an album select one Click Upload Select files Click Upload to start uploading and importing the selected files","title":"File Upload Using the Web UI"},{"location":"user-guide/library/webdav/","text":"WebDAV File Upload \u00b6 WebDAV-compatible apps and clients such as PhotoSync , Microsoft's Windows Explorer, and Apple's Finder can connect directly to PhotoPrism: \u21aa Connecting via WebDAV After files have been transferred, you can index or import them as usual. By default, indexing and importing start automatically after a safety delay when files have been uploaded using WebDAV. You can disable WebDAV in Advanced Settings . For security reasons, the built-in WebDAV server is automatically disabled when running in public mode without authentication. You can also use WebDAV to download files from your library: Simply connect to http://server-ip:2342/originals/ (local server without HTTPS) or https://yourdomain/originals/ (public server with HTTPS enabled), and then copy the files to a folder on your local device.","title":"WebDAV Sync"},{"location":"user-guide/library/webdav/#webdav-file-upload","text":"WebDAV-compatible apps and clients such as PhotoSync , Microsoft's Windows Explorer, and Apple's Finder can connect directly to PhotoPrism: \u21aa Connecting via WebDAV After files have been transferred, you can index or import them as usual. By default, indexing and importing start automatically after a safety delay when files have been uploaded using WebDAV. You can disable WebDAV in Advanced Settings . For security reasons, the built-in WebDAV server is automatically disabled when running in public mode without authentication. You can also use WebDAV to download files from your library: Simply connect to http://server-ip:2342/originals/ (local server without HTTPS) or https://yourdomain/originals/ (public server with HTTPS enabled), and then copy the files to a folder on your local device.","title":"WebDAV File Upload"},{"location":"user-guide/organize/albums/","text":"Albums \u00b6 Create New Album \u00b6 Go to Albums In the upper right corner click A new album with name \"Month Year\" is created Edit Album Details \u00b6 Go to Albums and open the album edit dialog From Title Context Menu Album Toolbar Click on the album title Select album, open context menu and click Open album and click in the upper right corner Edit album details and click save Add Photos to Album \u00b6 Select photos and videos Click context menu Click Select album Click add to album You can select many photos at once using shift. Remove Photos from Album \u00b6 Go to your album Select photos/videos you want to remove Click context menu Click","title":"Albums"},{"location":"user-guide/organize/albums/#albums","text":"","title":"Albums"},{"location":"user-guide/organize/albums/#create-new-album","text":"Go to Albums In the upper right corner click A new album with name \"Month Year\" is created","title":"Create New Album"},{"location":"user-guide/organize/albums/#edit-album-details","text":"Go to Albums and open the album edit dialog From Title Context Menu Album Toolbar Click on the album title Select album, open context menu and click Open album and click in the upper right corner Edit album details and click save","title":"Edit Album Details"},{"location":"user-guide/organize/albums/#add-photos-to-album","text":"Select photos and videos Click context menu Click Select album Click add to album You can select many photos at once using shift.","title":"Add Photos to Album"},{"location":"user-guide/organize/albums/#remove-photos-from-album","text":"Go to your album Select photos/videos you want to remove Click context menu Click","title":"Remove Photos from Album"},{"location":"user-guide/organize/archive/","text":"Archive \u00b6 You can move photos and videos you do not want to keep in your collection to Archive . Content that is archived is not deleted but it will not appear in any section apart from Archive . Archive Photos \u00b6 Select photos/videos Click context menu Click Restore Photos from Archive \u00b6 Go to Archive Select photos/videos Click context menu Click","title":"Archive"},{"location":"user-guide/organize/archive/#archive","text":"You can move photos and videos you do not want to keep in your collection to Archive . Content that is archived is not deleted but it will not appear in any section apart from Archive .","title":"Archive"},{"location":"user-guide/organize/archive/#archive-photos","text":"Select photos/videos Click context menu Click","title":"Archive Photos"},{"location":"user-guide/organize/archive/#restore-photos-from-archive","text":"Go to Archive Select photos/videos Click context menu Click","title":"Restore Photos from Archive"},{"location":"user-guide/organize/browse/","text":"Browsing Your Photos \u00b6 PhotoPrism offers many views and search filters so that you can browse your pictures in multiple dimensions instead of only scrolling through them day by day. This helps you rediscover long-forgotten shots, find specific pictures, or quickly create albums based on filters. Views & Filters \u00b6 Using the main navigation you can visit the different sections of your photo library: Search \u00b6 Shows all photos and videos that are not in review or archived or private. In case the review, private or archive functions are turned off - Search displays those photos and videos as well. Monochrome \u00b6 Shows all monochrome photos and videos. Panoramas \u00b6 Shows all panorama photos. Stacks \u00b6 Shows all stacked photos. Scans \u00b6 Shows all scans. Review \u00b6 Shows all photos that are in review. Archive \u00b6 Shows archived photos. Albums \u00b6 Shows albums you created. Unsorted \u00b6 Shows all photos that are not part of an album. Videos \u00b6 Shows videos that are not in review or archived or private. People \u00b6 Shows photos and videos grouped by people on it. Favorites \u00b6 Shows all photos and videos you liked. Moments \u00b6 Discover albums we automatically create for you. Calendar \u00b6 Organizes your photos due to time taken. Places \u00b6 Displays all photos and videos with location information on a worldmap. States \u00b6 Shows your photos grouped by location. Labels \u00b6 Shows your photos and videos grouped by labels like cat, dog or beach. Folders \u00b6 Displays all folders of your originals directory. Private \u00b6 Shows photos and videos marked as private. Originals \u00b6 Hierarchical view of your originals directory.","title":"Sections"},{"location":"user-guide/organize/browse/#browsing-your-photos","text":"PhotoPrism offers many views and search filters so that you can browse your pictures in multiple dimensions instead of only scrolling through them day by day. This helps you rediscover long-forgotten shots, find specific pictures, or quickly create albums based on filters.","title":"Browsing Your Photos"},{"location":"user-guide/organize/browse/#views-filters","text":"Using the main navigation you can visit the different sections of your photo library:","title":"Views &amp; Filters"},{"location":"user-guide/organize/browse/#search","text":"Shows all photos and videos that are not in review or archived or private. In case the review, private or archive functions are turned off - Search displays those photos and videos as well.","title":" Search"},{"location":"user-guide/organize/browse/#monochrome","text":"Shows all monochrome photos and videos.","title":"Monochrome"},{"location":"user-guide/organize/browse/#panoramas","text":"Shows all panorama photos.","title":"Panoramas"},{"location":"user-guide/organize/browse/#stacks","text":"Shows all stacked photos.","title":"Stacks"},{"location":"user-guide/organize/browse/#scans","text":"Shows all scans.","title":"Scans"},{"location":"user-guide/organize/browse/#review","text":"Shows all photos that are in review.","title":"Review"},{"location":"user-guide/organize/browse/#archive","text":"Shows archived photos.","title":"Archive"},{"location":"user-guide/organize/browse/#albums","text":"Shows albums you created.","title":" Albums"},{"location":"user-guide/organize/browse/#unsorted","text":"Shows all photos that are not part of an album.","title":"Unsorted"},{"location":"user-guide/organize/browse/#videos","text":"Shows videos that are not in review or archived or private.","title":" Videos"},{"location":"user-guide/organize/browse/#people","text":"Shows photos and videos grouped by people on it.","title":" People"},{"location":"user-guide/organize/browse/#favorites","text":"Shows all photos and videos you liked.","title":" Favorites"},{"location":"user-guide/organize/browse/#moments","text":"Discover albums we automatically create for you.","title":" Moments"},{"location":"user-guide/organize/browse/#calendar","text":"Organizes your photos due to time taken.","title":" Calendar"},{"location":"user-guide/organize/browse/#places","text":"Displays all photos and videos with location information on a worldmap.","title":" Places"},{"location":"user-guide/organize/browse/#states","text":"Shows your photos grouped by location.","title":"States"},{"location":"user-guide/organize/browse/#labels","text":"Shows your photos and videos grouped by labels like cat, dog or beach.","title":" Labels"},{"location":"user-guide/organize/browse/#folders","text":"Displays all folders of your originals directory.","title":" Folders"},{"location":"user-guide/organize/browse/#private","text":"Shows photos and videos marked as private.","title":" Private"},{"location":"user-guide/organize/browse/#originals","text":"Hierarchical view of your originals directory.","title":" Originals"},{"location":"user-guide/organize/calendar/","text":"Calendar \u00b6 Our Calendar enables you to browse through your photos by year and month. The context menu allows you to perform the following actions: Download Months \u00b6 Select month Open context menu Click Create Albums from Months \u00b6 Select month Open context menu Click Select existing album or enter new album name Click add to album","title":"Calendar"},{"location":"user-guide/organize/calendar/#calendar","text":"Our Calendar enables you to browse through your photos by year and month. The context menu allows you to perform the following actions:","title":"Calendar"},{"location":"user-guide/organize/calendar/#download-months","text":"Select month Open context menu Click","title":"Download Months"},{"location":"user-guide/organize/calendar/#create-albums-from-months","text":"Select month Open context menu Click Select existing album or enter new album name Click add to album","title":"Create Albums from Months"},{"location":"user-guide/organize/delete/","text":"Removing Files Permanently \u00b6 You can permanently delete photo and video files you do not want to keep from your filesystem. Photos and videos must be archived before they can be deleted permanently. Before you start, make sure the Delete feature is enabled in Settings . Delete Files \u00b6 Go to Archive Select the photos and videos your want to delete Click context menu Click Confirm","title":"Delete"},{"location":"user-guide/organize/delete/#removing-files-permanently","text":"You can permanently delete photo and video files you do not want to keep from your filesystem. Photos and videos must be archived before they can be deleted permanently. Before you start, make sure the Delete feature is enabled in Settings .","title":"Removing Files Permanently"},{"location":"user-guide/organize/delete/#delete-files","text":"Go to Archive Select the photos and videos your want to delete Click context menu Click Confirm","title":"Delete Files"},{"location":"user-guide/organize/download/","text":"Downloading Files \u00b6 Using Context Menu From Fullscreen Mode From Edit Dialog Select photos Click on the context menu Click . Photos will be downloaded in original size You can select many photos at once using shift. Click on the photo In fullscreen mode click Open the photo's edit dialog Open the Files Tab Click Download","title":"Download"},{"location":"user-guide/organize/download/#downloading-files","text":"Using Context Menu From Fullscreen Mode From Edit Dialog Select photos Click on the context menu Click . Photos will be downloaded in original size You can select many photos at once using shift. Click on the photo In fullscreen mode click Open the photo's edit dialog Open the Files Tab Click Download","title":"Downloading Files"},{"location":"user-guide/organize/edit/","text":"Editing Picture Details \u00b6 PhotoPrisms edit dialog enables you to add/edit various types of metadata related to your photos/videos. During indexing PhotoPrism collects as much data as possible from sidecar files and the photo itself. Open Edit dialog \u00b6 From Card View From Full Screen Mode Using Context Menu Click on the photos title, time or camera information In the upper right corner click Select one or multiple photos Click on context menu Click Edit Details \u00b6 In the edit dialog's Detail tab you can view and edit the following data: Title, Day, Month, Year, UTC time, UTC date, Time zone, Latitude, Longitude, Altitude, Country, Camera, ISO, Exposure, Lens, F Number, Focal Length, Subject, Artist, Copyright, License, Description, Keywords, Notes Apply saves changes. Ok saves changes and closes edit dialog. Lots of metadata like labels, keywords, title, location, camera details are generated by PhotoPrism itself during indexing. Once you change data manually PhotoPrism always keeps your data even if you index again. Every keyword can be used in PhotoPrisms search to find photos or videos. Geolocation Plugin \u00b6 Geolocation Plugin is an open source extension that makes it easy to change latitude and longitude of a photo by selecting places on a graphical map. It can be installed through the Chrome web store . Edit Labels \u00b6 In the edit dialog's Labels tab you can view and edit labels . Edit People \u00b6 In the edit dialog's People tab you can view and edit people . Edit Files \u00b6 In the edit dialog's Files tab you see all files that belong to a photo. In PhotoPrism a photo can consist of multiple files like a raw file + a jpeg version of this raw file + a related xmp or json file . To open file details click . In case you have stacked files you can change the primary file, delete not primary files, or unstack files using the action buttons.","title":"Edit Metadata"},{"location":"user-guide/organize/edit/#editing-picture-details","text":"PhotoPrisms edit dialog enables you to add/edit various types of metadata related to your photos/videos. During indexing PhotoPrism collects as much data as possible from sidecar files and the photo itself.","title":"Editing Picture Details"},{"location":"user-guide/organize/edit/#open-edit-dialog","text":"From Card View From Full Screen Mode Using Context Menu Click on the photos title, time or camera information In the upper right corner click Select one or multiple photos Click on context menu Click","title":"Open Edit dialog"},{"location":"user-guide/organize/edit/#edit-details","text":"In the edit dialog's Detail tab you can view and edit the following data: Title, Day, Month, Year, UTC time, UTC date, Time zone, Latitude, Longitude, Altitude, Country, Camera, ISO, Exposure, Lens, F Number, Focal Length, Subject, Artist, Copyright, License, Description, Keywords, Notes Apply saves changes. Ok saves changes and closes edit dialog. Lots of metadata like labels, keywords, title, location, camera details are generated by PhotoPrism itself during indexing. Once you change data manually PhotoPrism always keeps your data even if you index again. Every keyword can be used in PhotoPrisms search to find photos or videos.","title":"Edit Details"},{"location":"user-guide/organize/edit/#geolocation-plugin","text":"Geolocation Plugin is an open source extension that makes it easy to change latitude and longitude of a photo by selecting places on a graphical map. It can be installed through the Chrome web store .","title":"Geolocation Plugin"},{"location":"user-guide/organize/edit/#edit-labels","text":"In the edit dialog's Labels tab you can view and edit labels .","title":"Edit Labels"},{"location":"user-guide/organize/edit/#edit-people","text":"In the edit dialog's People tab you can view and edit people .","title":"Edit People"},{"location":"user-guide/organize/edit/#edit-files","text":"In the edit dialog's Files tab you see all files that belong to a photo. In PhotoPrism a photo can consist of multiple files like a raw file + a jpeg version of this raw file + a related xmp or json file . To open file details click . In case you have stacked files you can change the primary file, delete not primary files, or unstack files using the action buttons.","title":"Edit Files"},{"location":"user-guide/organize/folders/","text":"Folders \u00b6 We automatically display all folders of your originals directory in the Folders section . In case you add new files to your originals directory your folders will be updated. The context menu allows you to perform the following actions: Remove Folders \u00b6 Select folder Open context menu Click Confirm Only the representation of the folder will be deleted. Your files stay untouched. Download Folders \u00b6 Select folder Open context menu Click Create Albums from Folders \u00b6 Select folder Open context menu Click Select existing album or enter new album name Click add to album","title":"Folders"},{"location":"user-guide/organize/folders/#folders","text":"We automatically display all folders of your originals directory in the Folders section . In case you add new files to your originals directory your folders will be updated. The context menu allows you to perform the following actions:","title":"Folders"},{"location":"user-guide/organize/folders/#remove-folders","text":"Select folder Open context menu Click Confirm Only the representation of the folder will be deleted. Your files stay untouched.","title":"Remove Folders"},{"location":"user-guide/organize/folders/#download-folders","text":"Select folder Open context menu Click","title":"Download Folders"},{"location":"user-guide/organize/folders/#create-albums-from-folders","text":"Select folder Open context menu Click Select existing album or enter new album name Click add to album","title":"Create Albums from Folders"},{"location":"user-guide/organize/labels/","text":"Labels \u00b6 PhotoPrism uses labels to classify images. Other tools use the term tags instead of labels. Labels are set automatically when adding new photos. You can manually add new labels or edit/remove the ones that have been created by us. In Labels you find all labels of your photos and videos. You can star labels by clicking . Starred labels will be listed first. PhotoPrism also attaches each generated label to a broader group (or category) of labels. For example, there is a general category 'vehicle' which will include labels such as 'cab', 'catamaran', 'lifeboat' and 'bullet train'. These broad label categories cannot be edited, but can be used in a search, in an identical way to all other labels. You may wish to see these broad label categories in addition to the usual labels in the Labels pages. Clicking the icon in the upper right-hand corner will switch between turning them on ('Show More') and off ('Show Less'). You can also include these label categories as part of a more complex search filter - the label categories from your photos will appear in the search filter bar as a drop-down selection under the option 'All Categories'. View all Photos with a Label \u00b6 Go to Labels Click on the label you are interested in Alternatively you can use the search field in Photos/Videos. You search for photos with a special label like this: label:dog . Add Labels to Photos \u00b6 Go to the photo edit dialog Go to Labels tab Click on the label field in the last row of the label table Enter a label name Click on the right side of this row Remove/Delete Labels from Photos \u00b6 Labels that have been set automatically can be removed. Manually added labels can be deleted. Go to the photo edit dialog Go to Labels tab Click the / button of the label you want to remove/delete Removed labels have a confidence of 0% and can be activated again at any time by clicking add . You can hide Labels in Settings Rename Labels \u00b6 Go to the photo edit dialog of any photo that has the label you want to rename Go to Labels tab Click on the label name you want to change Change the name and click enter The changes will be applied to all photos with this label after the next indexing Be aware this change applies to all photos that have this label. Delete Labels \u00b6 You can permanently delete a label. No file will get a deleted label set during indexing. Go to Labels Select the label you want to delete Open the context menu Click Confirm In case you want a deleted label to appear again, you need to add it to one photo and then index all files again.","title":"Labels"},{"location":"user-guide/organize/labels/#labels","text":"PhotoPrism uses labels to classify images. Other tools use the term tags instead of labels. Labels are set automatically when adding new photos. You can manually add new labels or edit/remove the ones that have been created by us. In Labels you find all labels of your photos and videos. You can star labels by clicking . Starred labels will be listed first. PhotoPrism also attaches each generated label to a broader group (or category) of labels. For example, there is a general category 'vehicle' which will include labels such as 'cab', 'catamaran', 'lifeboat' and 'bullet train'. These broad label categories cannot be edited, but can be used in a search, in an identical way to all other labels. You may wish to see these broad label categories in addition to the usual labels in the Labels pages. Clicking the icon in the upper right-hand corner will switch between turning them on ('Show More') and off ('Show Less'). You can also include these label categories as part of a more complex search filter - the label categories from your photos will appear in the search filter bar as a drop-down selection under the option 'All Categories'.","title":"Labels"},{"location":"user-guide/organize/labels/#view-all-photos-with-a-label","text":"Go to Labels Click on the label you are interested in Alternatively you can use the search field in Photos/Videos. You search for photos with a special label like this: label:dog .","title":"View all Photos with a Label"},{"location":"user-guide/organize/labels/#add-labels-to-photos","text":"Go to the photo edit dialog Go to Labels tab Click on the label field in the last row of the label table Enter a label name Click on the right side of this row","title":"Add Labels to Photos"},{"location":"user-guide/organize/labels/#removedelete-labels-from-photos","text":"Labels that have been set automatically can be removed. Manually added labels can be deleted. Go to the photo edit dialog Go to Labels tab Click the / button of the label you want to remove/delete Removed labels have a confidence of 0% and can be activated again at any time by clicking add . You can hide Labels in Settings","title":"Remove/Delete Labels from Photos"},{"location":"user-guide/organize/labels/#rename-labels","text":"Go to the photo edit dialog of any photo that has the label you want to rename Go to Labels tab Click on the label name you want to change Change the name and click enter The changes will be applied to all photos with this label after the next indexing Be aware this change applies to all photos that have this label.","title":"Rename Labels"},{"location":"user-guide/organize/labels/#delete-labels","text":"You can permanently delete a label. No file will get a deleted label set during indexing. Go to Labels Select the label you want to delete Open the context menu Click Confirm In case you want a deleted label to appear again, you need to add it to one photo and then index all files again.","title":"Delete Labels"},{"location":"user-guide/organize/moments/","text":"Moments \u00b6 PhotoPrism creates moments out of your memories. Moments get constantly updated in case you add new photos. Moments can be based on location and time e.g. Germany 2020 or on labels like Nature & Landscape or Pets . The context menu allows you to perform the following actions: Remove Moments \u00b6 Select moment Open context menu Click Confirm Only the moment will be deleted. Your files stay untouched. Download Moments \u00b6 Select moment Open context menu Click Create Albums from Moments \u00b6 Select moment Open context menu Click Select existing album or enter new album name Click add to album","title":"Moments"},{"location":"user-guide/organize/moments/#moments","text":"PhotoPrism creates moments out of your memories. Moments get constantly updated in case you add new photos. Moments can be based on location and time e.g. Germany 2020 or on labels like Nature & Landscape or Pets . The context menu allows you to perform the following actions:","title":"Moments"},{"location":"user-guide/organize/moments/#remove-moments","text":"Select moment Open context menu Click Confirm Only the moment will be deleted. Your files stay untouched.","title":"Remove Moments"},{"location":"user-guide/organize/moments/#download-moments","text":"Select moment Open context menu Click","title":"Download Moments"},{"location":"user-guide/organize/moments/#create-albums-from-moments","text":"Select moment Open context menu Click Select existing album or enter new album name Click add to album","title":"Create Albums from Moments"},{"location":"user-guide/organize/panoramas/","text":"Panoramas \u00b6 PhotoPrism automatically marks photos with an aspect ratio of 2/1 or higher as panorama . You can view all your panorama images in the Panorama section . Edit Panorama Flags \u00b6 Open the photo edit dialog Click Set or unset the panorama flag","title":"Panoramas"},{"location":"user-guide/organize/panoramas/#panoramas","text":"PhotoPrism automatically marks photos with an aspect ratio of 2/1 or higher as panorama . You can view all your panorama images in the Panorama section .","title":"Panoramas"},{"location":"user-guide/organize/panoramas/#edit-panorama-flags","text":"Open the photo edit dialog Click Set or unset the panorama flag","title":"Edit Panorama Flags"},{"location":"user-guide/organize/people/","text":"Facial Recognition \u00b6 Our latest version includes facial recognition that lets you find pictures of your family and friends. Be ready to discover long forgotten shots! New faces are detected as you scan your library. They are then grouped by similarity, so you can quickly match them to people. Recognition does not start until your library has been fully scanned. Searching and updating faces temporarily causes a high CPU load and may take a while, depending on your hardware and the number of images you have. Existing clusters are automatically optimized in the background, for example, when new faces are detected, you have reported a bad match, or new files are added to your library. Recognized & New People \u00b6 The people section shows you recognized people as well as new face clusters . To star a person click . Stared persons appear first. Why doesn't the New Faces page show all faces? \u00b6 The 'New Faces' page only shows automatically recognized face clusters , as there may be thousands of unknown faces in your library, including random movie actors or faces on shampoo bottles. You can use the face:new search filter to find images with unknown people. We recommend combining this filter with other filters like year or location when searching for specific people. The People tab in the photo edit dialog shows all faces, so you can name them or report a bad match by pressing the button. When a face was not detected... \u00b6 There can be several reasons why a face was not detected: You may need to wait until indexing is complete, as face recognition will not begin until your library has been scanned Only the primary file in stacks will be searched for faces Faces can be smaller than the minimum size configured Our face detection did not scan the image thoroughly enough Reducing the resolution or quality of generated thumbnails negatively impacts face detection and recognition results, just like when you cannot see properly Contrast plays a major role, so a bright face with gray hair on a gray background may be less obvious to our face detection than it is to you In very rare cases an actual face may match a blacklist of false positives, like background noise and food that looks like a face Recognition compares the similarity of faces. The similarity threshold for a face is reduced when you report a bad match. Assign Names to Faces \u00b6 From People From Photo Edit dialog Go to People Go to New Click on the input field Start typing a name Press enter Open the photo edit dialog Go to the People tab Click on the input field Start typing a name Press enter The person you just added will appear under Recognized Hiding People \u00b6 You can hide a person in the Recognized section by clicking in the upper right corner. Pictures of this person continue to be visible in search results and albums. This currently is a sponsor feature to thank everyone who supports the development of this application. We'll let you know how to enable it when you sign up on Patreon or GitHub Sponsors . Your continued support helps us provide regular updates and services like world maps . Thank you! To see all people including hidden ones click . Hidden people can be recovered by clicking Hiding Faces \u00b6 You can hide face clusters from the New section, in the same way you hide people from the Recognized section. View all Photos of a Person \u00b6 From People From Search Go to People Go to Recognized Click on the person you want to view Go to Search Search for person:\"jane-doe\" Rename People \u00b6 To rename all photos of a person: Go to People Go to Recognized Click on the persons name Type in a new name Press enter Change People Assignments \u00b6 You may report bad matches by pressing the button underneath a face in the People tab. This will remove the name. You can either leave it blank or enter the name of a different person. When you reject a match, the corresponding face cluster will be updated in the background so that similar issues can be resolved automatically. Open the photo edit dialog Go to the People tab Click Then enter a new name or leave it empty Remove Faces \u00b6 In case PhotoPrism detected something wrong as face (false positives), or in case you just don't want to keep a face on the people tab you're not interested in, you can remove it. Open the photo edit dialogue Go to the People tab Click You might undo this action before a reload. Download all Photos of a Person \u00b6 Go to People Select a person Open context menu Click Create Albums from People \u00b6 Go to People Select a person Open context menu Click Select existing album or enter new album name Click add to album Search \u00b6 You can find photos with people on it using the following queries: people , faces or faces:true will result in all photos with people faces:false will show all photos without people faces:3 will show all photos with at least 3 people on it person:\"John Doe\" or subject:\"John Doe\" will show all photos of the person with the exact name John Doe people:\"John\" or subjects:\"John\" will show all photos of people with a name like John e.g. John Doe and John Smith The person/subject and people/subjects filters can be used with & and | (see search for more details). Filters may be combined. person:\"John Doe&Jane Doe\" faces:3 will show all photos with John and Jane Doe and one other person. Performance Tips \u00b6 Background Worker \u00b6 Face recognition was developed and tested under the assumption that the background worker runs every 15 minutes, unless the backend is busy with other tasks such as indexing. It has not been tested with much longer intervals and is not designed for that. The background worker groups new faces by similarity, compares faces with clusters, and optimizes existing clusters as needed. Without these routine tasks, the number of faces to be processed becomes too large. The first and next time the worker runs, it can then cause a heavy server load until all the faces, face clusters , and related pictures have been updated. The longer you wait, the more CPU is required and the longer it takes. Legacy Hardware \u00b6 It is a known issue that the user interface and backend operations, especially face recognition, can be slow or even crash on older hardware due to a lack of resources. Like most applications, PhotoPrism has certain requirements and our development process does not include testing on unsupported or unusual hardware. Coming Soon Manual tagging of faces Importing of XMP face tags Excluding people when browsing your pictures Automatic backup of tagged people in YAML files","title":"People"},{"location":"user-guide/organize/people/#facial-recognition","text":"Our latest version includes facial recognition that lets you find pictures of your family and friends. Be ready to discover long forgotten shots! New faces are detected as you scan your library. They are then grouped by similarity, so you can quickly match them to people. Recognition does not start until your library has been fully scanned. Searching and updating faces temporarily causes a high CPU load and may take a while, depending on your hardware and the number of images you have. Existing clusters are automatically optimized in the background, for example, when new faces are detected, you have reported a bad match, or new files are added to your library.","title":"Facial Recognition"},{"location":"user-guide/organize/people/#recognized-new-people","text":"The people section shows you recognized people as well as new face clusters . To star a person click . Stared persons appear first.","title":"Recognized &amp; New People"},{"location":"user-guide/organize/people/#why-doesnt-the-new-faces-page-show-all-faces","text":"The 'New Faces' page only shows automatically recognized face clusters , as there may be thousands of unknown faces in your library, including random movie actors or faces on shampoo bottles. You can use the face:new search filter to find images with unknown people. We recommend combining this filter with other filters like year or location when searching for specific people. The People tab in the photo edit dialog shows all faces, so you can name them or report a bad match by pressing the button.","title":"Why doesn't the New Faces page show all faces?"},{"location":"user-guide/organize/people/#when-a-face-was-not-detected","text":"There can be several reasons why a face was not detected: You may need to wait until indexing is complete, as face recognition will not begin until your library has been scanned Only the primary file in stacks will be searched for faces Faces can be smaller than the minimum size configured Our face detection did not scan the image thoroughly enough Reducing the resolution or quality of generated thumbnails negatively impacts face detection and recognition results, just like when you cannot see properly Contrast plays a major role, so a bright face with gray hair on a gray background may be less obvious to our face detection than it is to you In very rare cases an actual face may match a blacklist of false positives, like background noise and food that looks like a face Recognition compares the similarity of faces. The similarity threshold for a face is reduced when you report a bad match.","title":"When a face was not detected..."},{"location":"user-guide/organize/people/#assign-names-to-faces","text":"From People From Photo Edit dialog Go to People Go to New Click on the input field Start typing a name Press enter Open the photo edit dialog Go to the People tab Click on the input field Start typing a name Press enter The person you just added will appear under Recognized","title":"Assign Names to Faces"},{"location":"user-guide/organize/people/#hiding-people","text":"You can hide a person in the Recognized section by clicking in the upper right corner. Pictures of this person continue to be visible in search results and albums. This currently is a sponsor feature to thank everyone who supports the development of this application. We'll let you know how to enable it when you sign up on Patreon or GitHub Sponsors . Your continued support helps us provide regular updates and services like world maps . Thank you! To see all people including hidden ones click . Hidden people can be recovered by clicking","title":"Hiding People"},{"location":"user-guide/organize/people/#hiding-faces","text":"You can hide face clusters from the New section, in the same way you hide people from the Recognized section.","title":"Hiding Faces"},{"location":"user-guide/organize/people/#view-all-photos-of-a-person","text":"From People From Search Go to People Go to Recognized Click on the person you want to view Go to Search Search for person:\"jane-doe\"","title":"View all Photos of a Person"},{"location":"user-guide/organize/people/#rename-people","text":"To rename all photos of a person: Go to People Go to Recognized Click on the persons name Type in a new name Press enter","title":"Rename People"},{"location":"user-guide/organize/people/#change-people-assignments","text":"You may report bad matches by pressing the button underneath a face in the People tab. This will remove the name. You can either leave it blank or enter the name of a different person. When you reject a match, the corresponding face cluster will be updated in the background so that similar issues can be resolved automatically. Open the photo edit dialog Go to the People tab Click Then enter a new name or leave it empty","title":"Change People Assignments"},{"location":"user-guide/organize/people/#remove-faces","text":"In case PhotoPrism detected something wrong as face (false positives), or in case you just don't want to keep a face on the people tab you're not interested in, you can remove it. Open the photo edit dialogue Go to the People tab Click You might undo this action before a reload.","title":"Remove Faces"},{"location":"user-guide/organize/people/#download-all-photos-of-a-person","text":"Go to People Select a person Open context menu Click","title":"Download all Photos of a Person"},{"location":"user-guide/organize/people/#create-albums-from-people","text":"Go to People Select a person Open context menu Click Select existing album or enter new album name Click add to album","title":"Create Albums from People"},{"location":"user-guide/organize/people/#search","text":"You can find photos with people on it using the following queries: people , faces or faces:true will result in all photos with people faces:false will show all photos without people faces:3 will show all photos with at least 3 people on it person:\"John Doe\" or subject:\"John Doe\" will show all photos of the person with the exact name John Doe people:\"John\" or subjects:\"John\" will show all photos of people with a name like John e.g. John Doe and John Smith The person/subject and people/subjects filters can be used with & and | (see search for more details). Filters may be combined. person:\"John Doe&Jane Doe\" faces:3 will show all photos with John and Jane Doe and one other person.","title":"Search"},{"location":"user-guide/organize/people/#performance-tips","text":"","title":"Performance Tips"},{"location":"user-guide/organize/people/#background-worker","text":"Face recognition was developed and tested under the assumption that the background worker runs every 15 minutes, unless the backend is busy with other tasks such as indexing. It has not been tested with much longer intervals and is not designed for that. The background worker groups new faces by similarity, compares faces with clusters, and optimizes existing clusters as needed. Without these routine tasks, the number of faces to be processed becomes too large. The first and next time the worker runs, it can then cause a heavy server load until all the faces, face clusters , and related pictures have been updated. The longer you wait, the more CPU is required and the longer it takes.","title":"Background Worker"},{"location":"user-guide/organize/people/#legacy-hardware","text":"It is a known issue that the user interface and backend operations, especially face recognition, can be slow or even crash on older hardware due to a lack of resources. Like most applications, PhotoPrism has certain requirements and our development process does not include testing on unsupported or unusual hardware. Coming Soon Manual tagging of faces Importing of XMP face tags Excluding people when browsing your pictures Automatic backup of tagged people in YAML files","title":"Legacy Hardware"},{"location":"user-guide/organize/places/","text":"Places \u00b6 Places displays all photos with GPS information on a world map. You can zoom either by using or or by clicking on a photo or photo collector (the blue circles with a photo count inside). When using the search only photos matching the search term are shown on the map. You can choose between different map styles like streets or topographic in the settings . To switch from a photos card view directly to the location of a photo on the world map click on the location.","title":"Places"},{"location":"user-guide/organize/places/#places","text":"Places displays all photos with GPS information on a world map. You can zoom either by using or or by clicking on a photo or photo collector (the blue circles with a photo count inside). When using the search only photos matching the search term are shown on the map. You can choose between different map styles like streets or topographic in the settings . To switch from a photos card view directly to the location of a photo on the world map click on the location.","title":"Places"},{"location":"user-guide/organize/private/","text":"Hiding Private Photos \u00b6 What does private mean? \u00b6 Some of your photos might be private for personal reasons. Our private functionality provides you with a solution to hide private photos or videos from some sections. This way you can let family and friends browse through your photos without risking that they see photos you do not want them to see. By default, photos marked as private will not appear in the following sections: Search Videos Labels Places Favorites Shared albums In case you want private content to appear everywhere you can configure that in Settings . Toggle Private Flag \u00b6 Using Context Menu From List View Go to Search Select photos/videos Click context menu Click Go to Search Make sure you are in list view Click or on the right","title":"Private"},{"location":"user-guide/organize/private/#hiding-private-photos","text":"","title":"Hiding Private Photos"},{"location":"user-guide/organize/private/#what-does-private-mean","text":"Some of your photos might be private for personal reasons. Our private functionality provides you with a solution to hide private photos or videos from some sections. This way you can let family and friends browse through your photos without risking that they see photos you do not want them to see. By default, photos marked as private will not appear in the following sections: Search Videos Labels Places Favorites Shared albums In case you want private content to appear everywhere you can configure that in Settings .","title":"What does private mean?"},{"location":"user-guide/organize/private/#toggle-private-flag","text":"Using Context Menu From List View Go to Search Select photos/videos Click context menu Click Go to Search Make sure you are in list view Click or on the right","title":"Toggle Private Flag"},{"location":"user-guide/organize/review/","text":"Reviewing Non-Photographic and Low-Quality Images \u00b6 When adding new photos a quality score from 1 to 5 is created automatically. Photos with a quality score lower than 3 do not appear in Photos until you approve them (unless the quality filter was disabled in Settings ) The quality score depends on the following: Known date and/or GPS coordinates At least 2 MP resolution if taken after 2012 Photo not classified as info or screenshot Photo is favorite, was edited or approved In case you do not need the review mechanism you can turn it off in Settings Approve Photos \u00b6 Edit Dialog Card View Context Menu Open the photo's edit dialog Click approve Go to Review and make sure you are in card view Click approve Go to Review Select photos and open the context menu Click The quality score is constantly updated. If you add date or location information to a photo or like it, the quality score increases automatically. In case the new score is equal or greater than 3 the photo is approved automatically.","title":"Review"},{"location":"user-guide/organize/review/#reviewing-non-photographic-and-low-quality-images","text":"When adding new photos a quality score from 1 to 5 is created automatically. Photos with a quality score lower than 3 do not appear in Photos until you approve them (unless the quality filter was disabled in Settings ) The quality score depends on the following: Known date and/or GPS coordinates At least 2 MP resolution if taken after 2012 Photo not classified as info or screenshot Photo is favorite, was edited or approved In case you do not need the review mechanism you can turn it off in Settings","title":"Reviewing Non-Photographic and Low-Quality Images"},{"location":"user-guide/organize/review/#approve-photos","text":"Edit Dialog Card View Context Menu Open the photo's edit dialog Click approve Go to Review and make sure you are in card view Click approve Go to Review Select photos and open the context menu Click The quality score is constantly updated. If you add date or location information to a photo or like it, the quality score increases automatically. In case the new score is equal or greater than 3 the photo is approved automatically.","title":"Approve Photos"},{"location":"user-guide/organize/scans/","text":"Scans \u00b6 You can mark scanned photos as scans within the photo edit dialog. We aim to automatically mark scans in the future. Set Scan Flags \u00b6 Open the photo edit dialog Click Set or unset the scan flag","title":"Scans"},{"location":"user-guide/organize/scans/#scans","text":"You can mark scanned photos as scans within the photo edit dialog. We aim to automatically mark scans in the future.","title":"Scans"},{"location":"user-guide/organize/scans/#set-scan-flags","text":"Open the photo edit dialog Click Set or unset the scan flag","title":"Set Scan Flags"},{"location":"user-guide/organize/search/","text":"Search \u00b6 PhotoPrism's powerful search enables you to easily find specific photos and videos. You can search for all kind of things: People on the photo Objects that are displayed on the photo The main color of the photo The filename or foldername of a photo Location where the photo has been taken Other metadata such as camera, lens, chroma... Just try it! Search Filter \u00b6 The following filters can be set using the filter bar: Country, Year, Month, Order, Camera, Color, Category In case you set multiple filters only photos, that fulfill all filter criteria, are shown in the search result. Filters can be also be set in the search bar like this: `label:cat color:green type:live` You find the full list of available filters below . AND Search \u00b6 To combine different filters use a space as separator: mono:true review:false The search result shows photos that are monochrome and not in review. Additionally some filters can be used with &: keywords:buffalo&water Or: keywords:\"buffalo & water\" This query will show all photos that have the keywords water and buffalo. & is supported by the following filters: albums, keywords, subject/person, subjects/people. The label filter does not support &. You can use the keywords filter instead, as all labels are keywords as well. OR Search \u00b6 An OR search is possible using | : label:cat|dog This will show all photos that have either the label cat or dog. The following filters work with |: albums, color, country, day, month, year, keywords, label, path, state, subject/person, subjects/people, title, type, name, filename, original, hash Wildcard \u00b6 The * character will act as a wildcard: name:\"IMG_23*\" This will show all photos which name start with IMG_23 . name:\"*_23*\" This will show all photos which name contain _23 , like IMG_2356.MOV , 2021_02_23.jpg , etc. Wildcards can be combined with & or |: filename:\"*IMG123*|*_22F6FC19.jpg\" Search Filter Overview \u00b6 PhotoPrism allows you to use multiple filters in its search. Filter Type Examples Notes fmax decimal fmax:1.245 F-number (max) fmin decimal fmin:1.245 F-number (min) lat decimal lat:1.245 Latitude (GPS Position) lng decimal lng:1.245 Longitude (GPS Position) chroma number chroma:70 Chroma (0-100) diff number diff:-1 diff:2 Differential Perceptual Hash (000000-FFFFFF) dist number dist:5 Distance in km in combination with lat/lng quality number quality:0 quality:3 Quality Score (0-7) album string album:berlin Album UID or Name, supports* wildcard albums string albums:\"South Africa & Birds\" Album Names, can be combined with & and | camera string camera:canon Camera Make/Model Name category string category:\"name\" Location Category Name color string color:\"red|blue\" Color Name (purple, magenta, pink, red, orange, gold, yellow, lime, green, teal, cyan, blue, brown, white, grey, black), OR search with | country string country:\"de|us\" Coountry Code, OR search with | day string day:3|13 Day of Month (1-31), OR search with | faces string faces:yes faces:3 Minimum number of Faces (yes = 1) filename string filename:\"2021/07/12345.jpg\" File Name with path and extension, OR search with | folder string folder:\"*/2020\" Path Name, OR search with |, supports * wildcards hash string hash:2fd4e1c67a2d SHA1 File Hash, OR search with | keywords string keywords:\"buffalo&water\" Keywords, can be combined with & and | label string label:cat|dog Label Name, OR search with | lens string lens:ef24 Lens make/Model Name month string month:7|10 Month (1-12), OR search with | name string name:\"IMG_9831-112*\" File Name without path and extension, OR search with | original string original:\"IMG_9831-112*\" Original file name of imported files, OR search with | path string path:2020/Holiday Path Name, OR search with |, supports * wildcards people string people:\"Jane & John\" Subject Names, can be combined with & and | person string person:\"Jane Doe & John Doe\" Subject Names, exact matches, can be combined with & and | state string state:\"Baden-W\u00fcrttemberg\" OR search with | subject string subject:\"Jane Doe & John Doe\" Alias for person subjects string subjects:\"Jane & John\" Alias for people title string title:\"Lake*\" Title, OR search with | type string type:raw Media Type (image, video, raw, live, animated); OR search with | uid string uid:pqbcf5j446s0futy Internal Unique ID, only exact matches year string year:1990|2003 Year Number, OR search with | animated switch animated:yes Finds animated GIFs archived switch archived:yes Finds archived pictures error switch error:yes Finds pictures with errors favorite switch favorite:yes Finds pictures marked as favorite geo switch geo:yes Finds pictures with GPS location hidden switch hidden:yes Finds hidden pictures (broken or unsupported) landscape switch landscape:yes Finds pictures in landscape format live switch live:yes Finds Live Photos and short videos mono switch mono:yes Finds pictures with few or no colors panorama switch panorama:yes Finds pictures with an aspect ratio > 1.9:1 photo switch photo:yes Finds only photos, no videos portrait switch portrait:yes Finds pictures in portrait format primary switch primary:yes Finds primary JPEG files only private switch private:yes Finds private pictures public switch public:yes Excludes private pictures raw switch raw:yes Finds pictures with RAW image file review switch review:yes Finds pictures in review scan switch scan:yes Finds scanned images and documents square switch square:yes Finds images with an aspect ratio of 1:1 stack switch stack:yes Finds pictures with more than one media file stackable switch stackable:yes Finds pictures that can be stacked with additional media files unsorted switch unsorted:yes Finds pictures not in an album unstacked switch unstacked:yes Finds pictures with a file that has been removed from a stack vector switch vector:yes Finds vector graphics only video switch video:yes Finds video files only after timestamp after:\"2022-01-30 15:23:42\" Finds pictures taken after this date before timestamp before:\"2022-01-30 15:23:42\" Finds pictures taken before this date Why can't I play live photos or find stacks when I search for specific images? Our search API and user interface perform a file search. This is intentional since \"stacks\" can contain files of different types and properties, such as color. For example, there may be color and monochrome versions. Now, when you search for them or sort them by color, the user interface must display individual files. Otherwise, the results showing a color image/video when you filter by monochrome would make no sense. Likewise, if you search for filename.mp4.* , you will find only JPEGs without video, because the video file extension is .mp4 without an extra dot at the end. We recommend using the path: and/or name: filters with wildcards if searching for individual files limits the search results too much. Most users will want to find all related files so that they can be displayed together, e.g. as live photos consisting of a video and an image. You can combine these filters with other filters such as live to ensure that the results include only pictures with a specific media type. Alternatively, you can use the filename: filter with a more permissive wildcard that excludes the file extension.","title":"Search"},{"location":"user-guide/organize/search/#search","text":"PhotoPrism's powerful search enables you to easily find specific photos and videos. You can search for all kind of things: People on the photo Objects that are displayed on the photo The main color of the photo The filename or foldername of a photo Location where the photo has been taken Other metadata such as camera, lens, chroma... Just try it!","title":"Search"},{"location":"user-guide/organize/search/#search-filter","text":"The following filters can be set using the filter bar: Country, Year, Month, Order, Camera, Color, Category In case you set multiple filters only photos, that fulfill all filter criteria, are shown in the search result. Filters can be also be set in the search bar like this: `label:cat color:green type:live` You find the full list of available filters below .","title":"Search Filter"},{"location":"user-guide/organize/search/#and-search","text":"To combine different filters use a space as separator: mono:true review:false The search result shows photos that are monochrome and not in review. Additionally some filters can be used with &: keywords:buffalo&water Or: keywords:\"buffalo & water\" This query will show all photos that have the keywords water and buffalo. & is supported by the following filters: albums, keywords, subject/person, subjects/people. The label filter does not support &. You can use the keywords filter instead, as all labels are keywords as well.","title":"AND Search"},{"location":"user-guide/organize/search/#or-search","text":"An OR search is possible using | : label:cat|dog This will show all photos that have either the label cat or dog. The following filters work with |: albums, color, country, day, month, year, keywords, label, path, state, subject/person, subjects/people, title, type, name, filename, original, hash","title":"OR Search"},{"location":"user-guide/organize/search/#wildcard","text":"The * character will act as a wildcard: name:\"IMG_23*\" This will show all photos which name start with IMG_23 . name:\"*_23*\" This will show all photos which name contain _23 , like IMG_2356.MOV , 2021_02_23.jpg , etc. Wildcards can be combined with & or |: filename:\"*IMG123*|*_22F6FC19.jpg\"","title":"Wildcard"},{"location":"user-guide/organize/search/#search-filter-overview","text":"PhotoPrism allows you to use multiple filters in its search. Filter Type Examples Notes fmax decimal fmax:1.245 F-number (max) fmin decimal fmin:1.245 F-number (min) lat decimal lat:1.245 Latitude (GPS Position) lng decimal lng:1.245 Longitude (GPS Position) chroma number chroma:70 Chroma (0-100) diff number diff:-1 diff:2 Differential Perceptual Hash (000000-FFFFFF) dist number dist:5 Distance in km in combination with lat/lng quality number quality:0 quality:3 Quality Score (0-7) album string album:berlin Album UID or Name, supports* wildcard albums string albums:\"South Africa & Birds\" Album Names, can be combined with & and | camera string camera:canon Camera Make/Model Name category string category:\"name\" Location Category Name color string color:\"red|blue\" Color Name (purple, magenta, pink, red, orange, gold, yellow, lime, green, teal, cyan, blue, brown, white, grey, black), OR search with | country string country:\"de|us\" Coountry Code, OR search with | day string day:3|13 Day of Month (1-31), OR search with | faces string faces:yes faces:3 Minimum number of Faces (yes = 1) filename string filename:\"2021/07/12345.jpg\" File Name with path and extension, OR search with | folder string folder:\"*/2020\" Path Name, OR search with |, supports * wildcards hash string hash:2fd4e1c67a2d SHA1 File Hash, OR search with | keywords string keywords:\"buffalo&water\" Keywords, can be combined with & and | label string label:cat|dog Label Name, OR search with | lens string lens:ef24 Lens make/Model Name month string month:7|10 Month (1-12), OR search with | name string name:\"IMG_9831-112*\" File Name without path and extension, OR search with | original string original:\"IMG_9831-112*\" Original file name of imported files, OR search with | path string path:2020/Holiday Path Name, OR search with |, supports * wildcards people string people:\"Jane & John\" Subject Names, can be combined with & and | person string person:\"Jane Doe & John Doe\" Subject Names, exact matches, can be combined with & and | state string state:\"Baden-W\u00fcrttemberg\" OR search with | subject string subject:\"Jane Doe & John Doe\" Alias for person subjects string subjects:\"Jane & John\" Alias for people title string title:\"Lake*\" Title, OR search with | type string type:raw Media Type (image, video, raw, live, animated); OR search with | uid string uid:pqbcf5j446s0futy Internal Unique ID, only exact matches year string year:1990|2003 Year Number, OR search with | animated switch animated:yes Finds animated GIFs archived switch archived:yes Finds archived pictures error switch error:yes Finds pictures with errors favorite switch favorite:yes Finds pictures marked as favorite geo switch geo:yes Finds pictures with GPS location hidden switch hidden:yes Finds hidden pictures (broken or unsupported) landscape switch landscape:yes Finds pictures in landscape format live switch live:yes Finds Live Photos and short videos mono switch mono:yes Finds pictures with few or no colors panorama switch panorama:yes Finds pictures with an aspect ratio > 1.9:1 photo switch photo:yes Finds only photos, no videos portrait switch portrait:yes Finds pictures in portrait format primary switch primary:yes Finds primary JPEG files only private switch private:yes Finds private pictures public switch public:yes Excludes private pictures raw switch raw:yes Finds pictures with RAW image file review switch review:yes Finds pictures in review scan switch scan:yes Finds scanned images and documents square switch square:yes Finds images with an aspect ratio of 1:1 stack switch stack:yes Finds pictures with more than one media file stackable switch stackable:yes Finds pictures that can be stacked with additional media files unsorted switch unsorted:yes Finds pictures not in an album unstacked switch unstacked:yes Finds pictures with a file that has been removed from a stack vector switch vector:yes Finds vector graphics only video switch video:yes Finds video files only after timestamp after:\"2022-01-30 15:23:42\" Finds pictures taken after this date before timestamp before:\"2022-01-30 15:23:42\" Finds pictures taken before this date Why can't I play live photos or find stacks when I search for specific images? Our search API and user interface perform a file search. This is intentional since \"stacks\" can contain files of different types and properties, such as color. For example, there may be color and monochrome versions. Now, when you search for them or sort them by color, the user interface must display individual files. Otherwise, the results showing a color image/video when you filter by monochrome would make no sense. Likewise, if you search for filename.mp4.* , you will find only JPEGs without video, because the video file extension is .mp4 without an extra dot at the end. We recommend using the path: and/or name: filters with wildcards if searching for individual files limits the search results too much. Most users will want to find all related files so that they can be displayed together, e.g. as live photos consisting of a video and an image. You can combine these filters with other filters such as live to ensure that the results include only pictures with a specific media type. Alternatively, you can use the filename: filter with a more permissive wildcard that excludes the file extension.","title":"Search Filter Overview"},{"location":"user-guide/organize/stacks/","text":"Stacks \u00b6 If you have enabled Stacks in Settings , you may come across photos that have more than one image file associated with them. To show all photos with a group of related files, open Stacks in the expanded Search navigation: For what reasons can files be stacked? \u00b6 Files sharing exactly the same file and folder name will always be stacked, for example /2018/IMG_1234.jpg and /2018/IMG_1234.avi Files with related, sequential names like /2018/IMG_1234 (2).jpg and /2018/IMG_1234 (3).jpg may be stacked as well (optional) Pictures were taken at the same GPS position and second (optional) Image metadata contains the same Unique Image ID or XMP Instance ID (optional) You can change the behaviour for 2 - 4 in Settings . Browse Related Files \u00b6 Click on Use arrows to see all photos of the sequence Change Primary Files \u00b6 The JPEG file marked as primary is used in our views. It is listed first in the files tab. To change the primary file: Open the photos edit dialog Open Files tab Click of the file you want to set as primary Click primary Unstack Files \u00b6 Open the photos edit dialog Open Files tab Click of the JPEG file that is not marked as primary Click unstack Now, both files appear in our views. Delete Non-Primary Files \u00b6 Open the photos edit dialog Open Files tab Click of the JPEG file that is not marked as primary Click delete Confirm","title":"Stacks"},{"location":"user-guide/organize/stacks/#stacks","text":"If you have enabled Stacks in Settings , you may come across photos that have more than one image file associated with them. To show all photos with a group of related files, open Stacks in the expanded Search navigation:","title":"Stacks"},{"location":"user-guide/organize/stacks/#for-what-reasons-can-files-be-stacked","text":"Files sharing exactly the same file and folder name will always be stacked, for example /2018/IMG_1234.jpg and /2018/IMG_1234.avi Files with related, sequential names like /2018/IMG_1234 (2).jpg and /2018/IMG_1234 (3).jpg may be stacked as well (optional) Pictures were taken at the same GPS position and second (optional) Image metadata contains the same Unique Image ID or XMP Instance ID (optional) You can change the behaviour for 2 - 4 in Settings .","title":"For what reasons can files be stacked?"},{"location":"user-guide/organize/stacks/#browse-related-files","text":"Click on Use arrows to see all photos of the sequence","title":"Browse Related Files"},{"location":"user-guide/organize/stacks/#change-primary-files","text":"The JPEG file marked as primary is used in our views. It is listed first in the files tab. To change the primary file: Open the photos edit dialog Open Files tab Click of the file you want to set as primary Click primary","title":"Change Primary Files"},{"location":"user-guide/organize/stacks/#unstack-files","text":"Open the photos edit dialog Open Files tab Click of the JPEG file that is not marked as primary Click unstack Now, both files appear in our views.","title":"Unstack Files"},{"location":"user-guide/organize/stacks/#delete-non-primary-files","text":"Open the photos edit dialog Open Files tab Click of the JPEG file that is not marked as primary Click delete Confirm","title":"Delete Non-Primary Files"},{"location":"user-guide/organize/video/","text":"Browsing and Playing Videos \u00b6 Navigate to Videos to browse all your videos. To play a video, click . Videos in MPEG-4 AVC format can be played natively by virtually all modern browsers. Other video formats are automatically transcoded in the background with FFmpeg so that they can be played without causing any problems, even if your browser might support the format. Please note that not all video and audio formats can be played with every browser . For example, AAC - the default audio codec for MPEG-4 AVC / H.264 - is supported natively in Chrome, Safari, and Edge, while it is only optionally supported by the OS in Firefox and Opera. Live Photos \u00b6 Short videos up to 3 seconds are categorized and displayed as Live Photos , regardless of your phone's make and model. You can recognize this by the icon that appears in the upper left corner. Move the mouse cursor over the thumbnail to play the video without changing the view. You can limit a search to Live Photos by using the type:live filter or the keyword live . Transcoding \u00b6 Videos in formats other than AVC are transcoded on demand. This can cause unacceptable delays when large video files are played for the first time. In that case, you may run the following command in a terminal to pre-transcode all video originals if needed: docker-compose exec photoprism photoprism convert Make sure that there is enough disk space available on your server before transcoding all video files, as this may require a significant amount of extra storage. HEVC /H.265 video files can have a .mp4 file extension too, which is often associated with AVC only. This is because MP4 is a container format, meaning that the actual video content may be compressed with H.264, H.265, or something else. The file extension doesn't really tell you anything other than that it's probably a video file.","title":"Videos"},{"location":"user-guide/organize/video/#browsing-and-playing-videos","text":"Navigate to Videos to browse all your videos. To play a video, click . Videos in MPEG-4 AVC format can be played natively by virtually all modern browsers. Other video formats are automatically transcoded in the background with FFmpeg so that they can be played without causing any problems, even if your browser might support the format. Please note that not all video and audio formats can be played with every browser . For example, AAC - the default audio codec for MPEG-4 AVC / H.264 - is supported natively in Chrome, Safari, and Edge, while it is only optionally supported by the OS in Firefox and Opera.","title":"Browsing and Playing Videos"},{"location":"user-guide/organize/video/#live-photos","text":"Short videos up to 3 seconds are categorized and displayed as Live Photos , regardless of your phone's make and model. You can recognize this by the icon that appears in the upper left corner. Move the mouse cursor over the thumbnail to play the video without changing the view. You can limit a search to Live Photos by using the type:live filter or the keyword live .","title":"Live Photos"},{"location":"user-guide/organize/video/#transcoding","text":"Videos in formats other than AVC are transcoded on demand. This can cause unacceptable delays when large video files are played for the first time. In that case, you may run the following command in a terminal to pre-transcode all video originals if needed: docker-compose exec photoprism photoprism convert Make sure that there is enough disk space available on your server before transcoding all video files, as this may require a significant amount of extra storage. HEVC /H.265 video files can have a .mp4 file extension too, which is often associated with AVC only. This is because MP4 is a container format, meaning that the actual video content may be compressed with H.264, H.265, or something else. The file extension doesn't really tell you anything other than that it's probably a video file.","title":"Transcoding"},{"location":"user-guide/organize/views/","text":"Views \u00b6 PhotoPrism provides you three beautiful views to enjoy your photos and videos. Card View Mosaic View List View The card view displays important metadata like title, time and location next to the photos The mosaic view lets you enjoy your photos without distraction The list view provides you photos and metadata in a well-arranged list To switch between views you can either use the filter in the filter bar or the view button ( , , ) in the upper right corner. Additionally you can open your photos/videos in fullscreen mode and start a slideshow ( ).","title":"Views"},{"location":"user-guide/organize/views/#views","text":"PhotoPrism provides you three beautiful views to enjoy your photos and videos. Card View Mosaic View List View The card view displays important metadata like title, time and location next to the photos The mosaic view lets you enjoy your photos without distraction The list view provides you photos and metadata in a well-arranged list To switch between views you can either use the filter in the filter bar or the view button ( , , ) in the upper right corner. Additionally you can open your photos/videos in fullscreen mode and start a slideshow ( ).","title":"Views"},{"location":"user-guide/settings/account/","text":"Account Settings \u00b6 Change Password \u00b6 Click Settings Click Account Enter your current password Enter your new password twice Click Change","title":"Account"},{"location":"user-guide/settings/account/#account-settings","text":"","title":"Account Settings"},{"location":"user-guide/settings/account/#change-password","text":"Click Settings Click Account Enter your current password Enter your new password twice Click Change","title":"Change Password"},{"location":"user-guide/settings/advanced/","text":"Advanced Settings \u00b6 System config options such as the image quality can be changed on the advanced settings page. You can also disable specific features and enable the debug or read-only mode. For security reasons, the advanced settings page is disabled and hidden when running in public mode . Changing config options remains possible directly in the service configuration, via config file, and with command parameters. Changing advanced settings always requires a restart to take effect. Selecting a different thumbnail quality or size won't replace existing thumbnails. You can regenerate them using the command-line interface . All config options can be set in your docker-compose.yml or via command-line parameters as well. Manually changed values are saved in a config file. It is stored in the storage/config folder by default. Options \u00b6 Debug Logs \u00b6 When enabled, debug logs are shown in Library>Logs . Requires restart. The equivalent config toggle is PHOTOPRISM_DEBUG . Read-only Mode \u00b6 When enabled, importing, uploading and deleting files is not possible. The equivalent config toggle is PHOTOPRISM_READONLY . Experimental Features \u00b6 When enabled, your instance will be updated with experimental features. The equivalent config toggle is PHOTOPRISM_EXPERIMENTAL . Disable Backups \u00b6 This option prevents creating the following yml backups: For photos in storage/sidecar For albums, months, states and folders in storage/albums The equivalent config toggle is PHOTOPRISM_DISABLE_BACKUPS . Disable WebDAV \u00b6 This option prevents building WebDav connections. Requires restart for changes to be applied. The equivalent config toggle is PHOTOPRISM_DISABLE_WEBDAV . Disable Places \u00b6 When selected, geo-information (latitude, longitude) will still be read (and indexed) from your files metadata, however PhotoPrism will not use reverse lookup to determine place names using those coordinates as it normally would. The Places section will not be visible. The equivalent config toggle is PHOTOPRISM_DISABLE_PLACES . Disable ExifTool \u00b6 This option prevents the creation of json files with Exif data in storage/sidecar . The equivalent config toggle is PHOTOPRISM_DISABLE_EXIFTOOL . Disable TensorFlow \u00b6 When selected, image classification / object detection (using TensorFlow ) is disabled, so no labels are created for your files. The equivalent config toggle is PHOTOPRISM_DISABLE_TENSORFLOW . Images \u00b6 This section controls how original files are converted to JPEG for use as thumbnails and image previews. Downscaling Filter \u00b6 This selects the algorithm used to generate downsampled JPEG preview images ('thumbnails') from original files. For best quality thumbnails, choose the lanczos downscaling filter, which is slow to process (during thumbnail generation) but generates higher quality thumbnails. By comparison, the cubic filter may be 30% faster. See section below for detailed description of available filters. The equivalent config option is PHOTOPRISM_THUMB_FILTER . Dynamic Previews \u00b6 Enable generating thumbnails on-the-fly as they're required (either for viewing or analysing with TensorFlow). This saves disk space, but is more processor-intensive and so not recommended when hosting on less powerful devices (such as Raspberry Pi). The equivalent config toggle is PHOTOPRISM_THUMB_UNCACHED . JPEG Quality \u00b6 Choose a value above 90 to display your images in the best possible quality. Note that higher values require more space in the storage folder for less compressed thumbnail files, which may also take longer to create. Lower quality thumbnails, on the other hand, are smaller, load faster on slow Internet connections, and require less space in the storage folder and in the browser cache. Quality levels of 90% or higher are generally considered high quality 80% to 90% is considered medium quality 70% to 80% is considered low quality , as you might see with highly compressed content on social media Anything below 70% is generally of very low quality . Example: If a quality of 95 results in a thumbnail file size of 500kB, then reducing the quality to 80 reduces the file size to about 100kB. The equivalent config option is PHOTOPRISM_JPEG_QUALITY . The actual impression depends on how much information an image contains. Empty areas and skies, for example, are easier to compress. Images with a lot of details suffer the most. For this reason, reducing the quality of thumbnails also negatively impacts facial recognition and image classification results. Simply put, this means that the indexer sees fewer details. Dynamic and Static Size Limits \u00b6 Dynamic Size Limit : During dynamic (on-demand) thumbnail generation, no thumbnails will be created above this size. The equivalent config option is PHOTOPRISM_THUMB_SIZE_UNCACHED . Static Size Limit : During initial indexing or import (as thumbnails are generated), no thumbnails will be created above this size. The equivalent config option is PHOTOPRISM_THUMB_SIZE . Reducing the Static Size Limit of thumbnails has a significant impact on facial recognition and image classification results. Simply put, it means that the indexer can no longer see properly. If the configured size limit is exceeded (for example, if users have a larger screen), a sufficiently large thumbnail can't be created, and the photo viewer may be forced to display the original image instead. Downscaling images in browsers typically results in poor quality, and they may also be displayed in the wrong orientation. The smallest configurable size is 720px for consumption by the indexer to perform color detection, face detection, and image classification. Recreating them every time they are needed is too demanding for even the most powerful servers. Unless you only have a few small images, it would render the app unusable. It is recommended that you set these limits high so that browsing pictures is as smooth as possible. However, if the amount of disk storage required is a serious problem, and you are willing to increase server load instead, it is possible to set the Static Size Limit to the minimum of 720px in combination with a higher Dynamic Size Limit . This allows the server to generate larger thumbnails on demand. It may also result in a noticeable delay when viewing pictures in full-screen mode. To view original images, enable Dynamic Previews , and configure Dynamic Size Limit and Static Size Limit to a small value like 720 . When viewing images exceeding that limit, the original files will be displayed. What files will be created by PhotoPrism? \u00b6 The minimum size for static previews is 720px, so all images up to 720x720 will be rendered. Higher static limits will additionally generate previews only up to the defined limit. The files are generated in the storage/cache/thumbnails folder, with file paths dependent on the size and original file's hash, such as: storage/cache/thumbnails/1/a/3/1a30c1f...9_100x100_center.jpg The table below shows each generated size, with the PhotoPrism features using each. Name Width Height Use colors 3 3 Color Detection tile_50 50 50 List Preview tile_100 100 100 Maps Preview tile_224 224 224 Mosaic Preview left_224 224 224 TensorFlow right_224 224 224 TensorFlow tile_500 500 500 Cards Preview fit_720 720 720 Mobile, TV fit_1280 1280 1024 Mobile, HD Ready TV fit_1920 1920 1200 Mobile, Full HD TV fit_2048 2048 2048 Tablets, Cinema 2K fit_2560 2560 1600 Quad HD, Retina Display fit_3840 3840 2400 Ultra HD fit_4096 4096 4096 Ultra HD, Retina 4K fit_7680 7680 4320 8K Ultra HD 2, Retina 6K Downscaling Filters \u00b6 Linear \u00b6 Bilinear interpolation takes a weighted average of the four neighborhood pixels to calculate its final interpolated value. The result is a much smoother image than the original image. When all known pixel distances are equal, then the interpolated value is simply their sum divided by four. This technique performs interpolation in both directions, horizontal and vertical. This technique gives better result than nearest neighbor interpolation and take less computation time compared to bicubic interpolation. Cubic \u00b6 Catmull-Rom is a local interpolating spline developed for computer graphics purposes. Its initial use was in design of curves and surfaces, and has recently been used in several applications. Catmull-Rom splines are a family of cubic interpolating splines formulated such that the tangent at each point is calculated using the previous and next point on the spline. The results are similar to ones produced by bicubic interpolation with regards to sharpness, but the Catmull-Rom reconstruction is clearly superior in smooth signal region. Lanczos \u00b6 The Lanczos interpolation function is a mathematical formula used to smoothly interpolate the value of a digital image between its samples. It maps each sample of the given image to a translated and scaled copy of the Lanczos kernel, which is a sinc function windowed by the central hump of a dilated sinc function. The sum of these translated and scaled kernels is then evaluated at the desired pixel. Lanczos interpolation has the best properties in terms of detail preservation and minimal generation of aliasing artifacts for geometric transformations not involving strong down sampling. However higher order Lanczos interpolation requires high computational time, which makes it unsuitable for most commercial software. Blackman \u00b6 Blackman is a modification of Lanczos that has better control of ringing artifacts. Examples \u00b6 Original image: The same image resized from 600x400px to 150x100px using different resampling filters. From faster (lower quality) to slower (higher quality): Filter Resize result Nearest Neighbor Bilinear Sharp Bicubic Lanczos Source: A Comparative Analysis of Image Interpolation Algorithms RAW Conversion \u00b6 Many photographers keep their originals in some sort of lossless RAW format instead of compressed JPEG, especially when shooting with a Digital SLR. Some mobile phones also support RAW or use HEIC/HEIF for a similar purpose. PhotoPrism aims at providing excellent support for all RAW formats, independent of camera brand and model. Please let us know when there is an issue with your specific device. Web browsers in general cannot display RAW image files. They need to be converted, which is what our import and convert commands do. You'll also find a checkbox for this step in our Web UI . In addition, PhotoPrism also supports TIFF, PNG, BMP and GIF files. Be aware that files in those formats often don't contain useful metadata and are typically used for screenshots, charts, graphs and icons only. Generated sidecar files will be stored outside your originals folder by default, so that RAW to JPEG conversion also works in read-only mode. JPEG Size Limit \u00b6 This controls the maximum size of downsampled JPEG preview files to create when converting original RAW images. The equivalent config toggle is PHOTOPRISM_JPEG_SIZE . Use Presets \u00b6 Disables simultaneous conversion of RAW files to apply Darktable presets. The equivalent config toggle is PHOTOPRISM_RAW_PRESETS . Disable Darktable \u00b6 When disabled Darktable won't be used for RAW conversion. The equivalent config toggle is PHOTOPRISM_DISABLE_DARKTABLE . Disable RawTherapee \u00b6 When disabled RawTherapee won't be used for RAW conversion. The equivalent config toggle is PHOTOPRISM_DISABLE_RAWTHERAPEE . Disable FFmpeg \u00b6 When disabled FFmpeg won't be used for video transcoding. The equivalent config toggle is PHOTOPRISM_DISABLE_FFMPEG .","title":"Advanced"},{"location":"user-guide/settings/advanced/#advanced-settings","text":"System config options such as the image quality can be changed on the advanced settings page. You can also disable specific features and enable the debug or read-only mode. For security reasons, the advanced settings page is disabled and hidden when running in public mode . Changing config options remains possible directly in the service configuration, via config file, and with command parameters. Changing advanced settings always requires a restart to take effect. Selecting a different thumbnail quality or size won't replace existing thumbnails. You can regenerate them using the command-line interface . All config options can be set in your docker-compose.yml or via command-line parameters as well. Manually changed values are saved in a config file. It is stored in the storage/config folder by default.","title":"Advanced Settings"},{"location":"user-guide/settings/advanced/#options","text":"","title":"Options"},{"location":"user-guide/settings/advanced/#debug-logs","text":"When enabled, debug logs are shown in Library>Logs . Requires restart. The equivalent config toggle is PHOTOPRISM_DEBUG .","title":"Debug Logs"},{"location":"user-guide/settings/advanced/#read-only-mode","text":"When enabled, importing, uploading and deleting files is not possible. The equivalent config toggle is PHOTOPRISM_READONLY .","title":"Read-only Mode"},{"location":"user-guide/settings/advanced/#experimental-features","text":"When enabled, your instance will be updated with experimental features. The equivalent config toggle is PHOTOPRISM_EXPERIMENTAL .","title":"Experimental Features"},{"location":"user-guide/settings/advanced/#disable-backups","text":"This option prevents creating the following yml backups: For photos in storage/sidecar For albums, months, states and folders in storage/albums The equivalent config toggle is PHOTOPRISM_DISABLE_BACKUPS .","title":"Disable Backups"},{"location":"user-guide/settings/advanced/#disable-webdav","text":"This option prevents building WebDav connections. Requires restart for changes to be applied. The equivalent config toggle is PHOTOPRISM_DISABLE_WEBDAV .","title":"Disable WebDAV"},{"location":"user-guide/settings/advanced/#disable-places","text":"When selected, geo-information (latitude, longitude) will still be read (and indexed) from your files metadata, however PhotoPrism will not use reverse lookup to determine place names using those coordinates as it normally would. The Places section will not be visible. The equivalent config toggle is PHOTOPRISM_DISABLE_PLACES .","title":"Disable Places"},{"location":"user-guide/settings/advanced/#disable-exiftool","text":"This option prevents the creation of json files with Exif data in storage/sidecar . The equivalent config toggle is PHOTOPRISM_DISABLE_EXIFTOOL .","title":"Disable ExifTool"},{"location":"user-guide/settings/advanced/#disable-tensorflow","text":"When selected, image classification / object detection (using TensorFlow ) is disabled, so no labels are created for your files. The equivalent config toggle is PHOTOPRISM_DISABLE_TENSORFLOW .","title":"Disable TensorFlow"},{"location":"user-guide/settings/advanced/#images","text":"This section controls how original files are converted to JPEG for use as thumbnails and image previews.","title":"Images"},{"location":"user-guide/settings/advanced/#downscaling-filter","text":"This selects the algorithm used to generate downsampled JPEG preview images ('thumbnails') from original files. For best quality thumbnails, choose the lanczos downscaling filter, which is slow to process (during thumbnail generation) but generates higher quality thumbnails. By comparison, the cubic filter may be 30% faster. See section below for detailed description of available filters. The equivalent config option is PHOTOPRISM_THUMB_FILTER .","title":"Downscaling Filter"},{"location":"user-guide/settings/advanced/#dynamic-previews","text":"Enable generating thumbnails on-the-fly as they're required (either for viewing or analysing with TensorFlow). This saves disk space, but is more processor-intensive and so not recommended when hosting on less powerful devices (such as Raspberry Pi). The equivalent config toggle is PHOTOPRISM_THUMB_UNCACHED .","title":"Dynamic Previews"},{"location":"user-guide/settings/advanced/#jpeg-quality","text":"Choose a value above 90 to display your images in the best possible quality. Note that higher values require more space in the storage folder for less compressed thumbnail files, which may also take longer to create. Lower quality thumbnails, on the other hand, are smaller, load faster on slow Internet connections, and require less space in the storage folder and in the browser cache. Quality levels of 90% or higher are generally considered high quality 80% to 90% is considered medium quality 70% to 80% is considered low quality , as you might see with highly compressed content on social media Anything below 70% is generally of very low quality . Example: If a quality of 95 results in a thumbnail file size of 500kB, then reducing the quality to 80 reduces the file size to about 100kB. The equivalent config option is PHOTOPRISM_JPEG_QUALITY . The actual impression depends on how much information an image contains. Empty areas and skies, for example, are easier to compress. Images with a lot of details suffer the most. For this reason, reducing the quality of thumbnails also negatively impacts facial recognition and image classification results. Simply put, this means that the indexer sees fewer details.","title":"JPEG Quality"},{"location":"user-guide/settings/advanced/#dynamic-and-static-size-limits","text":"Dynamic Size Limit : During dynamic (on-demand) thumbnail generation, no thumbnails will be created above this size. The equivalent config option is PHOTOPRISM_THUMB_SIZE_UNCACHED . Static Size Limit : During initial indexing or import (as thumbnails are generated), no thumbnails will be created above this size. The equivalent config option is PHOTOPRISM_THUMB_SIZE . Reducing the Static Size Limit of thumbnails has a significant impact on facial recognition and image classification results. Simply put, it means that the indexer can no longer see properly. If the configured size limit is exceeded (for example, if users have a larger screen), a sufficiently large thumbnail can't be created, and the photo viewer may be forced to display the original image instead. Downscaling images in browsers typically results in poor quality, and they may also be displayed in the wrong orientation. The smallest configurable size is 720px for consumption by the indexer to perform color detection, face detection, and image classification. Recreating them every time they are needed is too demanding for even the most powerful servers. Unless you only have a few small images, it would render the app unusable. It is recommended that you set these limits high so that browsing pictures is as smooth as possible. However, if the amount of disk storage required is a serious problem, and you are willing to increase server load instead, it is possible to set the Static Size Limit to the minimum of 720px in combination with a higher Dynamic Size Limit . This allows the server to generate larger thumbnails on demand. It may also result in a noticeable delay when viewing pictures in full-screen mode. To view original images, enable Dynamic Previews , and configure Dynamic Size Limit and Static Size Limit to a small value like 720 . When viewing images exceeding that limit, the original files will be displayed.","title":"Dynamic and Static Size Limits"},{"location":"user-guide/settings/advanced/#what-files-will-be-created-by-photoprism","text":"The minimum size for static previews is 720px, so all images up to 720x720 will be rendered. Higher static limits will additionally generate previews only up to the defined limit. The files are generated in the storage/cache/thumbnails folder, with file paths dependent on the size and original file's hash, such as: storage/cache/thumbnails/1/a/3/1a30c1f...9_100x100_center.jpg The table below shows each generated size, with the PhotoPrism features using each. Name Width Height Use colors 3 3 Color Detection tile_50 50 50 List Preview tile_100 100 100 Maps Preview tile_224 224 224 Mosaic Preview left_224 224 224 TensorFlow right_224 224 224 TensorFlow tile_500 500 500 Cards Preview fit_720 720 720 Mobile, TV fit_1280 1280 1024 Mobile, HD Ready TV fit_1920 1920 1200 Mobile, Full HD TV fit_2048 2048 2048 Tablets, Cinema 2K fit_2560 2560 1600 Quad HD, Retina Display fit_3840 3840 2400 Ultra HD fit_4096 4096 4096 Ultra HD, Retina 4K fit_7680 7680 4320 8K Ultra HD 2, Retina 6K","title":"What files will be created by PhotoPrism?"},{"location":"user-guide/settings/advanced/#downscaling-filters","text":"","title":"Downscaling Filters"},{"location":"user-guide/settings/advanced/#linear","text":"Bilinear interpolation takes a weighted average of the four neighborhood pixels to calculate its final interpolated value. The result is a much smoother image than the original image. When all known pixel distances are equal, then the interpolated value is simply their sum divided by four. This technique performs interpolation in both directions, horizontal and vertical. This technique gives better result than nearest neighbor interpolation and take less computation time compared to bicubic interpolation.","title":"Linear"},{"location":"user-guide/settings/advanced/#cubic","text":"Catmull-Rom is a local interpolating spline developed for computer graphics purposes. Its initial use was in design of curves and surfaces, and has recently been used in several applications. Catmull-Rom splines are a family of cubic interpolating splines formulated such that the tangent at each point is calculated using the previous and next point on the spline. The results are similar to ones produced by bicubic interpolation with regards to sharpness, but the Catmull-Rom reconstruction is clearly superior in smooth signal region.","title":"Cubic"},{"location":"user-guide/settings/advanced/#lanczos","text":"The Lanczos interpolation function is a mathematical formula used to smoothly interpolate the value of a digital image between its samples. It maps each sample of the given image to a translated and scaled copy of the Lanczos kernel, which is a sinc function windowed by the central hump of a dilated sinc function. The sum of these translated and scaled kernels is then evaluated at the desired pixel. Lanczos interpolation has the best properties in terms of detail preservation and minimal generation of aliasing artifacts for geometric transformations not involving strong down sampling. However higher order Lanczos interpolation requires high computational time, which makes it unsuitable for most commercial software.","title":"Lanczos"},{"location":"user-guide/settings/advanced/#blackman","text":"Blackman is a modification of Lanczos that has better control of ringing artifacts.","title":"Blackman"},{"location":"user-guide/settings/advanced/#examples","text":"Original image: The same image resized from 600x400px to 150x100px using different resampling filters. From faster (lower quality) to slower (higher quality): Filter Resize result Nearest Neighbor Bilinear Sharp Bicubic Lanczos Source: A Comparative Analysis of Image Interpolation Algorithms","title":"Examples"},{"location":"user-guide/settings/advanced/#raw-conversion","text":"Many photographers keep their originals in some sort of lossless RAW format instead of compressed JPEG, especially when shooting with a Digital SLR. Some mobile phones also support RAW or use HEIC/HEIF for a similar purpose. PhotoPrism aims at providing excellent support for all RAW formats, independent of camera brand and model. Please let us know when there is an issue with your specific device. Web browsers in general cannot display RAW image files. They need to be converted, which is what our import and convert commands do. You'll also find a checkbox for this step in our Web UI . In addition, PhotoPrism also supports TIFF, PNG, BMP and GIF files. Be aware that files in those formats often don't contain useful metadata and are typically used for screenshots, charts, graphs and icons only. Generated sidecar files will be stored outside your originals folder by default, so that RAW to JPEG conversion also works in read-only mode.","title":"RAW Conversion"},{"location":"user-guide/settings/advanced/#jpeg-size-limit","text":"This controls the maximum size of downsampled JPEG preview files to create when converting original RAW images. The equivalent config toggle is PHOTOPRISM_JPEG_SIZE .","title":"JPEG Size Limit"},{"location":"user-guide/settings/advanced/#use-presets","text":"Disables simultaneous conversion of RAW files to apply Darktable presets. The equivalent config toggle is PHOTOPRISM_RAW_PRESETS .","title":"Use Presets"},{"location":"user-guide/settings/advanced/#disable-darktable","text":"When disabled Darktable won't be used for RAW conversion. The equivalent config toggle is PHOTOPRISM_DISABLE_DARKTABLE .","title":"Disable Darktable"},{"location":"user-guide/settings/advanced/#disable-rawtherapee","text":"When disabled RawTherapee won't be used for RAW conversion. The equivalent config toggle is PHOTOPRISM_DISABLE_RAWTHERAPEE .","title":"Disable RawTherapee"},{"location":"user-guide/settings/advanced/#disable-ffmpeg","text":"When disabled FFmpeg won't be used for video transcoding. The equivalent config toggle is PHOTOPRISM_DISABLE_FFMPEG .","title":"Disable FFmpeg"},{"location":"user-guide/settings/general/","text":"General Settings \u00b6 In the General settings tab, you can configure basic user interface settings as well as the maps in Places : User Interface \u00b6 You can change the theme and language of the User interface. To make PhotoPrism suite your individual needs the following sections and functionalities can be en- or disabled. Disabled sections do not appear in the main navigation. Upload \u00b6 When disabled, uploading files via upload is not possible. This might be useful when you grant others access to your PhotoPrism but do not want them to upload photos. Download \u00b6 When disabled, no files can be downloaded. Share \u00b6 When disabled, album sharing and upload to remote services like ownCloud is not possible. People \u00b6 When disabled, the people section is hidden. To disable face detection while indexing, you may set PHOTOPRISM_DISABLE_FACES and/or PHOTOPRISM_DISABLE_TENSORFLOW to \"true\" in your config . Hide Private \u00b6 Excludes content marked as private from search results, shared albums, labels and places. Archive \u00b6 When disabled, there is no Archive . Photos that have been archived beforehand will appear again in search results. Edit \u00b6 When disabled, it is not possible to edit photo information. Delete \u00b6 When disabled, permanent deletion of files from the archive is not possible. Originals \u00b6 When disabled, there is no Originals section. Moments \u00b6 When disabled, there is no Moments section. Labels \u00b6 When disabled, there is no Labels section and you cannot add or edit labels. Library \u00b6 When disabled, there is no Library section. Import \u00b6 When disabled, there is no possibility to import photos. You need to use index instead to add new photos. Logs \u00b6 When disabled, server logs are not shown. Places \u00b6 When disabled, there is no Places section. Places \u00b6 At the bottom of the General settings tab, you may choose your preferred map style and animation length for Places . PhotoPrism includes four high-resolution world maps to see where you've been, and for rediscovering long-forgotten shots. To enhance your photos with location data such as state, city and category, we've also launched our own geo-information service based on OpenStreetMap. A future release will additionally provide public events' data, so that albums of popular music festivals, or sports gatherings, can be created automatically.","title":"General"},{"location":"user-guide/settings/general/#general-settings","text":"In the General settings tab, you can configure basic user interface settings as well as the maps in Places :","title":"General Settings"},{"location":"user-guide/settings/general/#user-interface","text":"You can change the theme and language of the User interface. To make PhotoPrism suite your individual needs the following sections and functionalities can be en- or disabled. Disabled sections do not appear in the main navigation.","title":"User Interface"},{"location":"user-guide/settings/general/#upload","text":"When disabled, uploading files via upload is not possible. This might be useful when you grant others access to your PhotoPrism but do not want them to upload photos.","title":" Upload"},{"location":"user-guide/settings/general/#download","text":"When disabled, no files can be downloaded.","title":" Download"},{"location":"user-guide/settings/general/#share","text":"When disabled, album sharing and upload to remote services like ownCloud is not possible.","title":" Share"},{"location":"user-guide/settings/general/#people","text":"When disabled, the people section is hidden. To disable face detection while indexing, you may set PHOTOPRISM_DISABLE_FACES and/or PHOTOPRISM_DISABLE_TENSORFLOW to \"true\" in your config .","title":" People"},{"location":"user-guide/settings/general/#hide-private","text":"Excludes content marked as private from search results, shared albums, labels and places.","title":" Hide Private"},{"location":"user-guide/settings/general/#archive","text":"When disabled, there is no Archive . Photos that have been archived beforehand will appear again in search results.","title":" Archive"},{"location":"user-guide/settings/general/#edit","text":"When disabled, it is not possible to edit photo information.","title":" Edit"},{"location":"user-guide/settings/general/#delete","text":"When disabled, permanent deletion of files from the archive is not possible.","title":" Delete"},{"location":"user-guide/settings/general/#originals","text":"When disabled, there is no Originals section.","title":" Originals"},{"location":"user-guide/settings/general/#moments","text":"When disabled, there is no Moments section.","title":" Moments"},{"location":"user-guide/settings/general/#labels","text":"When disabled, there is no Labels section and you cannot add or edit labels.","title":" Labels"},{"location":"user-guide/settings/general/#library","text":"When disabled, there is no Library section.","title":" Library"},{"location":"user-guide/settings/general/#import","text":"When disabled, there is no possibility to import photos. You need to use index instead to add new photos.","title":" Import"},{"location":"user-guide/settings/general/#logs","text":"When disabled, server logs are not shown.","title":" Logs"},{"location":"user-guide/settings/general/#places","text":"When disabled, there is no Places section.","title":" Places"},{"location":"user-guide/settings/general/#places_1","text":"At the bottom of the General settings tab, you may choose your preferred map style and animation length for Places . PhotoPrism includes four high-resolution world maps to see where you've been, and for rediscovering long-forgotten shots. To enhance your photos with location data such as state, city and category, we've also launched our own geo-information service based on OpenStreetMap. A future release will additionally provide public events' data, so that albums of popular music festivals, or sports gatherings, can be created automatically.","title":"Places"},{"location":"user-guide/settings/library/","text":"Library Settings \u00b6 Index \u00b6 Estimates \u00b6 Estimate the approximate location of pictures without coordinates. Quality Filter \u00b6 Non-photographic and low-quality images require a review before they appear in search results. Convert to JPEG \u00b6 Automatically creates JPEGs for other file types so that they can be displayed in a browser. Convert to JPEG should not be disabled as this will effectively prevent PhotoPrism from indexing file types other than JPEG - unless files were already converted to JPEG, and stored using the same file name prefix. Stacks \u00b6 Stacks group files with a similar frame of reference, but differences of quality, format, size or color. Go to Photos > Stacks to see all photo stacks in your library. PhotoPrism offers three methods for stacking files: Place & Time Unique ID Sequential Name","title":"Library"},{"location":"user-guide/settings/library/#library-settings","text":"","title":"Library Settings"},{"location":"user-guide/settings/library/#index","text":"","title":"Index"},{"location":"user-guide/settings/library/#estimates","text":"Estimate the approximate location of pictures without coordinates.","title":" Estimates"},{"location":"user-guide/settings/library/#quality-filter","text":"Non-photographic and low-quality images require a review before they appear in search results.","title":" Quality Filter"},{"location":"user-guide/settings/library/#convert-to-jpeg","text":"Automatically creates JPEGs for other file types so that they can be displayed in a browser. Convert to JPEG should not be disabled as this will effectively prevent PhotoPrism from indexing file types other than JPEG - unless files were already converted to JPEG, and stored using the same file name prefix.","title":" Convert to JPEG"},{"location":"user-guide/settings/library/#stacks","text":"Stacks group files with a similar frame of reference, but differences of quality, format, size or color. Go to Photos > Stacks to see all photo stacks in your library. PhotoPrism offers three methods for stacking files: Place & Time Unique ID Sequential Name","title":"Stacks"},{"location":"user-guide/settings/sync/","text":"Sync Settings \u00b6 This page describes how PhotoPrism can sync files from an external storage system (like ownCloud) via WebDAV. PhotoPrism can also serve/share files via WebDAV to be browsed on macOS or Windows. See instructions . Connect to a WebDAV Server \u00b6 PhotoPrism may connect with WebDAV servers like a second PhotoPrism instance or ownCloud, so that you can automatically sync your latest pictures. To connect: Go to Settings Open Sync tab Click Add Server Fill in your WebDAV server url, username and password Click connect Now the other WebDAV server is connected with PhotoPrism Manually Upload Files to a WebDAV Server \u00b6 To configure manual upload: Go to Settings Open Sync tab Click into the upload cell of your server 4. Select the folder to which photos should be uploaded and click save To upload files from PhotoPrism to the WebDAV server: Go to Search Select photos you want to upload Open the context menu Click Select your server account and click upload Due to problems with some Nextcloud settings it might be that uploading to Nextcloud results in 0 byte files. You find information on how to solve it here . Automatically Upload/Download Files to/from a WebDAV Server \u00b6 Go to Settings Open Sync tab Click into the sync cell of your server Enable synchronization in the upper right corner Choose a folder on your server Choose a sync interval Select the options that are suitable for you and click Save Remote Sync Options \u00b6 Download remote files will download all files from the selected folder on your server that do not yet exist in PhotoPrism Upload local files will upload all files (including private or archived ones) from PhotoPrism to your server that do not yet exist there Preserve filenames will keep filenames from your server without renaming them Sync raw and video files will upload/download raw and video files alongside with JPEGS","title":"Sync"},{"location":"user-guide/settings/sync/#sync-settings","text":"This page describes how PhotoPrism can sync files from an external storage system (like ownCloud) via WebDAV. PhotoPrism can also serve/share files via WebDAV to be browsed on macOS or Windows. See instructions .","title":"Sync Settings"},{"location":"user-guide/settings/sync/#connect-to-a-webdav-server","text":"PhotoPrism may connect with WebDAV servers like a second PhotoPrism instance or ownCloud, so that you can automatically sync your latest pictures. To connect: Go to Settings Open Sync tab Click Add Server Fill in your WebDAV server url, username and password Click connect Now the other WebDAV server is connected with PhotoPrism","title":"Connect to a WebDAV Server"},{"location":"user-guide/settings/sync/#manually-upload-files-to-a-webdav-server","text":"To configure manual upload: Go to Settings Open Sync tab Click into the upload cell of your server 4. Select the folder to which photos should be uploaded and click save To upload files from PhotoPrism to the WebDAV server: Go to Search Select photos you want to upload Open the context menu Click Select your server account and click upload Due to problems with some Nextcloud settings it might be that uploading to Nextcloud results in 0 byte files. You find information on how to solve it here .","title":"Manually Upload Files to a WebDAV Server"},{"location":"user-guide/settings/sync/#automatically-uploaddownload-files-tofrom-a-webdav-server","text":"Go to Settings Open Sync tab Click into the sync cell of your server Enable synchronization in the upper right corner Choose a folder on your server Choose a sync interval Select the options that are suitable for you and click Save","title":"Automatically Upload/Download Files to/from a WebDAV Server"},{"location":"user-guide/settings/sync/#remote-sync-options","text":"Download remote files will download all files from the selected folder on your server that do not yet exist in PhotoPrism Upload local files will upload all files (including private or archived ones) from PhotoPrism to your server that do not yet exist there Preserve filenames will keep filenames from your server without renaming them Sync raw and video files will upload/download raw and video files alongside with JPEGS","title":"Remote Sync Options"},{"location":"user-guide/share/share/","text":"Sharing Albums via Link \u00b6 Create sharing links to share albums, moments or folders with your friends. Your friends are able to view and download photos from shared albums. Photos marked as private won't show up. Support for optional password protection of sharing links as well as other improvements are planned . Create Sharing Link \u00b6 Using Context Menu Via Toolbar Go to Albums Select the album you want to share Open the context menu Click Go to Albums Open the album by clicking on it Click Then Click to open the link details Set a secret and expiry date Click save Copy the link by clicking on it Share it with your friends You can create additional links with different secrets and expiry dates by clicking . Delete Sharing Link \u00b6 Go to Albums Click on the album cover Click Click","title":"Album Link"},{"location":"user-guide/share/share/#sharing-albums-via-link","text":"Create sharing links to share albums, moments or folders with your friends. Your friends are able to view and download photos from shared albums. Photos marked as private won't show up. Support for optional password protection of sharing links as well as other improvements are planned .","title":"Sharing Albums via Link"},{"location":"user-guide/share/share/#create-sharing-link","text":"Using Context Menu Via Toolbar Go to Albums Select the album you want to share Open the context menu Click Go to Albums Open the album by clicking on it Click Then Click to open the link details Set a secret and expiry date Click save Copy the link by clicking on it Share it with your friends You can create additional links with different secrets and expiry dates by clicking .","title":"Create Sharing Link"},{"location":"user-guide/share/share/#delete-sharing-link","text":"Go to Albums Click on the album cover Click Click","title":"Delete Sharing Link"},{"location":"user-guide/sync/dropbox/","text":"Syncing with Dropbox \u00b6 Note: This is contributed content. It's possible to use Dropbox to store your photos, while viewing and managing them through PhotoPrism. Set up a Dropbox account. Install the Dropbox desktop client. Sync your Dropbox to a local directory. If using Docker, configure your docker-compose.yml with; volumes: - \"~/Dropbox/Photos:/photoprism/originals\" Follow the PhotoPrism getting started guide as normal. Auto-upload from Mobile \u00b6 The Dropbox mobile apps also have a 'Camera Upload' feature which syncs photos to Dropbox, and then to any machine with Dropbox installed. To auto-import uploaded files into PhotoPrism; Install the Dropbox iOS or Android app. Enable 'Camera Uploads' in the Dropbox app's settings. Install the Dropbox desktop client on your server or a network-accessible machine Configure the Camera Uploads folder as your import directory for PhotoPrism. In your docker-compose.yml file, this is; volumes: - \"~/Dropbox/Camera Uploads:/photoprism/import\" Optional: Enable 'delete on import' in PhotoPrism's settings to delete imported files from Dropbox. This saves Dropbox space, allowing you to remain within the 2 GB free tier. The Dropbox mobile app needs to be opened periodically or it tends to fail to identify and sync new photos. Smart / Selective Sync \u00b6 A useful (although paid) feature is Dropbox Smart Sync (with optional auto-evict) which will download the files from Dropbox's servers only when you (or PhotoPrism) accesses them (such as during initial indexing, or when downloading an original file via the PhotoPrism interface). This can save space on your server by automically offloading the originals unless/until they're viewed.","title":"Dropbox"},{"location":"user-guide/sync/dropbox/#syncing-with-dropbox","text":"Note: This is contributed content. It's possible to use Dropbox to store your photos, while viewing and managing them through PhotoPrism. Set up a Dropbox account. Install the Dropbox desktop client. Sync your Dropbox to a local directory. If using Docker, configure your docker-compose.yml with; volumes: - \"~/Dropbox/Photos:/photoprism/originals\" Follow the PhotoPrism getting started guide as normal.","title":"Syncing with Dropbox"},{"location":"user-guide/sync/dropbox/#auto-upload-from-mobile","text":"The Dropbox mobile apps also have a 'Camera Upload' feature which syncs photos to Dropbox, and then to any machine with Dropbox installed. To auto-import uploaded files into PhotoPrism; Install the Dropbox iOS or Android app. Enable 'Camera Uploads' in the Dropbox app's settings. Install the Dropbox desktop client on your server or a network-accessible machine Configure the Camera Uploads folder as your import directory for PhotoPrism. In your docker-compose.yml file, this is; volumes: - \"~/Dropbox/Camera Uploads:/photoprism/import\" Optional: Enable 'delete on import' in PhotoPrism's settings to delete imported files from Dropbox. This saves Dropbox space, allowing you to remain within the 2 GB free tier. The Dropbox mobile app needs to be opened periodically or it tends to fail to identify and sync new photos.","title":"Auto-upload from Mobile"},{"location":"user-guide/sync/dropbox/#smart-selective-sync","text":"A useful (although paid) feature is Dropbox Smart Sync (with optional auto-evict) which will download the files from Dropbox's servers only when you (or PhotoPrism) accesses them (such as during initial indexing, or when downloading an original file via the PhotoPrism interface). This can save space on your server by automically offloading the originals unless/until they're viewed.","title":"Smart / Selective Sync"},{"location":"user-guide/sync/mobile-devices/","text":"Syncing with Mobile Devices \u00b6 To sync photos and videos on your phone with PhotoPrism, you can use any app that supports WebDAV. You can disable WebDAV in Advanced Settings . For security reasons, the built-in WebDAV server is automatically disabled when running in public mode without authentication. PhotoSync \u00b6 We recommend PhotoSync which is available for Android and iOS. Set PhotoPrism as Target \u00b6 If you are using PhotoSync on Android you need to choose WebDAV as target. Open PhotoSync and click Click Configure Select PhotoPrism as target Enter your settings Click Done You may adapt transfer details to match your preferences Set Up Automatic Sync \u00b6 Open PhotoSync and click Click Autotransfer Click Add new trigger and choose one or more trigger Choose PhotoPrism as target Click Done Because PhotoSync uses WebDAV to send files, PhotoPrism automatically starts importing/indexing when it receives new files. Other Apps \u00b6 As long as you run PhotoPrism on a device where it is possible to enable Samba (Windows File Sharing), you can use this free opensource Android app: SMBSync2 - Github | SMBSync2 - Google Play","title":"Mobile Devices"},{"location":"user-guide/sync/mobile-devices/#syncing-with-mobile-devices","text":"To sync photos and videos on your phone with PhotoPrism, you can use any app that supports WebDAV. You can disable WebDAV in Advanced Settings . For security reasons, the built-in WebDAV server is automatically disabled when running in public mode without authentication.","title":"Syncing with Mobile Devices"},{"location":"user-guide/sync/mobile-devices/#photosync","text":"We recommend PhotoSync which is available for Android and iOS.","title":"PhotoSync"},{"location":"user-guide/sync/mobile-devices/#set-photoprism-as-target","text":"If you are using PhotoSync on Android you need to choose WebDAV as target. Open PhotoSync and click Click Configure Select PhotoPrism as target Enter your settings Click Done You may adapt transfer details to match your preferences","title":"Set PhotoPrism as Target"},{"location":"user-guide/sync/mobile-devices/#set-up-automatic-sync","text":"Open PhotoSync and click Click Autotransfer Click Add new trigger and choose one or more trigger Choose PhotoPrism as target Click Done Because PhotoSync uses WebDAV to send files, PhotoPrism automatically starts importing/indexing when it receives new files.","title":"Set Up Automatic Sync"},{"location":"user-guide/sync/mobile-devices/#other-apps","text":"As long as you run PhotoPrism on a device where it is possible to enable Samba (Windows File Sharing), you can use this free opensource Android app: SMBSync2 - Github | SMBSync2 - Google Play","title":"Other Apps"},{"location":"user-guide/sync/webdav/","text":"Connecting via WebDAV \u00b6 WebDAV-compatible apps and clients such as PhotoSync , Microsoft's Windows Explorer, and Apple's Finder can connect directly to PhotoPrism. This mounts the originals and/or import folder as a network drive, allowing you to open, edit, and delete files from a remote device as if they were local. After files have been transferred, you can index or import them as usual. By default, indexing and importing start automatically after a safety delay when files have been uploaded using WebDAV. You can disable WebDAV in Advanced Settings . For security reasons, the built-in WebDAV server is automatically disabled when running in public mode without authentication. It is also possible to sync files with external WebDAV servers such as ownCloud or other PhotoPrism instances. Server URL \u00b6 The originals folder URL for a server exposed to the public Internet is: https://admin@example.com/originals/ or \\\\example.com@SSL\\originals\\ for Windows 10. Please replace example.com with your actual domain. The slash at the end is important and cannot be omitted. When connecting, you'll have to authenticate using your regular password. It will also change when you update it in Settings . The username is admin . You can also connect to the import folder by replacing originals/ with import/ in the URL. For users, who are running PhotoPrism locally on the default port 2342 , the originals folder URL is: http://admin@localhost:2342/originals/ Never use WebDAV without HTTPS outside your local, private network as your password would be transmitted, in clear text, over the Internet. Backup tools and file sync apps like FolderSync may refuse to connect as well. Connect to a WebDAV Server \u00b6 macOS Windows 10 In the Finder on your Mac, choose Go > Connect to Server Enter the URL as shown above in the Server Address field Click Connect Open Windows File Explorer Right click This PC From the dropdown, select Map network drive... Enter the drive letter and folder you want to map your WebDAV connection to Check the boxes Reconnect at sign-in and Connect using different credentials Click the Connect to a Web site that you can use to store your documents and pictures link Click Next Click Choose a custom network location and then click Next In the Internet or network address field, enter the URL as shown above and click Next Enter your username and password and click Ok Enter a name for the network location and click Next Click Finish The originals folder appears as a mapped drive in Windows Explorer, and you can immediately add, edit, or delete files and directories using the Windows File Explorer. If you still have trouble connecting via WebDAV, you may have to update the Basic Authentication Level in the registry.","title":"WebDAV"},{"location":"user-guide/sync/webdav/#connecting-via-webdav","text":"WebDAV-compatible apps and clients such as PhotoSync , Microsoft's Windows Explorer, and Apple's Finder can connect directly to PhotoPrism. This mounts the originals and/or import folder as a network drive, allowing you to open, edit, and delete files from a remote device as if they were local. After files have been transferred, you can index or import them as usual. By default, indexing and importing start automatically after a safety delay when files have been uploaded using WebDAV. You can disable WebDAV in Advanced Settings . For security reasons, the built-in WebDAV server is automatically disabled when running in public mode without authentication. It is also possible to sync files with external WebDAV servers such as ownCloud or other PhotoPrism instances.","title":"Connecting via WebDAV"},{"location":"user-guide/sync/webdav/#server-url","text":"The originals folder URL for a server exposed to the public Internet is: https://admin@example.com/originals/ or \\\\example.com@SSL\\originals\\ for Windows 10. Please replace example.com with your actual domain. The slash at the end is important and cannot be omitted. When connecting, you'll have to authenticate using your regular password. It will also change when you update it in Settings . The username is admin . You can also connect to the import folder by replacing originals/ with import/ in the URL. For users, who are running PhotoPrism locally on the default port 2342 , the originals folder URL is: http://admin@localhost:2342/originals/ Never use WebDAV without HTTPS outside your local, private network as your password would be transmitted, in clear text, over the Internet. Backup tools and file sync apps like FolderSync may refuse to connect as well.","title":"Server URL"},{"location":"user-guide/sync/webdav/#connect-to-a-webdav-server","text":"macOS Windows 10 In the Finder on your Mac, choose Go > Connect to Server Enter the URL as shown above in the Server Address field Click Connect Open Windows File Explorer Right click This PC From the dropdown, select Map network drive... Enter the drive letter and folder you want to map your WebDAV connection to Check the boxes Reconnect at sign-in and Connect using different credentials Click the Connect to a Web site that you can use to store your documents and pictures link Click Next Click Choose a custom network location and then click Next In the Internet or network address field, enter the URL as shown above and click Next Enter your username and password and click Ok Enter a name for the network location and click Next Click Finish The originals folder appears as a mapped drive in Windows Explorer, and you can immediately add, edit, or delete files and directories using the Windows File Explorer. If you still have trouble connecting via WebDAV, you may have to update the Basic Authentication Level in the registry.","title":"Connect to a WebDAV Server"},{"location":"user-guide/use-cases/apple/","text":"Migrate from Apple Photos \u00b6 Transfer Files \u00b6 Select the files or albums you want to export Click File > Export > Export Unmodified Original For Photos Select Export IPTC as XMP Click Export Move the exported files/folders to your originals or import diectory and start indexing or importing Metadata \u00b6 Apple saves the following information in it's XMP files: Title Description TakenAt Date Keywords (include people) GPS information The following metadata is read by PhotoPrism from the exported XMP files for each photo during indexing: Title Description TakenAt Date Keywords","title":"Apple Photos"},{"location":"user-guide/use-cases/apple/#migrate-from-apple-photos","text":"","title":"Migrate from Apple Photos"},{"location":"user-guide/use-cases/apple/#transfer-files","text":"Select the files or albums you want to export Click File > Export > Export Unmodified Original For Photos Select Export IPTC as XMP Click Export Move the exported files/folders to your originals or import diectory and start indexing or importing","title":"Transfer Files"},{"location":"user-guide/use-cases/apple/#metadata","text":"Apple saves the following information in it's XMP files: Title Description TakenAt Date Keywords (include people) GPS information The following metadata is read by PhotoPrism from the exported XMP files for each photo during indexing: Title Description TakenAt Date Keywords","title":"Metadata"},{"location":"user-guide/use-cases/flickr/","text":"Migrate from Flickr \u00b6 Transfer Files \u00b6 Go to https://www.flickr.com/account Request your Flickr data Depending on the amount of photos it can take a few days for your data to be exported Download your data and add it to your originals directory (including json files) Start indexing","title":"Flickr"},{"location":"user-guide/use-cases/flickr/#migrate-from-flickr","text":"","title":"Migrate from Flickr"},{"location":"user-guide/use-cases/flickr/#transfer-files","text":"Go to https://www.flickr.com/account Request your Flickr data Depending on the amount of photos it can take a few days for your data to be exported Download your data and add it to your originals directory (including json files) Start indexing","title":"Transfer Files"},{"location":"user-guide/use-cases/google/","text":"Migrate from Google Photos \u00b6 Transfer Files \u00b6 Go to Google Takeout Click Deselect all then check only Google Photos . Trigger the export of your Google Photos Data. Depending on the number of photos, it can take a few days for your data to be exported Download your data and extract all archives into to your originals or import folder the folder should include the photos themselves, alongside json files for each of the photos Start indexing or importing Metadata \u00b6 The following metadata is read by PhotoPrism from each photo's JSON file Title Description Geolocation Info (lat/long) Date/Time Taken Date/Time Created Date/Time Updated Transfer Albums \u00b6 Google Photos albums won't be automatically imported yet as we're trying to find a way to deal with auto-generated albums users may not want to import. The community has created a bash script to import albums from a Google Takeout. For more information and support, see the project page on Github: https://github.com/inthreedee/photoprism-transfer-album","title":"Google Photos"},{"location":"user-guide/use-cases/google/#migrate-from-google-photos","text":"","title":"Migrate from Google Photos"},{"location":"user-guide/use-cases/google/#transfer-files","text":"Go to Google Takeout Click Deselect all then check only Google Photos . Trigger the export of your Google Photos Data. Depending on the number of photos, it can take a few days for your data to be exported Download your data and extract all archives into to your originals or import folder the folder should include the photos themselves, alongside json files for each of the photos Start indexing or importing","title":"Transfer Files"},{"location":"user-guide/use-cases/google/#metadata","text":"The following metadata is read by PhotoPrism from each photo's JSON file Title Description Geolocation Info (lat/long) Date/Time Taken Date/Time Created Date/Time Updated","title":"Metadata"},{"location":"user-guide/use-cases/google/#transfer-albums","text":"Google Photos albums won't be automatically imported yet as we're trying to find a way to deal with auto-generated albums users may not want to import. The community has created a bash script to import albums from a Google Takeout. For more information and support, see the project page on Github: https://github.com/inthreedee/photoprism-transfer-album","title":"Transfer Albums"}]}